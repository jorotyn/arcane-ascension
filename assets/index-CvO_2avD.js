(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function i0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Iu={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function l_(){if(Jp)return Ks;Jp=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(r,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var p in c)p!=="key"&&(d[p]=c[p])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:m,ref:c!==void 0?c:null,props:d}}return Ks.Fragment=i,Ks.jsx=o,Ks.jsxs=o,Ks}var eg;function c_(){return eg||(eg=1,Iu.exports=l_()),Iu.exports}var u=c_(),Tu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function u_(){if(tg)return ve;tg=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function I(N,$,te){this.props=N,this.context=$,this.refs=M,this.updater=te||x}I.prototype.isReactComponent={},I.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},I.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function E(){}E.prototype=I.prototype;function R(N,$,te){this.props=N,this.context=$,this.refs=M,this.updater=te||x}var w=R.prototype=new E;w.constructor=R,T(w,I.prototype),w.isPureReactComponent=!0;var O=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function X(N,$,te,J,ae,ye){return te=ye.ref,{$$typeof:a,type:N,key:$,ref:te!==void 0?te:null,props:ye}}function C(N,$){return X(N.type,$,void 0,void 0,void 0,N.props)}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function z(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(te){return $[te]})}var Z=/\/+/g;function se(N,$){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):$.toString(36)}function ie(){}function he(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ie,ie):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ue(N,$,te,J,ae){var ye=typeof N;(ye==="undefined"||ye==="boolean")&&(N=null);var le=!1;if(N===null)le=!0;else switch(ye){case"bigint":case"string":case"number":le=!0;break;case"object":switch(N.$$typeof){case a:case i:le=!0;break;case g:return le=N._init,ue(le(N._payload),$,te,J,ae)}}if(le)return ae=ae(N),le=J===""?"."+se(N,0):J,O(ae)?(te="",le!=null&&(te=le.replace(Z,"$&/")+"/"),ue(ae,$,te,"",function(ze){return ze})):ae!=null&&(V(ae)&&(ae=C(ae,te+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(Z,"$&/")+"/")+le)),$.push(ae)),1;le=0;var W=J===""?".":J+":";if(O(N))for(var re=0;re<N.length;re++)J=N[re],ye=W+se(J,re),le+=ue(J,$,te,ye,ae);else if(re=_(N),typeof re=="function")for(N=re.call(N),re=0;!(J=N.next()).done;)J=J.value,ye=W+se(J,re++),le+=ue(J,$,te,ye,ae);else if(ye==="object"){if(typeof N.then=="function")return ue(he(N),$,te,J,ae);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return le}function q(N,$,te){if(N==null)return N;var J=[],ae=0;return ue(N,J,"","",function(ye){return $.call(te,ye,ae++)}),J}function Q(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(te){(N._status===0||N._status===-1)&&(N._status=1,N._result=te)},function(te){(N._status===0||N._status===-1)&&(N._status=2,N._result=te)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var ee=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function me(){}return ve.Children={map:q,forEach:function(N,$,te){q(N,function(){$.apply(this,arguments)},te)},count:function(N){var $=0;return q(N,function(){$++}),$},toArray:function(N){return q(N,function($){return $})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ve.Component=I,ve.Fragment=o,ve.Profiler=c,ve.PureComponent=R,ve.StrictMode=r,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return k.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cloneElement=function(N,$,te){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=T({},N.props),ae=N.key,ye=void 0;if($!=null)for(le in $.ref!==void 0&&(ye=void 0),$.key!==void 0&&(ae=""+$.key),$)!G.call($,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&$.ref===void 0||(J[le]=$[le]);var le=arguments.length-2;if(le===1)J.children=te;else if(1<le){for(var W=Array(le),re=0;re<le;re++)W[re]=arguments[re+2];J.children=W}return X(N.type,ae,void 0,void 0,ye,J)},ve.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},ve.createElement=function(N,$,te){var J,ae={},ye=null;if($!=null)for(J in $.key!==void 0&&(ye=""+$.key),$)G.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ae[J]=$[J]);var le=arguments.length-2;if(le===1)ae.children=te;else if(1<le){for(var W=Array(le),re=0;re<le;re++)W[re]=arguments[re+2];ae.children=W}if(N&&N.defaultProps)for(J in le=N.defaultProps,le)ae[J]===void 0&&(ae[J]=le[J]);return X(N,ye,void 0,void 0,null,ae)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:p,render:N}},ve.isValidElement=V,ve.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:Q}},ve.memo=function(N,$){return{$$typeof:h,type:N,compare:$===void 0?null:$}},ve.startTransition=function(N){var $=k.T,te={};k.T=te;try{var J=N(),ae=k.S;ae!==null&&ae(te,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(me,ee)}catch(ye){ee(ye)}finally{k.T=$}},ve.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ve.use=function(N){return k.H.use(N)},ve.useActionState=function(N,$,te){return k.H.useActionState(N,$,te)},ve.useCallback=function(N,$){return k.H.useCallback(N,$)},ve.useContext=function(N){return k.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,$){return k.H.useDeferredValue(N,$)},ve.useEffect=function(N,$,te){var J=k.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(N,$)},ve.useId=function(){return k.H.useId()},ve.useImperativeHandle=function(N,$,te){return k.H.useImperativeHandle(N,$,te)},ve.useInsertionEffect=function(N,$){return k.H.useInsertionEffect(N,$)},ve.useLayoutEffect=function(N,$){return k.H.useLayoutEffect(N,$)},ve.useMemo=function(N,$){return k.H.useMemo(N,$)},ve.useOptimistic=function(N,$){return k.H.useOptimistic(N,$)},ve.useReducer=function(N,$,te){return k.H.useReducer(N,$,te)},ve.useRef=function(N){return k.H.useRef(N)},ve.useState=function(N){return k.H.useState(N)},ve.useSyncExternalStore=function(N,$,te){return k.H.useSyncExternalStore(N,$,te)},ve.useTransition=function(){return k.H.useTransition()},ve.version="19.1.0",ve}var ag;function xd(){return ag||(ag=1,Tu.exports=u_()),Tu.exports}var Y=xd();const la=i0(Y);var Mu={exports:{}},$s={},Au={exports:{}},Nu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function d_(){return ng||(ng=1,function(a){function i(q,Q){var ee=q.length;q.push(Q);e:for(;0<ee;){var me=ee-1>>>1,N=q[me];if(0<c(N,Q))q[me]=Q,q[ee]=N,ee=me;else break e}}function o(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],ee=q.pop();if(ee!==Q){q[0]=ee;e:for(var me=0,N=q.length,$=N>>>1;me<$;){var te=2*(me+1)-1,J=q[te],ae=te+1,ye=q[ae];if(0>c(J,ee))ae<N&&0>c(ye,J)?(q[me]=ye,q[ae]=ee,me=ae):(q[me]=J,q[te]=ee,me=te);else if(ae<N&&0>c(ye,ee))q[me]=ye,q[ae]=ee,me=ae;else break e}}return Q}function c(q,Q){var ee=q.sortIndex-Q.sortIndex;return ee!==0?ee:q.id-Q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();a.unstable_now=function(){return m.now()-p}}var y=[],h=[],g=1,v=null,_=3,x=!1,T=!1,M=!1,I=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var Q=o(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=q)r(h),Q.sortIndex=Q.expirationTime,i(y,Q);else break;Q=o(h)}}function k(q){if(M=!1,O(q),!T)if(o(y)!==null)T=!0,G||(G=!0,se());else{var Q=o(h);Q!==null&&ue(k,Q.startTime-q)}}var G=!1,X=-1,C=5,V=-1;function z(){return I?!0:!(a.unstable_now()-V<C)}function Z(){if(I=!1,G){var q=a.unstable_now();V=q;var Q=!0;try{e:{T=!1,M&&(M=!1,R(X),X=-1),x=!0;var ee=_;try{t:{for(O(q),v=o(y);v!==null&&!(v.expirationTime>q&&z());){var me=v.callback;if(typeof me=="function"){v.callback=null,_=v.priorityLevel;var N=me(v.expirationTime<=q);if(q=a.unstable_now(),typeof N=="function"){v.callback=N,O(q),Q=!0;break t}v===o(y)&&r(y),O(q)}else r(y);v=o(y)}if(v!==null)Q=!0;else{var $=o(h);$!==null&&ue(k,$.startTime-q),Q=!1}}break e}finally{v=null,_=ee,x=!1}Q=void 0}}finally{Q?se():G=!1}}}var se;if(typeof w=="function")se=function(){w(Z)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,he=ie.port2;ie.port1.onmessage=Z,se=function(){he.postMessage(null)}}else se=function(){E(Z,0)};function ue(q,Q){X=E(function(){q(a.unstable_now())},Q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var ee=_;_=Q;try{return q()}finally{_=ee}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=_;_=q;try{return Q()}finally{_=ee}},a.unstable_scheduleCallback=function(q,Q,ee){var me=a.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?me+ee:me):ee=me,q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ee+N,q={id:g++,callback:Q,priorityLevel:q,startTime:ee,expirationTime:N,sortIndex:-1},ee>me?(q.sortIndex=ee,i(h,q),o(y)===null&&q===o(h)&&(M?(R(X),X=-1):M=!0,ue(k,ee-me))):(q.sortIndex=N,i(y,q),T||x||(T=!0,G||(G=!0,se()))),q},a.unstable_shouldYield=z,a.unstable_wrapCallback=function(q){var Q=_;return function(){var ee=_;_=Q;try{return q.apply(this,arguments)}finally{_=ee}}}}(Nu)),Nu}var ig;function m_(){return ig||(ig=1,Au.exports=d_()),Au.exports}var Cu={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function f_(){if(sg)return It;sg=1;var a=xd();function i(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:y,containerInfo:h,implementation:g}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,It.createPortal=function(y,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(i(299));return d(y,h,null,g)},It.flushSync=function(y){var h=m.T,g=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=h,r.p=g,r.d.f()}},It.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(y,h))},It.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},It.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var g=h.as,v=p(g,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):g==="script"&&r.d.X(y,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},It.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=p(h.as,h.crossOrigin);r.d.M(y,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(y)},It.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=p(g,h.crossOrigin);r.d.L(y,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},It.preloadModule=function(y,h){if(typeof y=="string")if(h){var g=p(h.as,h.crossOrigin);r.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(y)},It.requestFormReset=function(y){r.d.r(y)},It.unstable_batchedUpdates=function(y,h){return y(h)},It.useFormState=function(y,h,g){return m.H.useFormState(y,h,g)},It.useFormStatus=function(){return m.H.useHostTransitionStatus()},It.version="19.1.0",It}var og;function s0(){if(og)return Cu.exports;og=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Cu.exports=f_(),Cu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function h_(){if(rg)return $s;rg=1;var a=m_(),i=xd(),o=s0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var f=l.alternate;if(f===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===f.child){for(f=l.child;f;){if(f===n)return p(l),e;if(f===s)return p(l),t;f=f.sibling}throw Error(r(188))}if(n.return!==s.return)n=l,s=f;else{for(var b=!1,S=l.child;S;){if(S===n){b=!0,n=l,s=f;break}if(S===s){b=!0,s=l,n=f;break}S=S.sibling}if(!b){for(S=f.child;S;){if(S===n){b=!0,n=f,s=l;break}if(S===s){b=!0,s=f,n=l;break}S=S.sibling}if(!b)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),w=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case I:return"Profiler";case M:return"StrictMode";case k:return"Suspense";case G:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case w:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}var ue=Array.isArray,q=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},me=[],N=-1;function $(e){return{current:e}}function te(e){0>N||(e.current=me[N],me[N]=null,N--)}function J(e,t){N++,me[N]=e.current,e.current=t}var ae=$(null),ye=$(null),le=$(null),W=$(null);function re(e,t){switch(J(le,t),J(ye,e),J(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Np(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Np(t),e=Cp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(ae),J(ae,e)}function ze(){te(ae),te(ye),te(le)}function lt(e){e.memoizedState!==null&&J(W,e);var t=ae.current,n=Cp(t,e.type);t!==n&&(J(ye,e),J(ae,n))}function Nt(e){ye.current===e&&(te(ae),te(ye)),W.current===e&&(te(W),Gs._currentValue=ee)}var qt=Object.prototype.hasOwnProperty,_e=a.unstable_scheduleCallback,De=a.unstable_cancelCallback,dt=a.unstable_shouldYield,wt=a.unstable_requestPaint,Ct=a.unstable_now,Na=a.unstable_getCurrentPriorityLevel,Wn=a.unstable_ImmediatePriority,Jn=a.unstable_UserBlockingPriority,Zi=a.unstable_NormalPriority,So=a.unstable_LowPriority,Qe=a.unstable_IdlePriority,ma=a.log,je=a.unstable_setDisableYieldValue,Ke=null,nt=null;function it(e){if(typeof ma=="function"&&je(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Ke,e)}catch{}}var Be=Math.clz32?Math.clz32:Wi,Qa=Math.log,$t=Math.LN2;function Wi(e){return e>>>=0,e===0?32:31-(Qa(e)/$t|0)|0}var zt=256,ei=4194304;function Ca(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xo(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,f=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var S=s&134217727;return S!==0?(s=S&~f,s!==0?l=Ca(s):(b&=S,b!==0?l=Ca(b):n||(n=S&~e,n!==0&&(l=Ca(n))))):(S=s&~f,S!==0?l=Ca(S):b!==0?l=Ca(b):n||(n=s&~e,n!==0&&(l=Ca(n)))),l===0?0:t!==0&&t!==l&&(t&f)===0&&(f=l&-l,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:l}function Ji(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Kv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(){var e=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),e}function um(){var e=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),e}function ml(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function es(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $v(e,t,n,s,l,f){var b=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(n=b&~n;0<n;){var H=31-Be(n),K=1<<H;S[H]=0,A[H]=-1;var L=U[H];if(L!==null)for(U[H]=null,H=0;H<L.length;H++){var B=L[H];B!==null&&(B.lane&=-536870913)}n&=~K}s!==0&&dm(e,s,0),f!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=f&~(b&~t))}function dm(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Be(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function mm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Be(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}function fl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fm(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Xp(e.type))}function Zv(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Ka=Math.random().toString(36).slice(2),St="__reactFiber$"+Ka,Dt="__reactProps$"+Ka,ti="__reactContainer$"+Ka,pl="__reactEvents$"+Ka,Wv="__reactListeners$"+Ka,Jv="__reactHandles$"+Ka,hm="__reactResources$"+Ka,ts="__reactMarker$"+Ka;function gl(e){delete e[St],delete e[Dt],delete e[pl],delete e[Wv],delete e[Jv]}function ai(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dp(e);e!==null;){if(n=e[St])return n;e=Dp(e)}return t}e=n,n=e.parentNode}return null}function ni(e){if(e=e[St]||e[ti]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function as(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ii(e){var t=e[hm];return t||(t=e[hm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[ts]=!0}var pm=new Set,gm={};function Mn(e,t){si(e,t),si(e+"Capture",t)}function si(e,t){for(gm[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var e1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ym={},vm={};function t1(e){return qt.call(vm,e)?!0:qt.call(ym,e)?!1:e1.test(e)?vm[e]=!0:(ym[e]=!0,!1)}function Io(e,t,n){if(t1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function To(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ja(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var yl,bm;function oi(e){if(yl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yl=t&&t[1]||"",bm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yl+e+bm}var vl=!1;function bl(e,t){if(!e||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var L=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){L=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){L=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),b=f[0],S=f[1];if(b&&S){var A=b.split(`
`),U=S.split(`
`);for(l=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;if(s===A.length||l===U.length)for(s=A.length-1,l=U.length-1;1<=s&&0<=l&&A[s]!==U[l];)l--;for(;1<=s&&0<=l;s--,l--)if(A[s]!==U[l]){if(s!==1||l!==1)do if(s--,l--,0>l||A[s]!==U[l]){var H=`
`+A[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=l);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?oi(n):""}function a1(e){switch(e.tag){case 26:case 27:case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return bl(e.type,!1);case 11:return bl(e.type.render,!1);case 1:return bl(e.type,!0);case 31:return oi("Activity");default:return""}}function _m(e){try{var t="";do t+=a1(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n1(e){var t=Sm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(b){s=""+b,f.call(this,b)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mo(e){e._valueTracker||(e._valueTracker=n1(e))}function xm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Sm(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ao(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i1=/[\n"\\]/g;function Wt(e){return e.replace(i1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _l(e,t,n,s,l,f,b,S){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?Sl(e,b,Zt(t)):n!=null?Sl(e,b,Zt(n)):s!=null&&e.removeAttribute("value"),l==null&&f!=null&&(e.defaultChecked=!!f),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Zt(S):e.removeAttribute("name")}function Im(e,t,n,s,l,f,b,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;n=n!=null?""+Zt(n):"",t=t!=null?""+Zt(t):n,S||t===e.value||(e.value=t),e.defaultValue=t}s=s??l,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=S?e.checked:!!s,e.defaultChecked=!!s,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Sl(e,t,n){t==="number"&&Ao(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ri(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Tm(e,t,n){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Zt(n):""}function Mm(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(r(92));if(ue(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Zt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function li(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Am(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||s1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nm(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var l in t)s=t[l],t.hasOwnProperty(l)&&n[l]!==s&&Am(e,l,s)}else for(var f in t)t.hasOwnProperty(f)&&Am(e,f,t[f])}function xl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(e){return r1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Il=null;function Tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ci=null,ui=null;function Cm(e){var t=ni(e);if(t&&(e=t.stateNode)){var n=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_l(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=s[Dt]||null;if(!l)throw Error(r(90));_l(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&xm(s)}break e;case"textarea":Tm(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ri(e,!!n.multiple,t,!1)}}}var Ml=!1;function jm(e,t,n){if(Ml)return e(t,n);Ml=!0;try{var s=e(t);return s}finally{if(Ml=!1,(ci!==null||ui!==null)&&(mr(),ci&&(t=ci,e=ui,ui=ci=null,Cm(t),e)))for(t=0;t<e.length;t++)Cm(e[t])}}function ns(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Dt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=!1;if(Ea)try{var is={};Object.defineProperty(is,"passive",{get:function(){Al=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Al=!1}var $a=null,Nl=null,Co=null;function Em(){if(Co)return Co;var e,t=Nl,n=t.length,s,l="value"in $a?$a.value:$a.textContent,f=l.length;for(e=0;e<n&&t[e]===l[e];e++);var b=n-e;for(s=1;s<=b&&t[n-s]===l[f-s];s++);return Co=l.slice(e,1<s?1-s:void 0)}function jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eo(){return!0}function wm(){return!1}function Rt(e){function t(n,s,l,f,b){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Eo:wm,this.isPropagationStopped=wm,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Rt(An),ss=g({},An,{view:0,detail:0}),l1=Rt(ss),Cl,jl,os,Do=g({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&e.type==="mousemove"?(Cl=e.screenX-os.screenX,jl=e.screenY-os.screenY):jl=Cl=0,os=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),Dm=Rt(Do),c1=g({},Do,{dataTransfer:0}),u1=Rt(c1),d1=g({},ss,{relatedTarget:0}),El=Rt(d1),m1=g({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=Rt(m1),h1=g({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p1=Rt(h1),g1=g({},An,{data:0}),Rm=Rt(g1),y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b1[e])?!!t[e]:!1}function wl(){return _1}var S1=g({},ss,{key:function(e){if(e.key){var t=y1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x1=Rt(S1),I1=g({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pm=Rt(I1),T1=g({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),M1=Rt(T1),A1=g({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=Rt(A1),C1=g({},Do,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j1=Rt(C1),E1=g({},An,{newState:0,oldState:0}),w1=Rt(E1),D1=[9,13,27,32],Dl=Ea&&"CompositionEvent"in window,rs=null;Ea&&"documentMode"in document&&(rs=document.documentMode);var R1=Ea&&"TextEvent"in window&&!rs,Um=Ea&&(!Dl||rs&&8<rs&&11>=rs),Om=" ",km=!1;function Lm(e,t){switch(e){case"keyup":return D1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function P1(e,t){switch(e){case"compositionend":return Vm(t);case"keypress":return t.which!==32?null:(km=!0,Om);case"textInput":return e=t.data,e===Om&&km?null:e;default:return null}}function U1(e,t){if(di)return e==="compositionend"||!Dl&&Lm(e,t)?(e=Em(),Co=Nl=$a=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Um&&t.locale!=="ko"?null:t.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O1[e.type]:t==="textarea"}function zm(e,t,n,s){ci?ui?ui.push(s):ui=[s]:ci=s,t=vr(t,"onChange"),0<t.length&&(n=new wo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ls=null,cs=null;function k1(e){xp(e,0)}function Ro(e){var t=as(e);if(xm(t))return e}function Bm(e,t){if(e==="change")return t}var Ym=!1;if(Ea){var Rl;if(Ea){var Pl="oninput"in document;if(!Pl){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),Pl=typeof Gm.oninput=="function"}Rl=Pl}else Rl=!1;Ym=Rl&&(!document.documentMode||9<document.documentMode)}function Hm(){ls&&(ls.detachEvent("onpropertychange",Fm),cs=ls=null)}function Fm(e){if(e.propertyName==="value"&&Ro(cs)){var t=[];zm(t,cs,e,Tl(e)),jm(k1,t)}}function L1(e,t,n){e==="focusin"?(Hm(),ls=t,cs=n,ls.attachEvent("onpropertychange",Fm)):e==="focusout"&&Hm()}function V1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ro(cs)}function q1(e,t){if(e==="click")return Ro(t)}function z1(e,t){if(e==="input"||e==="change")return Ro(t)}function B1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:B1;function us(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!qt.call(t,l)||!Bt(e[l],t[l]))return!1}return!0}function Xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qm(e,t){var n=Xm(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xm(n)}}function Km(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Km(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ao(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ao(e.document)}return t}function Ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Y1=Ea&&"documentMode"in document&&11>=document.documentMode,mi=null,Ol=null,ds=null,kl=!1;function Zm(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kl||mi==null||mi!==Ao(s)||(s=mi,"selectionStart"in s&&Ul(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ds&&us(ds,s)||(ds=s,s=vr(Ol,"onSelect"),0<s.length&&(t=new wo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=mi)))}function Nn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fi={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},Ll={},Wm={};Ea&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Cn(e){if(Ll[e])return Ll[e];if(!fi[e])return e;var t=fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wm)return Ll[e]=t[n];return e}var Jm=Cn("animationend"),ef=Cn("animationiteration"),tf=Cn("animationstart"),G1=Cn("transitionrun"),H1=Cn("transitionstart"),F1=Cn("transitioncancel"),af=Cn("transitionend"),nf=new Map,Vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vl.push("scrollEnd");function fa(e,t){nf.set(e,t),Mn(t,[e])}var sf=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var n=sf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:_m(t)},sf.set(e,t),t)}return{value:e,source:t,stack:_m(t)}}var ea=[],hi=0,ql=0;function Po(){for(var e=hi,t=ql=hi=0;t<e;){var n=ea[t];ea[t++]=null;var s=ea[t];ea[t++]=null;var l=ea[t];ea[t++]=null;var f=ea[t];if(ea[t++]=null,s!==null&&l!==null){var b=s.pending;b===null?l.next=l:(l.next=b.next,b.next=l),s.pending=l}f!==0&&of(n,l,f)}}function Uo(e,t,n,s){ea[hi++]=e,ea[hi++]=t,ea[hi++]=n,ea[hi++]=s,ql|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function zl(e,t,n,s){return Uo(e,t,n,s),Oo(e)}function pi(e,t){return Uo(e,null,null,t),Oo(e)}function of(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var l=!1,f=e.return;f!==null;)f.childLanes|=n,s=f.alternate,s!==null&&(s.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(l=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,l&&t!==null&&(l=31-Be(n),e=f.hiddenUpdates,s=e[l],s===null?e[l]=[t]:s.push(t),t.lane=n|536870912),f):null}function Oo(e){if(50<Os)throw Os=0,Xc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gi={};function X1(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,s){return new X1(e,t,n,s)}function Bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ko(e,t,n,s,l,f){var b=0;if(s=e,typeof e=="function")Bl(e)&&(b=1);else if(typeof e=="string")b=Kb(e,n,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=Yt(31,n,t,l),e.elementType=V,e.lanes=f,e;case T:return jn(n.children,l,f,t);case M:b=8,l|=24;break;case I:return e=Yt(12,n,t,l|2),e.elementType=I,e.lanes=f,e;case k:return e=Yt(13,n,t,l),e.elementType=k,e.lanes=f,e;case G:return e=Yt(19,n,t,l),e.elementType=G,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case w:b=10;break e;case R:b=9;break e;case O:b=11;break e;case X:b=14;break e;case C:b=16,s=null;break e}b=29,n=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Yt(b,n,t,l),t.elementType=e,t.type=s,t.lanes=f,t}function jn(e,t,n,s){return e=Yt(7,e,s,t),e.lanes=n,e}function Yl(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function Gl(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var yi=[],vi=0,Lo=null,Vo=0,ta=[],aa=0,En=null,Da=1,Ra="";function wn(e,t){yi[vi++]=Vo,yi[vi++]=Lo,Lo=e,Vo=t}function lf(e,t,n){ta[aa++]=Da,ta[aa++]=Ra,ta[aa++]=En,En=e;var s=Da;e=Ra;var l=32-Be(s)-1;s&=~(1<<l),n+=1;var f=32-Be(t)+l;if(30<f){var b=l-l%5;f=(s&(1<<b)-1).toString(32),s>>=b,l-=b,Da=1<<32-Be(t)+l|n<<l|s,Ra=f+e}else Da=1<<f|n<<l|s,Ra=e}function Hl(e){e.return!==null&&(wn(e,1),lf(e,1,0))}function Fl(e){for(;e===Lo;)Lo=yi[--vi],yi[vi]=null,Vo=yi[--vi],yi[vi]=null;for(;e===En;)En=ta[--aa],ta[aa]=null,Ra=ta[--aa],ta[aa]=null,Da=ta[--aa],ta[aa]=null}var jt=null,$e=null,Ee=!1,Dn=null,ba=!1,Xl=Error(r(519));function Rn(e){var t=Error(r(418,""));throw hs(Jt(t,e)),Xl}function cf(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[St]=e,t[Dt]=s,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<Ls.length;n++)Te(Ls[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Im(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Mo(t);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Mm(t,s.value,s.defaultValue,s.children),Mo(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Ap(t.textContent,n)?(s.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),s.onScroll!=null&&Te("scroll",t),s.onScrollEnd!=null&&Te("scrollend",t),s.onClick!=null&&(t.onclick=br),t=!0):t=!1,t||Rn(e)}function uf(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 13:ba=!1;return;case 27:case 3:ba=!0;return;default:jt=jt.return}}function ms(e){if(e!==jt)return!1;if(!Ee)return uf(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||cu(e.type,e.memoizedProps)),n=!n),n&&$e&&Rn(e),uf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){$e=pa(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}$e=null}}else t===27?(t=$e,fn(e.type)?(e=fu,fu=null,$e=e):$e=t):$e=jt?pa(e.stateNode.nextSibling):null;return!0}function fs(){$e=jt=null,Ee=!1}function df(){var e=Dn;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Dn=null),e}function hs(e){Dn===null?Dn=[e]:Dn.push(e)}var Ql=$(null),Pn=null,Pa=null;function Za(e,t,n){J(Ql,t._currentValue),t._currentValue=n}function Ua(e){e._currentValue=Ql.current,te(Ql)}function Kl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function $l(e,t,n,s){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var f=l.dependencies;if(f!==null){var b=l.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=l;for(var A=0;A<t.length;A++)if(S.context===t[A]){f.lanes|=n,S=f.alternate,S!==null&&(S.lanes|=n),Kl(f.return,n,e),s||(b=null);break e}f=S.next}}else if(l.tag===18){if(b=l.return,b===null)throw Error(r(341));b.lanes|=n,f=b.alternate,f!==null&&(f.lanes|=n),Kl(b,n,e),b=null}else b=l.child;if(b!==null)b.return=l;else for(b=l;b!==null;){if(b===e){b=null;break}if(l=b.sibling,l!==null){l.return=b.return,b=l;break}b=b.return}l=b}}function ps(e,t,n,s){e=null;for(var l=t,f=!1;l!==null;){if(!f){if((l.flags&524288)!==0)f=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var b=l.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var S=l.type;Bt(l.pendingProps.value,b.value)||(e!==null?e.push(S):e=[S])}}else if(l===W.current){if(b=l.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Gs):e=[Gs])}l=l.return}e!==null&&$l(t,e,n,s),t.flags|=262144}function qo(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Un(e){Pn=e,Pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return mf(Pn,e)}function zo(e,t){return Pn===null&&Un(e),mf(e,t)}function mf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Pa===null){if(e===null)throw Error(r(308));Pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pa=Pa.next=t;return n}var Q1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},K1=a.unstable_scheduleCallback,$1=a.unstable_NormalPriority,ct={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zl(){return{controller:new Q1,data:new Map,refCount:0}}function gs(e){e.refCount--,e.refCount===0&&K1($1,function(){e.controller.abort()})}var ys=null,Wl=0,bi=0,_i=null;function Z1(e,t){if(ys===null){var n=ys=[];Wl=0,bi=eu(),_i={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Wl++,t.then(ff,ff),t}function ff(){if(--Wl===0&&ys!==null){_i!==null&&(_i.status="fulfilled");var e=ys;ys=null,bi=0,_i=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function W1(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(s.status="rejected",s.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),s}var hf=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Z1(e,t),hf!==null&&hf(e,t)};var On=$(null);function Jl(){var e=On.current;return e!==null?e:qe.pooledCache}function Bo(e,t){t===null?J(On,On.current):J(On,t.pool)}function pf(){var e=Jl();return e===null?null:{parent:ct._currentValue,pool:e}}var vs=Error(r(460)),gf=Error(r(474)),Yo=Error(r(542)),ec={then:function(){}};function yf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(){}function vf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Go,Go),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_f(e),e;default:if(typeof t.status=="string")t.then(Go,Go);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=s}},function(s){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_f(e),e}throw bs=t,vs}}var bs=null;function bf(){if(bs===null)throw Error(r(459));var e=bs;return bs=null,e}function _f(e){if(e===vs||e===Yo)throw Error(r(483))}var Wa=!1;function tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,t=Oo(e),of(e,null,n),t}return Uo(e,s,t,n),Oo(e)}function _s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mm(e,n)}}function nc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var b={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?l=f=b:f=f.next=b,n=n.next}while(n!==null);f===null?l=f=t:f=f.next=t}else l=f=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ic=!1;function Ss(){if(ic){var e=_i;if(e!==null)throw e}}function xs(e,t,n,s){ic=!1;var l=e.updateQueue;Wa=!1;var f=l.firstBaseUpdate,b=l.lastBaseUpdate,S=l.shared.pending;if(S!==null){l.shared.pending=null;var A=S,U=A.next;A.next=null,b===null?f=U:b.next=U,b=A;var H=e.alternate;H!==null&&(H=H.updateQueue,S=H.lastBaseUpdate,S!==b&&(S===null?H.firstBaseUpdate=U:S.next=U,H.lastBaseUpdate=A))}if(f!==null){var K=l.baseState;b=0,H=U=A=null,S=f;do{var L=S.lane&-536870913,B=L!==S.lane;if(B?(Me&L)===L:(s&L)===L){L!==0&&L===bi&&(ic=!0),H!==null&&(H=H.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=e,de=S;L=t;var ke=n;switch(de.tag){case 1:if(pe=de.payload,typeof pe=="function"){K=pe.call(ke,K,L);break e}K=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=de.payload,L=typeof pe=="function"?pe.call(ke,K,L):pe,L==null)break e;K=g({},K,L);break e;case 2:Wa=!0}}L=S.callback,L!==null&&(e.flags|=64,B&&(e.flags|=8192),B=l.callbacks,B===null?l.callbacks=[L]:B.push(L))}else B={lane:L,tag:S.tag,payload:S.payload,callback:S.callback,next:null},H===null?(U=H=B,A=K):H=H.next=B,b|=L;if(S=S.next,S===null){if(S=l.shared.pending,S===null)break;B=S,S=B.next,B.next=null,l.lastBaseUpdate=B,l.shared.pending=null}}while(!0);H===null&&(A=K),l.baseState=A,l.firstBaseUpdate=U,l.lastBaseUpdate=H,f===null&&(l.shared.lanes=0),cn|=b,e.lanes=b,e.memoizedState=K}}function Sf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function xf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Sf(n[e],t)}var Si=$(null),Ho=$(0);function If(e,t){e=Ba,J(Ho,e),J(Si,t),Ba=e|t.baseLanes}function sc(){J(Ho,Ba),J(Si,Si.current)}function oc(){Ba=Ho.current,te(Si),te(Ho)}var tn=0,Se=null,Ue=null,st=null,Fo=!1,xi=!1,kn=!1,Xo=0,Is=0,Ii=null,J1=0;function et(){throw Error(r(321))}function rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function lc(e,t,n,s,l,f){return tn=f,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?oh:rh,kn=!1,f=n(s,l),kn=!1,xi&&(f=Mf(t,n,s,l)),Tf(e),f}function Tf(e){q.H=Jo;var t=Ue!==null&&Ue.next!==null;if(tn=0,st=Ue=Se=null,Fo=!1,Is=0,Ii=null,t)throw Error(r(300));e===null||ft||(e=e.dependencies,e!==null&&qo(e)&&(ft=!0))}function Mf(e,t,n,s){Se=e;var l=0;do{if(xi&&(Ii=null),Is=0,xi=!1,25<=l)throw Error(r(301));if(l+=1,st=Ue=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=ob,f=t(n,s)}while(xi);return f}function eb(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Ts(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(Se.flags|=1024),t}function cc(){var e=Xo!==0;return Xo=0,e}function uc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function dc(e){if(Fo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fo=!1}tn=0,st=Ue=Se=null,xi=!1,Is=Xo=0,Ii=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Se.memoizedState=st=e:st=st.next=e,st}function ot(){if(Ue===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=st===null?Se.memoizedState:st.next;if(t!==null)st=t,Ue=e;else{if(e===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},st===null?Se.memoizedState=st=e:st=st.next=e}return st}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var t=Is;return Is+=1,Ii===null&&(Ii=[]),e=vf(Ii,e,t),t=Se,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?oh:rh),e}function Qo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===w)return xt(e)}throw Error(r(438,String(e)))}function fc(e){var t=null,n=Se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=mc(),Se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=z;return t.index++,n}function Oa(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=ot();return hc(t,Ue,e)}function hc(e,t,n){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var l=e.baseQueue,f=s.pending;if(f!==null){if(l!==null){var b=l.next;l.next=f.next,f.next=b}t.baseQueue=l=f,s.pending=null}if(f=e.baseState,l===null)e.memoizedState=f;else{t=l.next;var S=b=null,A=null,U=t,H=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Me&K)===K:(tn&K)===K){var L=U.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===bi&&(H=!0);else if((tn&L)===L){U=U.next,L===bi&&(H=!0);continue}else K={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(S=A=K,b=f):A=A.next=K,Se.lanes|=L,cn|=L;K=U.action,kn&&n(f,K),f=U.hasEagerState?U.eagerState:n(f,K)}else L={lane:K,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(S=A=L,b=f):A=A.next=L,Se.lanes|=K,cn|=K;U=U.next}while(U!==null&&U!==t);if(A===null?b=f:A.next=S,!Bt(f,e.memoizedState)&&(ft=!0,H&&(n=_i,n!==null)))throw n;e.memoizedState=f,e.baseState=b,e.baseQueue=A,s.lastRenderedState=f}return l===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function pc(e){var t=ot(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,f=t.memoizedState;if(l!==null){n.pending=null;var b=l=l.next;do f=e(f,b.action),b=b.next;while(b!==l);Bt(f,t.memoizedState)||(ft=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,s]}function Af(e,t,n){var s=Se,l=ot(),f=Ee;if(f){if(n===void 0)throw Error(r(407));n=n()}else n=t();var b=!Bt((Ue||l).memoizedState,n);b&&(l.memoizedState=n,ft=!0),l=l.queue;var S=jf.bind(null,s,l,e);if(Ms(2048,8,S,[e]),l.getSnapshot!==t||b||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,Ti(9,$o(),Cf.bind(null,s,l,n,t),null),qe===null)throw Error(r(349));f||(tn&124)!==0||Nf(s,t,n)}return n}function Nf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t=mc(),Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cf(e,t,n,s){t.value=n,t.getSnapshot=s,Ef(t)&&wf(e)}function jf(e,t,n){return n(function(){Ef(t)&&wf(e)})}function Ef(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function wf(e){var t=pi(e,2);t!==null&&Qt(t,e,2)}function gc(e){var t=Pt();if(typeof e=="function"){var n=e;if(e=n(),kn){it(!0);try{n()}finally{it(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t}function Df(e,t,n,s){return e.baseState=n,hc(e,Ue,typeof s=="function"?s:Oa)}function tb(e,t,n,s,l){if(Wo(e))throw Error(r(485));if(e=t.action,e!==null){var f={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};q.T!==null?n(!0):f.isTransition=!1,s(f),n=t.pending,n===null?(f.next=t.pending=f,Rf(t,f)):(f.next=n.next,t.pending=n.next=f)}}function Rf(e,t){var n=t.action,s=t.payload,l=e.state;if(t.isTransition){var f=q.T,b={};q.T=b;try{var S=n(l,s),A=q.S;A!==null&&A(b,S),Pf(e,t,S)}catch(U){yc(e,t,U)}finally{q.T=f}}else try{f=n(l,s),Pf(e,t,f)}catch(U){yc(e,t,U)}}function Pf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Uf(e,t,s)},function(s){return yc(e,t,s)}):Uf(e,t,n)}function Uf(e,t,n){t.status="fulfilled",t.value=n,Of(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Rf(e,n)))}function yc(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Of(t),t=t.next;while(t!==s)}e.action=null}function Of(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kf(e,t){return t}function Lf(e,t){if(Ee){var n=qe.formState;if(n!==null){e:{var s=Se;if(Ee){if($e){t:{for(var l=$e,f=ba;l.nodeType!==8;){if(!f){l=null;break t}if(l=pa(l.nextSibling),l===null){l=null;break t}}f=l.data,l=f==="F!"||f==="F"?l:null}if(l){$e=pa(l.nextSibling),s=l.data==="F!";break e}}Rn(s)}s=!1}s&&(t=n[0])}}return n=Pt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:t},n.queue=s,n=nh.bind(null,Se,s),s.dispatch=n,s=gc(!1),f=xc.bind(null,Se,!1,s.queue),s=Pt(),l={state:t,dispatch:null,action:e,pending:null},s.queue=l,n=tb.bind(null,Se,l,f,n),l.dispatch=n,s.memoizedState=e,[t,n,!1]}function Vf(e){var t=ot();return qf(t,Ue,e)}function qf(e,t,n){if(t=hc(e,t,kf)[0],e=Ko(Oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ts(t)}catch(b){throw b===vs?Yo:b}else s=t;t=ot();var l=t.queue,f=l.dispatch;return n!==t.memoizedState&&(Se.flags|=2048,Ti(9,$o(),ab.bind(null,l,n),null)),[s,f,e]}function ab(e,t){e.action=t}function zf(e){var t=ot(),n=Ue;if(n!==null)return qf(t,n,e);ot(),t=t.memoizedState,n=ot();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Ti(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Se.updateQueue,t===null&&(t=mc(),Se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function $o(){return{destroy:void 0,resource:void 0}}function Bf(){return ot().memoizedState}function Zo(e,t,n,s){var l=Pt();s=s===void 0?null:s,Se.flags|=e,l.memoizedState=Ti(1|t,$o(),n,s)}function Ms(e,t,n,s){var l=ot();s=s===void 0?null:s;var f=l.memoizedState.inst;Ue!==null&&s!==null&&rc(s,Ue.memoizedState.deps)?l.memoizedState=Ti(t,f,n,s):(Se.flags|=e,l.memoizedState=Ti(1|t,f,n,s))}function Yf(e,t){Zo(8390656,8,e,t)}function Gf(e,t){Ms(2048,8,e,t)}function Hf(e,t){return Ms(4,2,e,t)}function Ff(e,t){return Ms(4,4,e,t)}function Xf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qf(e,t,n){n=n!=null?n.concat([e]):null,Ms(4,4,Xf.bind(null,t,e),n)}function vc(){}function Kf(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&rc(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function $f(e,t){var n=ot();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&rc(t,s[1]))return s[0];if(s=e(),kn){it(!0);try{e()}finally{it(!1)}}return n.memoizedState=[s,t],s}function bc(e,t,n){return n===void 0||(tn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Jh(),Se.lanes|=e,cn|=e,n)}function Zf(e,t,n,s){return Bt(n,t)?n:Si.current!==null?(e=bc(e,n,s),Bt(e,t)||(ft=!0),e):(tn&42)===0?(ft=!0,e.memoizedState=n):(e=Jh(),Se.lanes|=e,cn|=e,t)}function Wf(e,t,n,s,l){var f=Q.p;Q.p=f!==0&&8>f?f:8;var b=q.T,S={};q.T=S,xc(e,!1,t,n);try{var A=l(),U=q.S;if(U!==null&&U(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=W1(A,s);As(e,t,H,Xt(e))}else As(e,t,s,Xt(e))}catch(K){As(e,t,{then:function(){},status:"rejected",reason:K},Xt())}finally{Q.p=f,q.T=b}}function nb(){}function _c(e,t,n,s){if(e.tag!==5)throw Error(r(476));var l=Jf(e).queue;Wf(e,l,t,ee,n===null?nb:function(){return eh(e),n(s)})}function Jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function eh(e){var t=Jf(e).next.queue;As(e,t,{},Xt())}function Sc(){return xt(Gs)}function th(){return ot().memoizedState}function ah(){return ot().memoizedState}function ib(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Xt();e=Ja(n);var s=en(t,e,n);s!==null&&(Qt(s,t,n),_s(s,t,n)),t={cache:Zl()},e.payload=t;return}t=t.return}}function sb(e,t,n){var s=Xt();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e)?ih(t,n):(n=zl(e,t,n,s),n!==null&&(Qt(n,e,s),sh(n,t,s)))}function nh(e,t,n){var s=Xt();As(e,t,n,s)}function As(e,t,n,s){var l={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))ih(t,l);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var b=t.lastRenderedState,S=f(b,n);if(l.hasEagerState=!0,l.eagerState=S,Bt(S,b))return Uo(e,t,l,0),qe===null&&Po(),!1}catch{}finally{}if(n=zl(e,t,l,s),n!==null)return Qt(n,e,s),sh(n,t,s),!0}return!1}function xc(e,t,n,s){if(s={lane:2,revertLane:eu(),action:s,hasEagerState:!1,eagerState:null,next:null},Wo(e)){if(t)throw Error(r(479))}else t=zl(e,n,s,2),t!==null&&Qt(t,e,2)}function Wo(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function ih(e,t){xi=Fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sh(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,mm(e,n)}}var Jo={readContext:xt,use:Qo,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},oh={readContext:xt,use:Qo,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Yf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Zo(4194308,4,Xf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){Zo(4,2,e,t)},useMemo:function(e,t){var n=Pt();t=t===void 0?null:t;var s=e();if(kn){it(!0);try{e()}finally{it(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Pt();if(n!==void 0){var l=n(t);if(kn){it(!0);try{n(t)}finally{it(!1)}}}else l=t;return s.memoizedState=s.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},s.queue=e,e=e.dispatch=sb.bind(null,Se,e),[s.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:function(e){e=gc(e);var t=e.queue,n=nh.bind(null,Se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:vc,useDeferredValue:function(e,t){var n=Pt();return bc(n,e,t)},useTransition:function(){var e=gc(!1);return e=Wf.bind(null,Se,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Se,l=Pt();if(Ee){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),qe===null)throw Error(r(349));(Me&124)!==0||Nf(s,t,n)}l.memoizedState=n;var f={value:n,getSnapshot:t};return l.queue=f,Yf(jf.bind(null,s,f,e),[e]),s.flags|=2048,Ti(9,$o(),Cf.bind(null,s,f,n,t),null),n},useId:function(){var e=Pt(),t=qe.identifierPrefix;if(Ee){var n=Ra,s=Da;n=(s&~(1<<32-Be(s)-1)).toString(32)+n,t=""+t+"R"+n,n=Xo++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=J1++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Sc,useFormState:Lf,useActionState:Lf,useOptimistic:function(e){var t=Pt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xc.bind(null,Se,!0,n),n.dispatch=t,[e,t]},useMemoCache:fc,useCacheRefresh:function(){return Pt().memoizedState=ib.bind(null,Se)}},rh={readContext:xt,use:Qo,useCallback:Kf,useContext:xt,useEffect:Gf,useImperativeHandle:Qf,useInsertionEffect:Hf,useLayoutEffect:Ff,useMemo:$f,useReducer:Ko,useRef:Bf,useState:function(){return Ko(Oa)},useDebugValue:vc,useDeferredValue:function(e,t){var n=ot();return Zf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=Ko(Oa)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Af,useId:th,useHostTransitionStatus:Sc,useFormState:Vf,useActionState:Vf,useOptimistic:function(e,t){var n=ot();return Df(n,Ue,e,t)},useMemoCache:fc,useCacheRefresh:ah},ob={readContext:xt,use:Qo,useCallback:Kf,useContext:xt,useEffect:Gf,useImperativeHandle:Qf,useInsertionEffect:Hf,useLayoutEffect:Ff,useMemo:$f,useReducer:pc,useRef:Bf,useState:function(){return pc(Oa)},useDebugValue:vc,useDeferredValue:function(e,t){var n=ot();return Ue===null?bc(n,e,t):Zf(n,Ue.memoizedState,e,t)},useTransition:function(){var e=pc(Oa)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Af,useId:th,useHostTransitionStatus:Sc,useFormState:zf,useActionState:zf,useOptimistic:function(e,t){var n=ot();return Ue!==null?Df(n,Ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:fc,useCacheRefresh:ah},Mi=null,Ns=0;function er(e){var t=Ns;return Ns+=1,Mi===null&&(Mi=[]),vf(Mi,e,t)}function Cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tr(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lh(e){var t=e._init;return t(e._payload)}function ch(e){function t(D,j){if(e){var P=D.deletions;P===null?(D.deletions=[j],D.flags|=16):P.push(j)}}function n(D,j){if(!e)return null;for(;j!==null;)t(D,j),j=j.sibling;return null}function s(D){for(var j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function l(D,j){return D=wa(D,j),D.index=0,D.sibling=null,D}function f(D,j,P){return D.index=P,e?(P=D.alternate,P!==null?(P=P.index,P<j?(D.flags|=67108866,j):P):(D.flags|=67108866,j)):(D.flags|=1048576,j)}function b(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function S(D,j,P,F){return j===null||j.tag!==6?(j=Yl(P,D.mode,F),j.return=D,j):(j=l(j,P),j.return=D,j)}function A(D,j,P,F){var ne=P.type;return ne===T?H(D,j,P.props.children,F,P.key):j!==null&&(j.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===C&&lh(ne)===j.type)?(j=l(j,P.props),Cs(j,P),j.return=D,j):(j=ko(P.type,P.key,P.props,null,D.mode,F),Cs(j,P),j.return=D,j)}function U(D,j,P,F){return j===null||j.tag!==4||j.stateNode.containerInfo!==P.containerInfo||j.stateNode.implementation!==P.implementation?(j=Gl(P,D.mode,F),j.return=D,j):(j=l(j,P.children||[]),j.return=D,j)}function H(D,j,P,F,ne){return j===null||j.tag!==7?(j=jn(P,D.mode,F,ne),j.return=D,j):(j=l(j,P),j.return=D,j)}function K(D,j,P){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Yl(""+j,D.mode,P),j.return=D,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return P=ko(j.type,j.key,j.props,null,D.mode,P),Cs(P,j),P.return=D,P;case x:return j=Gl(j,D.mode,P),j.return=D,j;case C:var F=j._init;return j=F(j._payload),K(D,j,P)}if(ue(j)||se(j))return j=jn(j,D.mode,P,null),j.return=D,j;if(typeof j.then=="function")return K(D,er(j),P);if(j.$$typeof===w)return K(D,zo(D,j),P);tr(D,j)}return null}function L(D,j,P,F){var ne=j!==null?j.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ne!==null?null:S(D,j,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return P.key===ne?A(D,j,P,F):null;case x:return P.key===ne?U(D,j,P,F):null;case C:return ne=P._init,P=ne(P._payload),L(D,j,P,F)}if(ue(P)||se(P))return ne!==null?null:H(D,j,P,F,null);if(typeof P.then=="function")return L(D,j,er(P),F);if(P.$$typeof===w)return L(D,j,zo(D,P),F);tr(D,P)}return null}function B(D,j,P,F,ne){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return D=D.get(P)||null,S(j,D,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return D=D.get(F.key===null?P:F.key)||null,A(j,D,F,ne);case x:return D=D.get(F.key===null?P:F.key)||null,U(j,D,F,ne);case C:var xe=F._init;return F=xe(F._payload),B(D,j,P,F,ne)}if(ue(F)||se(F))return D=D.get(P)||null,H(j,D,F,ne,null);if(typeof F.then=="function")return B(D,j,P,er(F),ne);if(F.$$typeof===w)return B(D,j,P,zo(j,F),ne);tr(j,F)}return null}function pe(D,j,P,F){for(var ne=null,xe=null,oe=j,fe=j=0,pt=null;oe!==null&&fe<P.length;fe++){oe.index>fe?(pt=oe,oe=null):pt=oe.sibling;var Ae=L(D,oe,P[fe],F);if(Ae===null){oe===null&&(oe=pt);break}e&&oe&&Ae.alternate===null&&t(D,oe),j=f(Ae,j,fe),xe===null?ne=Ae:xe.sibling=Ae,xe=Ae,oe=pt}if(fe===P.length)return n(D,oe),Ee&&wn(D,fe),ne;if(oe===null){for(;fe<P.length;fe++)oe=K(D,P[fe],F),oe!==null&&(j=f(oe,j,fe),xe===null?ne=oe:xe.sibling=oe,xe=oe);return Ee&&wn(D,fe),ne}for(oe=s(oe);fe<P.length;fe++)pt=B(oe,D,fe,P[fe],F),pt!==null&&(e&&pt.alternate!==null&&oe.delete(pt.key===null?fe:pt.key),j=f(pt,j,fe),xe===null?ne=pt:xe.sibling=pt,xe=pt);return e&&oe.forEach(function(vn){return t(D,vn)}),Ee&&wn(D,fe),ne}function de(D,j,P,F){if(P==null)throw Error(r(151));for(var ne=null,xe=null,oe=j,fe=j=0,pt=null,Ae=P.next();oe!==null&&!Ae.done;fe++,Ae=P.next()){oe.index>fe?(pt=oe,oe=null):pt=oe.sibling;var vn=L(D,oe,Ae.value,F);if(vn===null){oe===null&&(oe=pt);break}e&&oe&&vn.alternate===null&&t(D,oe),j=f(vn,j,fe),xe===null?ne=vn:xe.sibling=vn,xe=vn,oe=pt}if(Ae.done)return n(D,oe),Ee&&wn(D,fe),ne;if(oe===null){for(;!Ae.done;fe++,Ae=P.next())Ae=K(D,Ae.value,F),Ae!==null&&(j=f(Ae,j,fe),xe===null?ne=Ae:xe.sibling=Ae,xe=Ae);return Ee&&wn(D,fe),ne}for(oe=s(oe);!Ae.done;fe++,Ae=P.next())Ae=B(oe,D,fe,Ae.value,F),Ae!==null&&(e&&Ae.alternate!==null&&oe.delete(Ae.key===null?fe:Ae.key),j=f(Ae,j,fe),xe===null?ne=Ae:xe.sibling=Ae,xe=Ae);return e&&oe.forEach(function(r_){return t(D,r_)}),Ee&&wn(D,fe),ne}function ke(D,j,P,F){if(typeof P=="object"&&P!==null&&P.type===T&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case _:e:{for(var ne=P.key;j!==null;){if(j.key===ne){if(ne=P.type,ne===T){if(j.tag===7){n(D,j.sibling),F=l(j,P.props.children),F.return=D,D=F;break e}}else if(j.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===C&&lh(ne)===j.type){n(D,j.sibling),F=l(j,P.props),Cs(F,P),F.return=D,D=F;break e}n(D,j);break}else t(D,j);j=j.sibling}P.type===T?(F=jn(P.props.children,D.mode,F,P.key),F.return=D,D=F):(F=ko(P.type,P.key,P.props,null,D.mode,F),Cs(F,P),F.return=D,D=F)}return b(D);case x:e:{for(ne=P.key;j!==null;){if(j.key===ne)if(j.tag===4&&j.stateNode.containerInfo===P.containerInfo&&j.stateNode.implementation===P.implementation){n(D,j.sibling),F=l(j,P.children||[]),F.return=D,D=F;break e}else{n(D,j);break}else t(D,j);j=j.sibling}F=Gl(P,D.mode,F),F.return=D,D=F}return b(D);case C:return ne=P._init,P=ne(P._payload),ke(D,j,P,F)}if(ue(P))return pe(D,j,P,F);if(se(P)){if(ne=se(P),typeof ne!="function")throw Error(r(150));return P=ne.call(P),de(D,j,P,F)}if(typeof P.then=="function")return ke(D,j,er(P),F);if(P.$$typeof===w)return ke(D,j,zo(D,P),F);tr(D,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,j!==null&&j.tag===6?(n(D,j.sibling),F=l(j,P),F.return=D,D=F):(n(D,j),F=Yl(P,D.mode,F),F.return=D,D=F),b(D)):n(D,j)}return function(D,j,P,F){try{Ns=0;var ne=ke(D,j,P,F);return Mi=null,ne}catch(oe){if(oe===vs||oe===Yo)throw oe;var xe=Yt(29,oe,null,D.mode);return xe.lanes=F,xe.return=D,xe}finally{}}}var Ai=ch(!0),uh=ch(!1),na=$(null),_a=null;function an(e){var t=e.alternate;J(ut,ut.current&1),J(na,e),_a===null&&(t===null||Si.current!==null||t.memoizedState!==null)&&(_a=e)}function dh(e){if(e.tag===22){if(J(ut,ut.current),J(na,e),_a===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(_a=e)}}else nn()}function nn(){J(ut,ut.current),J(na,na.current)}function ka(e){te(na),_a===e&&(_a=null),te(ut)}var ut=$(0);function ar(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||mu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ic(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tc={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Xt(),l=Ja(s);l.payload=t,n!=null&&(l.callback=n),t=en(e,l,s),t!==null&&(Qt(t,e,s),_s(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Xt(),l=Ja(s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=en(e,l,s),t!==null&&(Qt(t,e,s),_s(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xt(),s=Ja(n);s.tag=2,t!=null&&(s.callback=t),t=en(e,s,n),t!==null&&(Qt(t,e,n),_s(t,e,n))}};function mh(e,t,n,s,l,f,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,b):t.prototype&&t.prototype.isPureReactComponent?!us(n,s)||!us(l,f):!0}function fh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Tc.enqueueReplaceState(t,t.state,null)}function Ln(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function hh(e){nr(e)}function ph(e){console.error(e)}function gh(e){nr(e)}function ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function yh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Mc(e,t,n){return n=Ja(n),n.tag=3,n.payload={element:null},n.callback=function(){ir(e,t)},n}function vh(e){return e=Ja(e),e.tag=3,e}function bh(e,t,n,s){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var f=s.value;e.payload=function(){return l(f)},e.callback=function(){yh(t,n,s)}}var b=n.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){yh(t,n,s),typeof l!="function"&&(un===null?un=new Set([this]):un.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})})}function rb(e,t,n,s,l){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&ps(t,n,l,!0),n=na.current,n!==null){switch(n.tag){case 13:return _a===null?Kc():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=l,s===ec?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Zc(e,s,l)),!1;case 22:return n.flags|=65536,s===ec?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Zc(e,s,l)),!1}throw Error(r(435,n.tag))}return Zc(e,s,l),Kc(),!1}if(Ee)return t=na.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,s!==Xl&&(e=Error(r(422),{cause:s}),hs(Jt(e,n)))):(s!==Xl&&(t=Error(r(423),{cause:s}),hs(Jt(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,s=Jt(s,n),l=Mc(e.stateNode,s,l),nc(e,l),Ze!==4&&(Ze=2)),!1;var f=Error(r(520),{cause:s});if(f=Jt(f,n),Us===null?Us=[f]:Us.push(f),Ze!==4&&(Ze=2),t===null)return!0;s=Jt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Mc(n.stateNode,s,e),nc(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(un===null||!un.has(f))))return n.flags|=65536,l&=-l,n.lanes|=l,l=vh(l),bh(l,e,n,s),nc(n,l),!1}n=n.return}while(n!==null);return!1}var _h=Error(r(461)),ft=!1;function gt(e,t,n,s){t.child=e===null?uh(t,null,n,s):Ai(t,e.child,n,s)}function Sh(e,t,n,s,l){n=n.render;var f=t.ref;if("ref"in s){var b={};for(var S in s)S!=="ref"&&(b[S]=s[S])}else b=s;return Un(t),s=lc(e,t,n,b,f,l),S=cc(),e!==null&&!ft?(uc(e,t,l),La(e,t,l)):(Ee&&S&&Hl(t),t.flags|=1,gt(e,t,s,l),t.child)}function xh(e,t,n,s,l){if(e===null){var f=n.type;return typeof f=="function"&&!Bl(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,Ih(e,t,f,s,l)):(e=ko(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Rc(e,l)){var b=f.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(b,s)&&e.ref===t.ref)return La(e,t,l)}return t.flags|=1,e=wa(f,s),e.ref=t.ref,e.return=t,t.child=e}function Ih(e,t,n,s,l){if(e!==null){var f=e.memoizedProps;if(us(f,s)&&e.ref===t.ref)if(ft=!1,t.pendingProps=s=f,Rc(e,l))(e.flags&131072)!==0&&(ft=!0);else return t.lanes=e.lanes,La(e,t,l)}return Ac(e,t,n,s,l)}function Th(e,t,n){var s=t.pendingProps,l=s.children,f=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=f!==null?f.baseLanes|n:n,e!==null){for(l=t.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;t.childLanes=f&~s}else t.childLanes=0,t.child=null;return Mh(e,t,s,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bo(t,f!==null?f.cachePool:null),f!==null?If(t,f):sc(),dh(t);else return t.lanes=t.childLanes=536870912,Mh(e,t,f!==null?f.baseLanes|n:n,n)}else f!==null?(Bo(t,f.cachePool),If(t,f),nn(),t.memoizedState=null):(e!==null&&Bo(t,null),sc(),nn());return gt(e,t,l,n),t.child}function Mh(e,t,n,s){var l=Jl();return l=l===null?null:{parent:ct._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Bo(t,null),sc(),dh(t),e!==null&&ps(e,t,s,!0),null}function sr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ac(e,t,n,s,l){return Un(t),n=lc(e,t,n,s,void 0,l),s=cc(),e!==null&&!ft?(uc(e,t,l),La(e,t,l)):(Ee&&s&&Hl(t),t.flags|=1,gt(e,t,n,l),t.child)}function Ah(e,t,n,s,l,f){return Un(t),t.updateQueue=null,n=Mf(t,s,n,l),Tf(e),s=cc(),e!==null&&!ft?(uc(e,t,f),La(e,t,f)):(Ee&&s&&Hl(t),t.flags|=1,gt(e,t,n,f),t.child)}function Nh(e,t,n,s,l){if(Un(t),t.stateNode===null){var f=gi,b=n.contextType;typeof b=="object"&&b!==null&&(f=xt(b)),f=new n(s,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=s,f.state=t.memoizedState,f.refs={},tc(t),b=n.contextType,f.context=typeof b=="object"&&b!==null?xt(b):gi,f.state=t.memoizedState,b=n.getDerivedStateFromProps,typeof b=="function"&&(Ic(t,n,b,s),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Tc.enqueueReplaceState(f,f.state,null),xs(t,s,f,l),Ss(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){f=t.stateNode;var S=t.memoizedProps,A=Ln(n,S);f.props=A;var U=f.context,H=n.contextType;b=gi,typeof H=="object"&&H!==null&&(b=xt(H));var K=n.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||U!==b)&&fh(t,f,s,b),Wa=!1;var L=t.memoizedState;f.state=L,xs(t,s,f,l),Ss(),U=t.memoizedState,S||L!==U||Wa?(typeof K=="function"&&(Ic(t,n,K,s),U=t.memoizedState),(A=Wa||mh(t,n,A,s,L,U,b))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),f.props=s,f.state=U,f.context=b,s=A):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,ac(e,t),b=t.memoizedProps,H=Ln(n,b),f.props=H,K=t.pendingProps,L=f.context,U=n.contextType,A=gi,typeof U=="object"&&U!==null&&(A=xt(U)),S=n.getDerivedStateFromProps,(U=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==K||L!==A)&&fh(t,f,s,A),Wa=!1,L=t.memoizedState,f.state=L,xs(t,s,f,l),Ss();var B=t.memoizedState;b!==K||L!==B||Wa||e!==null&&e.dependencies!==null&&qo(e.dependencies)?(typeof S=="function"&&(Ic(t,n,S,s),B=t.memoizedState),(H=Wa||mh(t,n,H,s,L,B,A)||e!==null&&e.dependencies!==null&&qo(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,B,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,B,A)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),f.props=s,f.state=B,f.context=A,s=H):(typeof f.componentDidUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return f=s,sr(e,t),s=(t.flags&128)!==0,f||s?(f=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&s?(t.child=Ai(t,e.child,null,l),t.child=Ai(t,null,n,l)):gt(e,t,n,l),t.memoizedState=f.state,e=t.child):e=La(e,t,l),e}function Ch(e,t,n,s){return fs(),t.flags|=256,gt(e,t,n,s),t.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cc(e){return{baseLanes:e,cachePool:pf()}}function jc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ia),e}function jh(e,t,n){var s=t.pendingProps,l=!1,f=(t.flags&128)!==0,b;if((b=f)||(b=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),b&&(l=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(l?an(t):nn(),Ee){var S=$e,A;if(A=S){e:{for(A=S,S=ba;A.nodeType!==8;){if(!S){S=null;break e}if(A=pa(A.nextSibling),A===null){S=null;break e}}S=A}S!==null?(t.memoizedState={dehydrated:S,treeContext:En!==null?{id:Da,overflow:Ra}:null,retryLane:536870912,hydrationErrors:null},A=Yt(18,null,null,0),A.stateNode=S,A.return=t,t.child=A,jt=t,$e=null,A=!0):A=!1}A||Rn(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return mu(S)?t.lanes=32:t.lanes=536870912,null;ka(t)}return S=s.children,s=s.fallback,l?(nn(),l=t.mode,S=or({mode:"hidden",children:S},l),s=jn(s,l,n,null),S.return=t,s.return=t,S.sibling=s,t.child=S,l=t.child,l.memoizedState=Cc(n),l.childLanes=jc(e,b,n),t.memoizedState=Nc,s):(an(t),Ec(t,S))}if(A=e.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(f)t.flags&256?(an(t),t.flags&=-257,t=wc(e,t,n)):t.memoizedState!==null?(nn(),t.child=e.child,t.flags|=128,t=null):(nn(),l=s.fallback,S=t.mode,s=or({mode:"visible",children:s.children},S),l=jn(l,S,n,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,Ai(t,e.child,null,n),s=t.child,s.memoizedState=Cc(n),s.childLanes=jc(e,b,n),t.memoizedState=Nc,t=l);else if(an(t),mu(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var U=b.dgst;b=U,s=Error(r(419)),s.stack="",s.digest=b,hs({value:s,source:null,stack:null}),t=wc(e,t,n)}else if(ft||ps(e,t,n,!1),b=(n&e.childLanes)!==0,ft||b){if(b=qe,b!==null&&(s=n&-n,s=(s&42)!==0?1:fl(s),s=(s&(b.suspendedLanes|n))!==0?0:s,s!==0&&s!==A.retryLane))throw A.retryLane=s,pi(e,s),Qt(b,e,s),_h;S.data==="$?"||Kc(),t=wc(e,t,n)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,$e=pa(S.nextSibling),jt=t,Ee=!0,Dn=null,ba=!1,e!==null&&(ta[aa++]=Da,ta[aa++]=Ra,ta[aa++]=En,Da=e.id,Ra=e.overflow,En=t),t=Ec(t,s.children),t.flags|=4096);return t}return l?(nn(),l=s.fallback,S=t.mode,A=e.child,U=A.sibling,s=wa(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,U!==null?l=wa(U,l):(l=jn(l,S,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,S=e.child.memoizedState,S===null?S=Cc(n):(A=S.cachePool,A!==null?(U=ct._currentValue,A=A.parent!==U?{parent:U,pool:U}:A):A=pf(),S={baseLanes:S.baseLanes|n,cachePool:A}),l.memoizedState=S,l.childLanes=jc(e,b,n),t.memoizedState=Nc,s):(an(t),n=e.child,e=n.sibling,n=wa(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=n,t.memoizedState=null,n)}function Ec(e,t){return t=or({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function or(e,t){return e=Yt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wc(e,t,n){return Ai(t,e.child,null,n),e=Ec(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Kl(e.return,t,n)}function Dc(e,t,n,s,l){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=n,f.tailMode=l)}function wh(e,t,n){var s=t.pendingProps,l=s.revealOrder,f=s.tail;if(gt(e,t,s.children,n),s=ut.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eh(e,n,t);else if(e.tag===19)Eh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(J(ut,s),l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&ar(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Dc(t,!1,l,n,f);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ar(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Dc(t,!0,n,null,f);break;case"together":Dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function La(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ps(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=wa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qo(e)))}function lb(e,t,n){switch(t.tag){case 3:re(t,t.stateNode.containerInfo),Za(t,ct,e.memoizedState.cache),fs();break;case 27:case 5:lt(t);break;case 4:re(t,t.stateNode.containerInfo);break;case 10:Za(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(an(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jh(e,t,n):(an(t),e=La(e,t,n),e!==null?e.sibling:null);an(t);break;case 19:var l=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(ps(e,t,n,!1),s=(n&t.childLanes)!==0),l){if(s)return wh(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),J(ut,ut.current),s)break;return null;case 22:case 23:return t.lanes=0,Th(e,t,n);case 24:Za(t,ct,e.memoizedState.cache)}return La(e,t,n)}function Dh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ft=!0;else{if(!Rc(e,n)&&(t.flags&128)===0)return ft=!1,lb(e,t,n);ft=(e.flags&131072)!==0}else ft=!1,Ee&&(t.flags&1048576)!==0&&lf(t,Vo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,l=s._init;if(s=l(s._payload),t.type=s,typeof s=="function")Bl(s)?(e=Ln(s,e),t.tag=1,t=Nh(null,t,s,e,n)):(t.tag=0,t=Ac(null,t,s,e,n));else{if(s!=null){if(l=s.$$typeof,l===O){t.tag=11,t=Sh(null,t,s,e,n);break e}else if(l===X){t.tag=14,t=xh(null,t,s,e,n);break e}}throw t=he(s)||s,Error(r(306,t,""))}}return t;case 0:return Ac(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,l=Ln(s,t.pendingProps),Nh(e,t,s,l,n);case 3:e:{if(re(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var f=t.memoizedState;l=f.element,ac(e,t),xs(t,s,null,n);var b=t.memoizedState;if(s=b.cache,Za(t,ct,s),s!==f.cache&&$l(t,[ct],n,!0),Ss(),s=b.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Ch(e,t,s,n);break e}else if(s!==l){l=Jt(Error(r(424)),t),hs(l),t=Ch(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=pa(e.firstChild),jt=t,Ee=!0,Dn=null,ba=!0,n=uh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fs(),s===l){t=La(e,t,n);break e}gt(e,t,s,n)}t=t.child}return t;case 26:return sr(e,t),e===null?(n=Op(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,s=_r(le.current).createElement(n),s[St]=t,s[Dt]=e,vt(s,n,e),mt(s),t.stateNode=s):t.memoizedState=Op(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return lt(t),e===null&&Ee&&(s=t.stateNode=Rp(t.type,t.pendingProps,le.current),jt=t,ba=!0,l=$e,fn(t.type)?(fu=l,$e=pa(s.firstChild)):$e=l),gt(e,t,t.pendingProps.children,n),sr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((l=s=$e)&&(s=Ob(s,t.type,t.pendingProps,ba),s!==null?(t.stateNode=s,jt=t,$e=pa(s.firstChild),ba=!1,l=!0):l=!1),l||Rn(t)),lt(t),l=t.type,f=t.pendingProps,b=e!==null?e.memoizedProps:null,s=f.children,cu(l,f)?s=null:b!==null&&cu(l,b)&&(t.flags|=32),t.memoizedState!==null&&(l=lc(e,t,eb,null,null,n),Gs._currentValue=l),sr(e,t),gt(e,t,s,n),t.child;case 6:return e===null&&Ee&&((e=n=$e)&&(n=kb(n,t.pendingProps,ba),n!==null?(t.stateNode=n,jt=t,$e=null,e=!0):e=!1),e||Rn(t)),null;case 13:return jh(e,t,n);case 4:return re(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ai(t,null,s,n):gt(e,t,s,n),t.child;case 11:return Sh(e,t,t.type,t.pendingProps,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Za(t,t.type,s.value),gt(e,t,s.children,n),t.child;case 9:return l=t.type._context,s=t.pendingProps.children,Un(t),l=xt(l),s=s(l),t.flags|=1,gt(e,t,s,n),t.child;case 14:return xh(e,t,t.type,t.pendingProps,n);case 15:return Ih(e,t,t.type,t.pendingProps,n);case 19:return wh(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=or(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=wa(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Th(e,t,n);case 24:return Un(t),s=xt(ct),e===null?(l=Jl(),l===null&&(l=qe,f=Zl(),l.pooledCache=f,f.refCount++,f!==null&&(l.pooledCacheLanes|=n),l=f),t.memoizedState={parent:s,cache:l},tc(t),Za(t,ct,l)):((e.lanes&n)!==0&&(ac(e,t),xs(t,null,null,n),Ss()),l=e.memoizedState,f=t.memoizedState,l.parent!==s?(l={parent:s,cache:s},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Za(t,ct,s)):(s=f.cache,Za(t,ct,s),s!==l.cache&&$l(t,[ct],n,!0))),gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Va(e){e.flags|=4}function Rh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zp(t)){if(t=na.current,t!==null&&((Me&4194048)===Me?_a!==null:(Me&62914560)!==Me&&(Me&536870912)===0||t!==_a))throw bs=ec,gf;e.flags|=8192}}function rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?um():536870912,e.lanes|=t,Ei|=t)}function js(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&65011712,s|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function cb(e,t,n){var s=t.pendingProps;switch(Fl(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ua(ct),ze(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ms(t)?Va(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,df())),Ge(t),null;case 26:return n=t.memoizedState,e===null?(Va(t),n!==null?(Ge(t),Rh(t,n)):(Ge(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Va(t),Ge(t),Rh(t,n)):(Ge(t),t.flags&=-16777217):(e.memoizedProps!==s&&Va(t),Ge(t),t.flags&=-16777217),null;case 27:Nt(t),n=le.current;var l=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Va(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ge(t),null}e=ae.current,ms(t)?cf(t):(e=Rp(l,s,n),t.stateNode=e,Va(t))}return Ge(t),null;case 5:if(Nt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Va(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ge(t),null}if(e=ae.current,ms(t))cf(t);else{switch(l=_r(le.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?l.createElement(n,{is:s.is}):l.createElement(n)}}e[St]=t,e[Dt]=s;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=e;e:switch(vt(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Va(t)}}return Ge(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Va(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=le.current,ms(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,l=jt,l!==null)switch(l.tag){case 27:case 5:s=l.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Ap(e.nodeValue,n)),e||Rn(t)}else e=_r(e).createTextNode(s),e[St]=t,t.stateNode=e}return Ge(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=ms(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(r(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));l[St]=t}else fs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),l=!1}else l=df(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(ka(t),t):(ka(t),null)}if(ka(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,l=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(l=s.alternate.memoizedState.cachePool.pool);var f=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),rr(t,t.updateQueue),Ge(t),null;case 4:return ze(),e===null&&iu(t.stateNode.containerInfo),Ge(t),null;case 10:return Ua(t.type),Ge(t),null;case 19:if(te(ut),l=t.memoizedState,l===null)return Ge(t),null;if(s=(t.flags&128)!==0,f=l.rendering,f===null)if(s)js(l,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=ar(e),f!==null){for(t.flags|=128,js(l,!1),e=f.updateQueue,t.updateQueue=e,rr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)rf(n,e),n=n.sibling;return J(ut,ut.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ct()>ur&&(t.flags|=128,s=!0,js(l,!1),t.lanes=4194304)}else{if(!s)if(e=ar(f),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,rr(t,e),js(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ee)return Ge(t),null}else 2*Ct()-l.renderingStartTime>ur&&n!==536870912&&(t.flags|=128,s=!0,js(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ct(),t.sibling=null,e=ut.current,J(ut,s?e&1|2:e&1),t):(Ge(t),null);case 22:case 23:return ka(t),oc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),n=t.updateQueue,n!==null&&rr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&te(On),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ua(ct),Ge(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ub(e,t){switch(Fl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ua(ct),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Nt(t),null;case 13:if(ka(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(ut),null;case 4:return ze(),null;case 10:return Ua(t.type),null;case 22:case 23:return ka(t),oc(),e!==null&&te(On),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ua(ct),null;case 25:return null;default:return null}}function Ph(e,t){switch(Fl(t),t.tag){case 3:Ua(ct),ze();break;case 26:case 27:case 5:Nt(t);break;case 4:ze();break;case 13:ka(t);break;case 19:te(ut);break;case 10:Ua(t.type);break;case 22:case 23:ka(t),oc(),e!==null&&te(On);break;case 24:Ua(ct)}}function Es(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&e)===e){s=void 0;var f=n.create,b=n.inst;s=f(),b.destroy=s}n=n.next}while(n!==l)}}catch(S){Ve(t,t.return,S)}}function sn(e,t,n){try{var s=t.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){var b=s.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,l=t;var A=n,U=S;try{U()}catch(H){Ve(l,A,H)}}}s=s.next}while(s!==f)}}catch(H){Ve(t,t.return,H)}}function Uh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{xf(t,n)}catch(s){Ve(e,e.return,s)}}}function Oh(e,t,n){n.props=Ln(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ve(e,t,s)}}function ws(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(l){Ve(e,t,l)}}function Sa(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(l){Ve(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Ve(e,t,l)}else n.current=null}function kh(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(l){Ve(e,e.return,l)}}function Pc(e,t,n){try{var s=e.stateNode;wb(s,e.type,n,t),s[Dt]=t}catch(l){Ve(e,e.return,l)}}function Lh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fn(e.type)||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=br));else if(s!==4&&(s===27&&fn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Oc(e,t,n),e=e.sibling;e!==null;)Oc(e,t,n),e=e.sibling}function lr(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&fn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(lr(e,t,n),e=e.sibling;e!==null;)lr(e,t,n),e=e.sibling}function Vh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);vt(t,s,n),t[St]=e,t[Dt]=n}catch(f){Ve(e,e.return,f)}}var qa=!1,tt=!1,kc=!1,qh=typeof WeakSet=="function"?WeakSet:Set,ht=null;function db(e,t){if(e=e.containerInfo,ru=Ar,e=$m(e),Ul(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var b=0,S=-1,A=-1,U=0,H=0,K=e,L=null;t:for(;;){for(var B;K!==n||l!==0&&K.nodeType!==3||(S=b+l),K!==f||s!==0&&K.nodeType!==3||(A=b+s),K.nodeType===3&&(b+=K.nodeValue.length),(B=K.firstChild)!==null;)L=K,K=B;for(;;){if(K===e)break t;if(L===n&&++U===l&&(S=b),L===f&&++H===s&&(A=b),(B=K.nextSibling)!==null)break;K=L,L=K.parentNode}K=B}n=S===-1||A===-1?null:{start:S,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(lu={focusedElem:e,selectionRange:n},Ar=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,l=f.memoizedProps,f=f.memoizedState,s=n.stateNode;try{var pe=Ln(n.type,l,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(pe,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){Ve(n,n.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)du(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function zh(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n),s&4&&Es(5,n);break;case 1:if(on(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(b){Ve(n,n.return,b)}else{var l=Ln(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ve(n,n.return,b)}}s&64&&Uh(n),s&512&&ws(n,n.return);break;case 3:if(on(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{xf(e,t)}catch(b){Ve(n,n.return,b)}}break;case 27:t===null&&s&4&&Vh(n);case 26:case 5:on(e,n),t===null&&s&4&&kh(n),s&512&&ws(n,n.return);break;case 12:on(e,n);break;case 13:on(e,n),s&4&&Gh(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_b.bind(null,n),Lb(e,n))));break;case 22:if(s=n.memoizedState!==null||qa,!s){t=t!==null&&t.memoizedState!==null||tt,l=qa;var f=tt;qa=s,(tt=t)&&!f?rn(e,n,(n.subtreeFlags&8772)!==0):on(e,n),qa=l,tt=f}break;case 30:break;default:on(e,n)}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Ut=!1;function za(e,t,n){for(n=n.child;n!==null;)Yh(e,t,n),n=n.sibling}function Yh(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ke,n)}catch{}switch(n.tag){case 26:tt||Sa(n,t),za(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tt||Sa(n,t);var s=Ye,l=Ut;fn(n.type)&&(Ye=n.stateNode,Ut=!1),za(e,t,n),qs(n.stateNode),Ye=s,Ut=l;break;case 5:tt||Sa(n,t);case 6:if(s=Ye,l=Ut,Ye=null,za(e,t,n),Ye=s,Ut=l,Ye!==null)if(Ut)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(n.stateNode)}catch(f){Ve(n,t,f)}else try{Ye.removeChild(n.stateNode)}catch(f){Ve(n,t,f)}break;case 18:Ye!==null&&(Ut?(e=Ye,wp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Qs(e)):wp(Ye,n.stateNode));break;case 4:s=Ye,l=Ut,Ye=n.stateNode.containerInfo,Ut=!0,za(e,t,n),Ye=s,Ut=l;break;case 0:case 11:case 14:case 15:tt||sn(2,n,t),tt||sn(4,n,t),za(e,t,n);break;case 1:tt||(Sa(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Oh(n,t,s)),za(e,t,n);break;case 21:za(e,t,n);break;case 22:tt=(s=tt)||n.memoizedState!==null,za(e,t,n),tt=s;break;default:za(e,t,n)}}function Gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qs(e)}catch(n){Ve(t,t.return,n)}}function mb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new qh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new qh),t;default:throw Error(r(435,e.tag))}}function Lc(e,t){var n=mb(e);t.forEach(function(s){var l=Sb.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}function Gt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s],f=e,b=t,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(fn(S.type)){Ye=S.stateNode,Ut=!1;break e}break;case 5:Ye=S.stateNode,Ut=!1;break e;case 3:case 4:Ye=S.stateNode.containerInfo,Ut=!0;break e}S=S.return}if(Ye===null)throw Error(r(160));Yh(f,b,l),Ye=null,Ut=!1,f=l.alternate,f!==null&&(f.return=null),l.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Hh(t,e),t=t.sibling}var ha=null;function Hh(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(t,e),Ht(e),s&4&&(sn(3,e,e.return),Es(3,e),sn(5,e,e.return));break;case 1:Gt(t,e),Ht(e),s&512&&(tt||n===null||Sa(n,n.return)),s&64&&qa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var l=ha;if(Gt(t,e),Ht(e),s&512&&(tt||n===null||Sa(n,n.return)),s&4){var f=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(s){case"title":f=l.getElementsByTagName("title")[0],(!f||f[ts]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=l.createElement(s),l.head.insertBefore(f,l.querySelector("head > title"))),vt(f,s,n),f[St]=e,mt(f),s=f;break e;case"link":var b=Vp("link","href",l).get(s+(n.href||""));if(b){for(var S=0;S<b.length;S++)if(f=b[S],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){b.splice(S,1);break t}}f=l.createElement(s),vt(f,s,n),l.head.appendChild(f);break;case"meta":if(b=Vp("meta","content",l).get(s+(n.content||""))){for(S=0;S<b.length;S++)if(f=b[S],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){b.splice(S,1);break t}}f=l.createElement(s),vt(f,s,n),l.head.appendChild(f);break;default:throw Error(r(468,s))}f[St]=e,mt(f),s=f}e.stateNode=s}else qp(l,e.type,e.stateNode);else e.stateNode=Lp(l,s,e.memoizedProps);else f!==s?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,s===null?qp(l,e.type,e.stateNode):Lp(l,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Pc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gt(t,e),Ht(e),s&512&&(tt||n===null||Sa(n,n.return)),n!==null&&s&4&&Pc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gt(t,e),Ht(e),s&512&&(tt||n===null||Sa(n,n.return)),e.flags&32){l=e.stateNode;try{li(l,"")}catch(B){Ve(e,e.return,B)}}s&4&&e.stateNode!=null&&(l=e.memoizedProps,Pc(e,l,n!==null?n.memoizedProps:l)),s&1024&&(kc=!0);break;case 6:if(Gt(t,e),Ht(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(B){Ve(e,e.return,B)}}break;case 3:if(Ir=null,l=ha,ha=Sr(t.containerInfo),Gt(t,e),ha=l,Ht(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qs(t.containerInfo)}catch(B){Ve(e,e.return,B)}kc&&(kc=!1,Fh(e));break;case 4:s=ha,ha=Sr(e.stateNode.containerInfo),Gt(t,e),Ht(e),ha=s;break;case 12:Gt(t,e),Ht(e);break;case 13:Gt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gc=Ct()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Lc(e,s)));break;case 22:l=e.memoizedState!==null;var A=n!==null&&n.memoizedState!==null,U=qa,H=tt;if(qa=U||l,tt=H||A,Gt(t,e),tt=H,qa=U,Ht(e),s&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||A||qa||tt||Vn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){A=n=t;try{if(f=A.stateNode,l)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=A.stateNode;var K=A.memoizedProps.style,L=K!=null&&K.hasOwnProperty("display")?K.display:null;S.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(B){Ve(A,A.return,B)}}}else if(t.tag===6){if(n===null){A=t;try{A.stateNode.nodeValue=l?"":A.memoizedProps}catch(B){Ve(A,A.return,B)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Lc(e,n))));break;case 19:Gt(t,e),Ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Lc(e,s)));break;case 30:break;case 21:break;default:Gt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Lh(s)){n=s;break}s=s.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var l=n.stateNode,f=Uc(e);lr(e,f,l);break;case 5:var b=n.stateNode;n.flags&32&&(li(b,""),n.flags&=-33);var S=Uc(e);lr(e,S,b);break;case 3:case 4:var A=n.stateNode.containerInfo,U=Uc(e);Oc(e,U,A);break;default:throw Error(r(161))}}catch(H){Ve(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function on(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)zh(e,t.alternate,t),t=t.sibling}function Vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sn(4,t,t.return),Vn(t);break;case 1:Sa(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Oh(t,t.return,n),Vn(t);break;case 27:qs(t.stateNode);case 26:case 5:Sa(t,t.return),Vn(t);break;case 22:t.memoizedState===null&&Vn(t);break;case 30:Vn(t);break;default:Vn(t)}e=e.sibling}}function rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,l=e,f=t,b=f.flags;switch(f.tag){case 0:case 11:case 15:rn(l,f,n),Es(4,f);break;case 1:if(rn(l,f,n),s=f,l=s.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(U){Ve(s,s.return,U)}if(s=f,l=s.updateQueue,l!==null){var S=s.stateNode;try{var A=l.shared.hiddenCallbacks;if(A!==null)for(l.shared.hiddenCallbacks=null,l=0;l<A.length;l++)Sf(A[l],S)}catch(U){Ve(s,s.return,U)}}n&&b&64&&Uh(f),ws(f,f.return);break;case 27:Vh(f);case 26:case 5:rn(l,f,n),n&&s===null&&b&4&&kh(f),ws(f,f.return);break;case 12:rn(l,f,n);break;case 13:rn(l,f,n),n&&b&4&&Gh(l,f);break;case 22:f.memoizedState===null&&rn(l,f,n),ws(f,f.return);break;case 30:break;default:rn(l,f,n)}t=t.sibling}}function Vc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gs(n))}function qc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gs(e))}function xa(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xh(e,t,n,s),t=t.sibling}function Xh(e,t,n,s){var l=t.flags;switch(t.tag){case 0:case 11:case 15:xa(e,t,n,s),l&2048&&Es(9,t);break;case 1:xa(e,t,n,s);break;case 3:xa(e,t,n,s),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gs(e)));break;case 12:if(l&2048){xa(e,t,n,s),e=t.stateNode;try{var f=t.memoizedProps,b=f.id,S=f.onPostCommit;typeof S=="function"&&S(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ve(t,t.return,A)}}else xa(e,t,n,s);break;case 13:xa(e,t,n,s);break;case 23:break;case 22:f=t.stateNode,b=t.alternate,t.memoizedState!==null?f._visibility&2?xa(e,t,n,s):Ds(e,t):f._visibility&2?xa(e,t,n,s):(f._visibility|=2,Ni(e,t,n,s,(t.subtreeFlags&10256)!==0)),l&2048&&Vc(b,t);break;case 24:xa(e,t,n,s),l&2048&&qc(t.alternate,t);break;default:xa(e,t,n,s)}}function Ni(e,t,n,s,l){for(l=l&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,b=t,S=n,A=s,U=b.flags;switch(b.tag){case 0:case 11:case 15:Ni(f,b,S,A,l),Es(8,b);break;case 23:break;case 22:var H=b.stateNode;b.memoizedState!==null?H._visibility&2?Ni(f,b,S,A,l):Ds(f,b):(H._visibility|=2,Ni(f,b,S,A,l)),l&&U&2048&&Vc(b.alternate,b);break;case 24:Ni(f,b,S,A,l),l&&U&2048&&qc(b.alternate,b);break;default:Ni(f,b,S,A,l)}t=t.sibling}}function Ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,l=s.flags;switch(s.tag){case 22:Ds(n,s),l&2048&&Vc(s.alternate,s);break;case 24:Ds(n,s),l&2048&&qc(s.alternate,s);break;default:Ds(n,s)}t=t.sibling}}var Rs=8192;function Ci(e){if(e.subtreeFlags&Rs)for(e=e.child;e!==null;)Qh(e),e=e.sibling}function Qh(e){switch(e.tag){case 26:Ci(e),e.flags&Rs&&e.memoizedState!==null&&Zb(ha,e.memoizedState,e.memoizedProps);break;case 5:Ci(e);break;case 3:case 4:var t=ha;ha=Sr(e.stateNode.containerInfo),Ci(e),ha=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Rs,Rs=16777216,Ci(e),Rs=t):Ci(e));break;default:Ci(e)}}function Kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ht=s,Zh(s,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$h(e),e=e.sibling}function $h(e){switch(e.tag){case 0:case 11:case 15:Ps(e),e.flags&2048&&sn(9,e,e.return);break;case 3:Ps(e);break;case 12:Ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cr(e)):Ps(e);break;default:Ps(e)}}function cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ht=s,Zh(s,e)}Kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:sn(8,t,t.return),cr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,cr(t));break;default:cr(t)}e=e.sibling}}function Zh(e,t){for(;ht!==null;){var n=ht;switch(n.tag){case 0:case 11:case 15:sn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:gs(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ht=s;else e:for(n=e;ht!==null;){s=ht;var l=s.sibling,f=s.return;if(Bh(s),s===n){ht=null;break e}if(l!==null){l.return=f,ht=l;break e}ht=f}}}var fb={getCacheForType:function(e){var t=xt(ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},hb=typeof WeakMap=="function"?WeakMap:Map,Re=0,qe=null,Ie=null,Me=0,Pe=0,Ft=null,ln=!1,ji=!1,zc=!1,Ba=0,Ze=0,cn=0,qn=0,Bc=0,ia=0,Ei=0,Us=null,Ot=null,Yc=!1,Gc=0,ur=1/0,dr=null,un=null,yt=0,dn=null,wi=null,Di=0,Hc=0,Fc=null,Wh=null,Os=0,Xc=null;function Xt(){if((Re&2)!==0&&Me!==0)return Me&-Me;if(q.T!==null){var e=bi;return e!==0?e:eu()}return fm()}function Jh(){ia===0&&(ia=(Me&536870912)===0||Ee?cm():536870912);var e=na.current;return e!==null&&(e.flags|=32),ia}function Qt(e,t,n){(e===qe&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(Ri(e,0),mn(e,Me,ia,!1)),es(e,n),((Re&2)===0||e!==qe)&&(e===qe&&((Re&2)===0&&(qn|=n),Ze===4&&mn(e,Me,ia,!1)),Ia(e))}function ep(e,t,n){if((Re&6)!==0)throw Error(r(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Ji(e,t),l=s?yb(e,t):$c(e,t,!0),f=s;do{if(l===0){ji&&!s&&mn(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!pb(n)){l=$c(e,t,!1),f=!1;continue}if(l===2){if(f=t,e.errorRecoveryDisabledLanes&f)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var S=e;l=Us;var A=S.current.memoizedState.isDehydrated;if(A&&(Ri(S,b).flags|=256),b=$c(S,b,!1),b!==2){if(zc&&!A){S.errorRecoveryDisabledLanes|=f,qn|=f,l=4;break e}f=Ot,Ot=l,f!==null&&(Ot===null?Ot=f:Ot.push.apply(Ot,f))}l=b}if(f=!1,l!==2)continue}}if(l===1){Ri(e,0),mn(e,t,0,!0);break}e:{switch(s=e,f=l,f){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:mn(s,t,ia,!ln);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(l=Gc+300-Ct(),10<l)){if(mn(s,t,ia,!ln),xo(s,0,!0)!==0)break e;s.timeoutHandle=jp(tp.bind(null,s,n,Ot,dr,Yc,t,ia,qn,Ei,ln,f,2,-0,0),l);break e}tp(s,n,Ot,dr,Yc,t,ia,qn,Ei,ln,f,0,-0,0)}}break}while(!0);Ia(e)}function tp(e,t,n,s,l,f,b,S,A,U,H,K,L,B){if(e.timeoutHandle=-1,K=t.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Ys={stylesheets:null,count:0,unsuspend:$b},Qh(t),K=Wb(),K!==null)){e.cancelPendingCommit=K(lp.bind(null,e,t,f,n,s,l,b,S,A,H,1,L,B)),mn(e,f,b,!U);return}lp(e,t,f,n,s,l,b,S,A)}function pb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var l=n[s],f=l.getSnapshot;l=l.value;try{if(!Bt(f(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t,n,s){t&=~Bc,t&=~qn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var l=t;0<l;){var f=31-Be(l),b=1<<f;s[f]=-1,l&=~b}n!==0&&dm(e,n,t)}function mr(){return(Re&6)===0?(ks(0),!1):!0}function Qc(){if(Ie!==null){if(Pe===0)var e=Ie.return;else e=Ie,Pa=Pn=null,dc(e),Mi=null,Ns=0,e=Ie;for(;e!==null;)Ph(e.alternate,e),e=e.return;Ie=null}}function Ri(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Rb(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Qc(),qe=e,Ie=n=wa(e.current,null),Me=t,Pe=0,Ft=null,ln=!1,ji=Ji(e,t),zc=!1,Ei=ia=Bc=qn=cn=Ze=0,Ot=Us=null,Yc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var l=31-Be(s),f=1<<l;t|=e[l],s&=~f}return Ba=t,Po(),n}function ap(e,t){Se=null,q.H=Jo,t===vs||t===Yo?(t=bf(),Pe=3):t===gf?(t=bf(),Pe=4):Pe=t===_h?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ft=t,Ie===null&&(Ze=1,ir(e,Jt(t,e.current)))}function np(){var e=q.H;return q.H=Jo,e===null?Jo:e}function ip(){var e=q.A;return q.A=fb,e}function Kc(){Ze=4,ln||(Me&4194048)!==Me&&na.current!==null||(ji=!0),(cn&134217727)===0&&(qn&134217727)===0||qe===null||mn(qe,Me,ia,!1)}function $c(e,t,n){var s=Re;Re|=2;var l=np(),f=ip();(qe!==e||Me!==t)&&(dr=null,Ri(e,t)),t=!1;var b=Ze;e:do try{if(Pe!==0&&Ie!==null){var S=Ie,A=Ft;switch(Pe){case 8:Qc(),b=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(t=!0);var U=Pe;if(Pe=0,Ft=null,Pi(e,S,A,U),n&&ji){b=0;break e}break;default:U=Pe,Pe=0,Ft=null,Pi(e,S,A,U)}}gb(),b=Ze;break}catch(H){ap(e,H)}while(!0);return t&&e.shellSuspendCounter++,Pa=Pn=null,Re=s,q.H=l,q.A=f,Ie===null&&(qe=null,Me=0,Po()),b}function gb(){for(;Ie!==null;)sp(Ie)}function yb(e,t){var n=Re;Re|=2;var s=np(),l=ip();qe!==e||Me!==t?(dr=null,ur=Ct()+500,Ri(e,t)):ji=Ji(e,t);e:do try{if(Pe!==0&&Ie!==null){t=Ie;var f=Ft;t:switch(Pe){case 1:Pe=0,Ft=null,Pi(e,t,f,1);break;case 2:case 9:if(yf(f)){Pe=0,Ft=null,op(t);break}t=function(){Pe!==2&&Pe!==9||qe!==e||(Pe=7),Ia(e)},f.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:yf(f)?(Pe=0,Ft=null,op(t)):(Pe=0,Ft=null,Pi(e,t,f,7));break;case 5:var b=null;switch(Ie.tag){case 26:b=Ie.memoizedState;case 5:case 27:var S=Ie;if(!b||zp(b)){Pe=0,Ft=null;var A=S.sibling;if(A!==null)Ie=A;else{var U=S.return;U!==null?(Ie=U,fr(U)):Ie=null}break t}}Pe=0,Ft=null,Pi(e,t,f,5);break;case 6:Pe=0,Ft=null,Pi(e,t,f,6);break;case 8:Qc(),Ze=6;break e;default:throw Error(r(462))}}vb();break}catch(H){ap(e,H)}while(!0);return Pa=Pn=null,q.H=s,q.A=l,Re=n,Ie!==null?0:(qe=null,Me=0,Po(),Ze)}function vb(){for(;Ie!==null&&!dt();)sp(Ie)}function sp(e){var t=Dh(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,t===null?fr(e):Ie=t}function op(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ah(n,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=Ah(n,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:dc(t);default:Ph(n,t),t=Ie=rf(t,Ba),t=Dh(n,t,Ba)}e.memoizedProps=e.pendingProps,t===null?fr(e):Ie=t}function Pi(e,t,n,s){Pa=Pn=null,dc(t),Mi=null,Ns=0;var l=t.return;try{if(rb(e,l,t,n,Me)){Ze=1,ir(e,Jt(n,e.current)),Ie=null;return}}catch(f){if(l!==null)throw Ie=l,f;Ze=1,ir(e,Jt(n,e.current)),Ie=null;return}t.flags&32768?(Ee||s===1?e=!0:ji||(Me&536870912)!==0?e=!1:(ln=e=!0,(s===2||s===9||s===3||s===6)&&(s=na.current,s!==null&&s.tag===13&&(s.flags|=16384))),rp(t,e)):fr(t)}function fr(e){var t=e;do{if((t.flags&32768)!==0){rp(t,ln);return}e=t.return;var n=cb(t.alternate,t,Ba);if(n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ze===0&&(Ze=5)}function rp(e,t){do{var n=ub(e.alternate,e);if(n!==null){n.flags&=32767,Ie=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=n}while(e!==null);Ze=6,Ie=null}function lp(e,t,n,s,l,f,b,S,A){e.cancelPendingCommit=null;do hr();while(yt!==0);if((Re&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(f=t.lanes|t.childLanes,f|=ql,$v(e,n,f,b,S,A),e===qe&&(Ie=qe=null,Me=0),wi=t,dn=e,Di=n,Hc=f,Fc=l,Wh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xb(Zi,function(){return fp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,l=Q.p,Q.p=2,b=Re,Re|=4;try{db(e,t,n)}finally{Re=b,Q.p=l,q.T=s}}yt=1,cp(),up(),dp()}}function cp(){if(yt===1){yt=0;var e=dn,t=wi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null;var s=Q.p;Q.p=2;var l=Re;Re|=4;try{Hh(t,e);var f=lu,b=$m(e.containerInfo),S=f.focusedElem,A=f.selectionRange;if(b!==S&&S&&S.ownerDocument&&Km(S.ownerDocument.documentElement,S)){if(A!==null&&Ul(S)){var U=A.start,H=A.end;if(H===void 0&&(H=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(H,S.value.length);else{var K=S.ownerDocument||document,L=K&&K.defaultView||window;if(L.getSelection){var B=L.getSelection(),pe=S.textContent.length,de=Math.min(A.start,pe),ke=A.end===void 0?de:Math.min(A.end,pe);!B.extend&&de>ke&&(b=ke,ke=de,de=b);var D=Qm(S,de),j=Qm(S,ke);if(D&&j&&(B.rangeCount!==1||B.anchorNode!==D.node||B.anchorOffset!==D.offset||B.focusNode!==j.node||B.focusOffset!==j.offset)){var P=K.createRange();P.setStart(D.node,D.offset),B.removeAllRanges(),de>ke?(B.addRange(P),B.extend(j.node,j.offset)):(P.setEnd(j.node,j.offset),B.addRange(P))}}}}for(K=[],B=S;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<K.length;S++){var F=K[S];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ar=!!ru,lu=ru=null}finally{Re=l,Q.p=s,q.T=n}}e.current=t,yt=2}}function up(){if(yt===2){yt=0;var e=dn,t=wi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=q.T,q.T=null;var s=Q.p;Q.p=2;var l=Re;Re|=4;try{zh(e,t.alternate,t)}finally{Re=l,Q.p=s,q.T=n}}yt=3}}function dp(){if(yt===4||yt===3){yt=0,wt();var e=dn,t=wi,n=Di,s=Wh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?yt=5:(yt=0,wi=dn=null,mp(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(un=null),hl(n),t=t.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ke,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=q.T,l=Q.p,Q.p=2,q.T=null;try{for(var f=e.onRecoverableError,b=0;b<s.length;b++){var S=s[b];f(S.value,{componentStack:S.stack})}}finally{q.T=t,Q.p=l}}(Di&3)!==0&&hr(),Ia(e),l=e.pendingLanes,(n&4194090)!==0&&(l&42)!==0?e===Xc?Os++:(Os=0,Xc=e):Os=0,ks(0)}}function mp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gs(t)))}function hr(e){return cp(),up(),dp(),fp()}function fp(){if(yt!==5)return!1;var e=dn,t=Hc;Hc=0;var n=hl(Di),s=q.T,l=Q.p;try{Q.p=32>n?32:n,q.T=null,n=Fc,Fc=null;var f=dn,b=Di;if(yt=0,wi=dn=null,Di=0,(Re&6)!==0)throw Error(r(331));var S=Re;if(Re|=4,$h(f.current),Xh(f,f.current,b,n),Re=S,ks(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ke,f)}catch{}return!0}finally{Q.p=l,q.T=s,mp(e,t)}}function hp(e,t,n){t=Jt(n,t),t=Mc(e.stateNode,t,2),e=en(e,t,2),e!==null&&(es(e,2),Ia(e))}function Ve(e,t,n){if(e.tag===3)hp(e,e,n);else for(;t!==null;){if(t.tag===3){hp(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(un===null||!un.has(s))){e=Jt(n,e),n=vh(2),s=en(t,n,2),s!==null&&(bh(n,s,t,e),es(s,2),Ia(s));break}}t=t.return}}function Zc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new hb;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(zc=!0,l.add(n),e=bb.bind(null,e,t,n),t.then(e,e))}function bb(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,qe===e&&(Me&n)===n&&(Ze===4||Ze===3&&(Me&62914560)===Me&&300>Ct()-Gc?(Re&2)===0&&Ri(e,0):Bc|=n,Ei===Me&&(Ei=0)),Ia(e)}function pp(e,t){t===0&&(t=um()),e=pi(e,t),e!==null&&(es(e,t),Ia(e))}function _b(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pp(e,n)}function Sb(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),pp(e,n)}function xb(e,t){return _e(e,t)}var pr=null,Ui=null,Wc=!1,gr=!1,Jc=!1,zn=0;function Ia(e){e!==Ui&&e.next===null&&(Ui===null?pr=Ui=e:Ui=Ui.next=e),gr=!0,Wc||(Wc=!0,Tb())}function ks(e,t){if(!Jc&&gr){Jc=!0;do for(var n=!1,s=pr;s!==null;){if(e!==0){var l=s.pendingLanes;if(l===0)var f=0;else{var b=s.suspendedLanes,S=s.pingedLanes;f=(1<<31-Be(42|e)+1)-1,f&=l&~(b&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,bp(s,f))}else f=Me,f=xo(s,s===qe?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Ji(s,f)||(n=!0,bp(s,f));s=s.next}while(n);Jc=!1}}function Ib(){gp()}function gp(){gr=Wc=!1;var e=0;zn!==0&&(Db()&&(e=zn),zn=0);for(var t=Ct(),n=null,s=pr;s!==null;){var l=s.next,f=yp(s,t);f===0?(s.next=null,n===null?pr=l:n.next=l,l===null&&(Ui=n)):(n=s,(e!==0||(f&3)!==0)&&(gr=!0)),s=l}ks(e)}function yp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var b=31-Be(f),S=1<<b,A=l[b];A===-1?((S&n)===0||(S&s)!==0)&&(l[b]=Kv(S,t)):A<=t&&(e.expiredLanes|=S),f&=~S}if(t=qe,n=Me,n=xo(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&De(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ji(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&De(s),hl(n)){case 2:case 8:n=Jn;break;case 32:n=Zi;break;case 268435456:n=Qe;break;default:n=Zi}return s=vp.bind(null,e),n=_e(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&De(s),e.callbackPriority=2,e.callbackNode=null,2}function vp(e,t){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var s=Me;return s=xo(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ep(e,s,t),yp(e,Ct()),e.callbackNode!=null&&e.callbackNode===n?vp.bind(null,e):null)}function bp(e,t){if(hr())return null;ep(e,t,!0)}function Tb(){Pb(function(){(Re&6)!==0?_e(Wn,Ib):gp()})}function eu(){return zn===0&&(zn=cm()),zn}function _p(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:No(""+e)}function Sp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mb(e,t,n,s,l){if(t==="submit"&&n&&n.stateNode===l){var f=_p((l[Dt]||null).action),b=s.submitter;b&&(t=(t=b[Dt]||null)?_p(t.formAction):b.getAttribute("formAction"),t!==null&&(f=t,b=null));var S=new wo("action","action",null,s,l);e.push({event:S,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(zn!==0){var A=b?Sp(l,b):new FormData(l);_c(n,{pending:!0,data:A,method:l.method,action:f},null,A)}}else typeof f=="function"&&(S.preventDefault(),A=b?Sp(l,b):new FormData(l),_c(n,{pending:!0,data:A,method:l.method,action:f},f,A))},currentTarget:l}]})}}for(var tu=0;tu<Vl.length;tu++){var au=Vl[tu],Ab=au.toLowerCase(),Nb=au[0].toUpperCase()+au.slice(1);fa(Ab,"on"+Nb)}fa(Jm,"onAnimationEnd"),fa(ef,"onAnimationIteration"),fa(tf,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(G1,"onTransitionRun"),fa(H1,"onTransitionStart"),fa(F1,"onTransitionCancel"),fa(af,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ls));function xp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var b=s.length-1;0<=b;b--){var S=s[b],A=S.instance,U=S.currentTarget;if(S=S.listener,A!==f&&l.isPropagationStopped())break e;f=S,l.currentTarget=U;try{f(l)}catch(H){nr(H)}l.currentTarget=null,f=A}else for(b=0;b<s.length;b++){if(S=s[b],A=S.instance,U=S.currentTarget,S=S.listener,A!==f&&l.isPropagationStopped())break e;f=S,l.currentTarget=U;try{f(l)}catch(H){nr(H)}l.currentTarget=null,f=A}}}}function Te(e,t){var n=t[pl];n===void 0&&(n=t[pl]=new Set);var s=e+"__bubble";n.has(s)||(Ip(t,e,2,!1),n.add(s))}function nu(e,t,n){var s=0;t&&(s|=4),Ip(n,e,s,t)}var yr="_reactListening"+Math.random().toString(36).slice(2);function iu(e){if(!e[yr]){e[yr]=!0,pm.forEach(function(n){n!=="selectionchange"&&(Cb.has(n)||nu(n,!1,e),nu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yr]||(t[yr]=!0,nu("selectionchange",!1,t))}}function Ip(e,t,n,s){switch(Xp(t)){case 2:var l=t_;break;case 8:l=a_;break;default:l=vu}n=l.bind(null,t,n,e),l=void 0,!Al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function su(e,t,n,s,l){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var S=s.stateNode.containerInfo;if(S===l)break;if(b===4)for(b=s.return;b!==null;){var A=b.tag;if((A===3||A===4)&&b.stateNode.containerInfo===l)return;b=b.return}for(;S!==null;){if(b=ai(S),b===null)return;if(A=b.tag,A===5||A===6||A===26||A===27){s=f=b;continue e}S=S.parentNode}}s=s.return}jm(function(){var U=f,H=Tl(n),K=[];e:{var L=nf.get(e);if(L!==void 0){var B=wo,pe=e;switch(e){case"keypress":if(jo(n)===0)break e;case"keydown":case"keyup":B=x1;break;case"focusin":pe="focus",B=El;break;case"focusout":pe="blur",B=El;break;case"beforeblur":case"afterblur":B=El;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=u1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=M1;break;case Jm:case ef:case tf:B=f1;break;case af:B=N1;break;case"scroll":case"scrollend":B=l1;break;case"wheel":B=j1;break;case"copy":case"cut":case"paste":B=p1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Pm;break;case"toggle":case"beforetoggle":B=w1}var de=(t&4)!==0,ke=!de&&(e==="scroll"||e==="scrollend"),D=de?L!==null?L+"Capture":null:L;de=[];for(var j=U,P;j!==null;){var F=j;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||D===null||(F=ns(j,D),F!=null&&de.push(Vs(j,F,P))),ke)break;j=j.return}0<de.length&&(L=new B(L,pe,null,n,H),K.push({event:L,listeners:de}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&n!==Il&&(pe=n.relatedTarget||n.fromElement)&&(ai(pe)||pe[ti]))break e;if((B||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,B?(pe=n.relatedTarget||n.toElement,B=U,pe=pe?ai(pe):null,pe!==null&&(ke=d(pe),de=pe.tag,pe!==ke||de!==5&&de!==27&&de!==6)&&(pe=null)):(B=null,pe=U),B!==pe)){if(de=Dm,F="onMouseLeave",D="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(de=Pm,F="onPointerLeave",D="onPointerEnter",j="pointer"),ke=B==null?L:as(B),P=pe==null?L:as(pe),L=new de(F,j+"leave",B,n,H),L.target=ke,L.relatedTarget=P,F=null,ai(H)===U&&(de=new de(D,j+"enter",pe,n,H),de.target=P,de.relatedTarget=ke,F=de),ke=F,B&&pe)t:{for(de=B,D=pe,j=0,P=de;P;P=Oi(P))j++;for(P=0,F=D;F;F=Oi(F))P++;for(;0<j-P;)de=Oi(de),j--;for(;0<P-j;)D=Oi(D),P--;for(;j--;){if(de===D||D!==null&&de===D.alternate)break t;de=Oi(de),D=Oi(D)}de=null}else de=null;B!==null&&Tp(K,L,B,de,!1),pe!==null&&ke!==null&&Tp(K,ke,pe,de,!0)}}e:{if(L=U?as(U):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var ne=Bm;else if(qm(L))if(Ym)ne=z1;else{ne=V1;var xe=L1}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&xl(U.elementType)&&(ne=Bm):ne=q1;if(ne&&(ne=ne(e,U))){zm(K,ne,n,H);break e}xe&&xe(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&Sl(L,"number",L.value)}switch(xe=U?as(U):window,e){case"focusin":(qm(xe)||xe.contentEditable==="true")&&(mi=xe,Ol=U,ds=null);break;case"focusout":ds=Ol=mi=null;break;case"mousedown":kl=!0;break;case"contextmenu":case"mouseup":case"dragend":kl=!1,Zm(K,n,H);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":Zm(K,n,H)}var oe;if(Dl)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else di?Lm(e,n)&&(fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(Um&&n.locale!=="ko"&&(di||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&di&&(oe=Em()):($a=H,Nl="value"in $a?$a.value:$a.textContent,di=!0)),xe=vr(U,fe),0<xe.length&&(fe=new Rm(fe,e,null,n,H),K.push({event:fe,listeners:xe}),oe?fe.data=oe:(oe=Vm(n),oe!==null&&(fe.data=oe)))),(oe=R1?P1(e,n):U1(e,n))&&(fe=vr(U,"onBeforeInput"),0<fe.length&&(xe=new Rm("onBeforeInput","beforeinput",null,n,H),K.push({event:xe,listeners:fe}),xe.data=oe)),Mb(K,e,U,n,H)}xp(K,t)})}function Vs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vr(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,f=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||f===null||(l=ns(e,n),l!=null&&s.unshift(Vs(e,l,f)),l=ns(e,t),l!=null&&s.push(Vs(e,l,f))),e.tag===3)return s;e=e.return}return[]}function Oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tp(e,t,n,s,l){for(var f=t._reactName,b=[];n!==null&&n!==s;){var S=n,A=S.alternate,U=S.stateNode;if(S=S.tag,A!==null&&A===s)break;S!==5&&S!==26&&S!==27||U===null||(A=U,l?(U=ns(n,f),U!=null&&b.unshift(Vs(n,U,A))):l||(U=ns(n,f),U!=null&&b.push(Vs(n,U,A)))),n=n.return}b.length!==0&&e.push({event:t,listeners:b})}var jb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function Mp(e){return(typeof e=="string"?e:""+e).replace(jb,`
`).replace(Eb,"")}function Ap(e,t){return t=Mp(t),Mp(e)===t}function br(){}function Oe(e,t,n,s,l,f){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||li(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&li(e,""+s);break;case"className":To(e,"class",s);break;case"tabIndex":To(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":To(e,n,s);break;case"style":Nm(e,s,f);break;case"data":if(t!=="object"){To(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=No(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Oe(e,t,"name",l.name,l,null),Oe(e,t,"formEncType",l.formEncType,l,null),Oe(e,t,"formMethod",l.formMethod,l,null),Oe(e,t,"formTarget",l.formTarget,l,null)):(Oe(e,t,"encType",l.encType,l,null),Oe(e,t,"method",l.method,l,null),Oe(e,t,"target",l.target,l,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=No(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=br);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=No(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Io(e,"popover",s);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Io(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,Io(e,n,s))}}function ou(e,t,n,s,l,f){switch(n){case"style":Nm(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(n=s.__html,n!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof s=="string"?li(e,s):(typeof s=="number"||typeof s=="bigint")&&li(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),f=e[Dt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,l),typeof s=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,l);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Io(e,n,s)}}}function vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,l=!1,f;for(f in n)if(n.hasOwnProperty(f)){var b=n[f];if(b!=null)switch(f){case"src":s=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Oe(e,t,f,b,n,null)}}l&&Oe(e,t,"srcSet",n.srcSet,n,null),s&&Oe(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var S=f=b=l=null,A=null,U=null;for(s in n)if(n.hasOwnProperty(s)){var H=n[s];if(H!=null)switch(s){case"name":l=H;break;case"type":b=H;break;case"checked":A=H;break;case"defaultChecked":U=H;break;case"value":f=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,t));break;default:Oe(e,t,s,H,n,null)}}Im(e,f,S,A,U,b,l,!1),Mo(e);return;case"select":Te("invalid",e),s=b=f=null;for(l in n)if(n.hasOwnProperty(l)&&(S=n[l],S!=null))switch(l){case"value":f=S;break;case"defaultValue":b=S;break;case"multiple":s=S;default:Oe(e,t,l,S,n,null)}t=f,n=b,e.multiple=!!s,t!=null?ri(e,!!s,t,!1):n!=null&&ri(e,!!s,n,!0);return;case"textarea":Te("invalid",e),f=l=s=null;for(b in n)if(n.hasOwnProperty(b)&&(S=n[b],S!=null))switch(b){case"value":s=S;break;case"defaultValue":l=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Oe(e,t,b,S,n,null)}Mm(e,s,l,f),Mo(e);return;case"option":for(A in n)if(n.hasOwnProperty(A)&&(s=n[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Oe(e,t,A,s,n,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<Ls.length;s++)Te(Ls[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in n)if(n.hasOwnProperty(U)&&(s=n[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Oe(e,t,U,s,n,null)}return;default:if(xl(t)){for(H in n)n.hasOwnProperty(H)&&(s=n[H],s!==void 0&&ou(e,t,H,s,n,void 0));return}}for(S in n)n.hasOwnProperty(S)&&(s=n[S],s!=null&&Oe(e,t,S,s,n,null))}function wb(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,f=null,b=null,S=null,A=null,U=null,H=null;for(B in n){var K=n[B];if(n.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":A=K;default:s.hasOwnProperty(B)||Oe(e,t,B,null,s,K)}}for(var L in s){var B=s[L];if(K=n[L],s.hasOwnProperty(L)&&(B!=null||K!=null))switch(L){case"type":f=B;break;case"name":l=B;break;case"checked":U=B;break;case"defaultChecked":H=B;break;case"value":b=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:B!==K&&Oe(e,t,L,B,s,K)}}_l(e,b,S,A,U,H,f,l);return;case"select":B=b=S=L=null;for(f in n)if(A=n[f],n.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":B=A;default:s.hasOwnProperty(f)||Oe(e,t,f,null,s,A)}for(l in s)if(f=s[l],A=n[l],s.hasOwnProperty(l)&&(f!=null||A!=null))switch(l){case"value":L=f;break;case"defaultValue":S=f;break;case"multiple":b=f;default:f!==A&&Oe(e,t,l,f,s,A)}t=S,n=b,s=B,L!=null?ri(e,!!n,L,!1):!!s!=!!n&&(t!=null?ri(e,!!n,t,!0):ri(e,!!n,n?[]:"",!1));return;case"textarea":B=L=null;for(S in n)if(l=n[S],n.hasOwnProperty(S)&&l!=null&&!s.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Oe(e,t,S,null,s,l)}for(b in s)if(l=s[b],f=n[b],s.hasOwnProperty(b)&&(l!=null||f!=null))switch(b){case"value":L=l;break;case"defaultValue":B=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(r(91));break;default:l!==f&&Oe(e,t,b,l,s,f)}Tm(e,L,B);return;case"option":for(var pe in n)if(L=n[pe],n.hasOwnProperty(pe)&&L!=null&&!s.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:Oe(e,t,pe,null,s,L)}for(A in s)if(L=s[A],B=n[A],s.hasOwnProperty(A)&&L!==B&&(L!=null||B!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Oe(e,t,A,L,s,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in n)L=n[de],n.hasOwnProperty(de)&&L!=null&&!s.hasOwnProperty(de)&&Oe(e,t,de,null,s,L);for(U in s)if(L=s[U],B=n[U],s.hasOwnProperty(U)&&L!==B&&(L!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:Oe(e,t,U,L,s,B)}return;default:if(xl(t)){for(var ke in n)L=n[ke],n.hasOwnProperty(ke)&&L!==void 0&&!s.hasOwnProperty(ke)&&ou(e,t,ke,void 0,s,L);for(H in s)L=s[H],B=n[H],!s.hasOwnProperty(H)||L===B||L===void 0&&B===void 0||ou(e,t,H,L,s,B);return}}for(var D in n)L=n[D],n.hasOwnProperty(D)&&L!=null&&!s.hasOwnProperty(D)&&Oe(e,t,D,null,s,L);for(K in s)L=s[K],B=n[K],!s.hasOwnProperty(K)||L===B||L==null&&B==null||Oe(e,t,K,L,s,B)}var ru=null,lu=null;function _r(e){return e.nodeType===9?e:e.ownerDocument}function Np(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uu=null;function Db(){var e=window.event;return e&&e.type==="popstate"?e===uu?!1:(uu=e,!0):(uu=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,Pb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(e){return Ep.resolve(null).then(e).catch(Ub)}:jp;function Ub(e){setTimeout(function(){throw e})}function fn(e){return e==="head"}function wp(e,t){var n=t,s=0,l=0;do{var f=n.nextSibling;if(e.removeChild(n),f&&f.nodeType===8)if(n=f.data,n==="/$"){if(0<s&&8>s){n=s;var b=e.ownerDocument;if(n&1&&qs(b.documentElement),n&2&&qs(b.body),n&4)for(n=b.head,qs(n),b=n.firstChild;b;){var S=b.nextSibling,A=b.nodeName;b[ts]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||n.removeChild(b),b=S}}if(l===0){e.removeChild(f),Qs(t);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:s=n.charCodeAt(0)-48;else s=0;n=f}while(n);Qs(t)}function du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":du(n),gl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ob(e,t,n,s){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ts])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=pa(e.nextSibling),e===null)break}return null}function kb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=pa(e.nextSibling),e===null))return null;return e}function mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Lb(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function pa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var fu=null;function Dp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Rp(e,t,n){switch(t=_r(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function qs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gl(e)}var sa=new Map,Pp=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ya=Q.d;Q.d={f:Vb,r:qb,D:zb,C:Bb,L:Yb,m:Gb,X:Fb,S:Hb,M:Xb};function Vb(){var e=Ya.f(),t=mr();return e||t}function qb(e){var t=ni(e);t!==null&&t.tag===5&&t.type==="form"?eh(t):Ya.r(e)}var ki=typeof document>"u"?null:document;function Up(e,t,n){var s=ki;if(s&&typeof t=="string"&&t){var l=Wt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Pp.has(l)||(Pp.add(l),e={rel:e,crossOrigin:n,href:t},s.querySelector(l)===null&&(t=s.createElement("link"),vt(t,"link",e),mt(t),s.head.appendChild(t)))}}function zb(e){Ya.D(e),Up("dns-prefetch",e,null)}function Bb(e,t){Ya.C(e,t),Up("preconnect",e,t)}function Yb(e,t,n){Ya.L(e,t,n);var s=ki;if(s&&e&&t){var l='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Wt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Wt(n.imageSizes)+'"]')):l+='[href="'+Wt(e)+'"]';var f=l;switch(t){case"style":f=Li(e);break;case"script":f=Vi(e)}sa.has(f)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sa.set(f,e),s.querySelector(l)!==null||t==="style"&&s.querySelector(zs(f))||t==="script"&&s.querySelector(Bs(f))||(t=s.createElement("link"),vt(t,"link",e),mt(t),s.head.appendChild(t)))}}function Gb(e,t){Ya.m(e,t);var n=ki;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Wt(s)+'"][href="'+Wt(e)+'"]',f=l;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Vi(e)}if(!sa.has(f)&&(e=g({rel:"modulepreload",href:e},t),sa.set(f,e),n.querySelector(l)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bs(f)))return}s=n.createElement("link"),vt(s,"link",e),mt(s),n.head.appendChild(s)}}}function Hb(e,t,n){Ya.S(e,t,n);var s=ki;if(s&&e){var l=ii(s).hoistableStyles,f=Li(e);t=t||"default";var b=l.get(f);if(!b){var S={loading:0,preload:null};if(b=s.querySelector(zs(f)))S.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sa.get(f))&&hu(e,n);var A=b=s.createElement("link");mt(A),vt(A,"link",e),A._p=new Promise(function(U,H){A.onload=U,A.onerror=H}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,xr(b,t,s)}b={type:"stylesheet",instance:b,count:1,state:S},l.set(f,b)}}}function Fb(e,t){Ya.X(e,t);var n=ki;if(n&&e){var s=ii(n).hoistableScripts,l=Vi(e),f=s.get(l);f||(f=n.querySelector(Bs(l)),f||(e=g({src:e,async:!0},t),(t=sa.get(l))&&pu(e,t),f=n.createElement("script"),mt(f),vt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(l,f))}}function Xb(e,t){Ya.M(e,t);var n=ki;if(n&&e){var s=ii(n).hoistableScripts,l=Vi(e),f=s.get(l);f||(f=n.querySelector(Bs(l)),f||(e=g({src:e,async:!0,type:"module"},t),(t=sa.get(l))&&pu(e,t),f=n.createElement("script"),mt(f),vt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(l,f))}}function Op(e,t,n,s){var l=(l=le.current)?Sr(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Li(n.href),n=ii(l).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Li(n.href);var f=ii(l).hoistableStyles,b=f.get(e);if(b||(l=l.ownerDocument||l,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,b),(f=l.querySelector(zs(e)))&&!f._p&&(b.instance=f,b.state.loading=5),sa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sa.set(e,n),f||Qb(l,e,n,b.state))),t&&s===null)throw Error(r(528,""));return b}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vi(n),n=ii(l).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Li(e){return'href="'+Wt(e)+'"'}function zs(e){return'link[rel="stylesheet"]['+e+"]"}function kp(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),vt(t,"link",n),mt(t),e.head.appendChild(t))}function Vi(e){return'[src="'+Wt(e)+'"]'}function Bs(e){return"script[async]"+e}function Lp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Wt(n.href)+'"]');if(s)return t.instance=s,mt(s),s;var l=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),mt(s),vt(s,"style",l),xr(s,n.precedence,e),t.instance=s;case"stylesheet":l=Li(n.href);var f=e.querySelector(zs(l));if(f)return t.state.loading|=4,t.instance=f,mt(f),f;s=kp(n),(l=sa.get(l))&&hu(s,l),f=(e.ownerDocument||e).createElement("link"),mt(f);var b=f;return b._p=new Promise(function(S,A){b.onload=S,b.onerror=A}),vt(f,"link",s),t.state.loading|=4,xr(f,n.precedence,e),t.instance=f;case"script":return f=Vi(n.src),(l=e.querySelector(Bs(f)))?(t.instance=l,mt(l),l):(s=n,(l=sa.get(f))&&(s=g({},n),pu(s,l)),e=e.ownerDocument||e,l=e.createElement("script"),mt(l),vt(l,"link",s),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,xr(s,n.precedence,e));return t.instance}function xr(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=s.length?s[s.length-1]:null,f=l,b=0;b<s.length;b++){var S=s[b];if(S.dataset.precedence===t)f=S;else if(f!==l)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ir=null;function Vp(e,t,n){if(Ir===null){var s=new Map,l=Ir=new Map;l.set(n,s)}else l=Ir,s=l.get(n),s||(s=new Map,l.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var f=n[l];if(!(f[ts]||f[St]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(t)||"";b=e+b;var S=s.get(b);S?S.push(f):s.set(b,[f])}}return s}function qp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Kb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ys=null;function $b(){}function Zb(e,t,n){if(Ys===null)throw Error(r(475));var s=Ys;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var l=Li(n.href),f=e.querySelector(zs(l));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Tr.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=f,mt(f);return}f=e.ownerDocument||e,n=kp(n),(l=sa.get(l))&&hu(n,l),f=f.createElement("link"),mt(f);var b=f;b._p=new Promise(function(S,A){b.onload=S,b.onerror=A}),vt(f,"link",n),t.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Tr.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Wb(){if(Ys===null)throw Error(r(475));var e=Ys;return e.stylesheets&&e.count===0&&gu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&gu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Tr(){if(this.count--,this.count===0){if(this.stylesheets)gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mr=null;function gu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mr=new Map,t.forEach(Jb,e),Mr=null,Tr.call(e))}function Jb(e,t){if(!(t.state.loading&4)){var n=Mr.get(e);if(n)var s=n.get(null);else{n=new Map,Mr.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<l.length;f++){var b=l[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(n.set(b.dataset.precedence,b),s=b)}s&&n.set(null,s)}l=t.instance,b=l.getAttribute("data-precedence"),f=n.get(b)||s,f===s&&n.set(null,l),n.set(b,l),this.count++,s=Tr.bind(this),l.addEventListener("load",s),l.addEventListener("error",s),f?f.parentNode.insertBefore(l,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var Gs={$$typeof:w,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function e_(e,t,n,s,l,f,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=s,this.onUncaughtError=l,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Bp(e,t,n,s,l,f,b,S,A,U,H,K){return e=new e_(e,t,n,b,S,A,U,K),t=1,f===!0&&(t|=24),f=Yt(3,null,null,t),e.current=f,f.stateNode=e,t=Zl(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:s,isDehydrated:n,cache:t},tc(f),e}function Yp(e){return e?(e=gi,e):gi}function Gp(e,t,n,s,l,f){l=Yp(l),s.context===null?s.context=l:s.pendingContext=l,s=Ja(t),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=en(e,s,t),n!==null&&(Qt(n,e,t),_s(n,e,t))}function Hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yu(e,t){Hp(e,t),(e=e.alternate)&&Hp(e,t)}function Fp(e){if(e.tag===13){var t=pi(e,67108864);t!==null&&Qt(t,e,67108864),yu(e,67108864)}}var Ar=!0;function t_(e,t,n,s){var l=q.T;q.T=null;var f=Q.p;try{Q.p=2,vu(e,t,n,s)}finally{Q.p=f,q.T=l}}function a_(e,t,n,s){var l=q.T;q.T=null;var f=Q.p;try{Q.p=8,vu(e,t,n,s)}finally{Q.p=f,q.T=l}}function vu(e,t,n,s){if(Ar){var l=bu(s);if(l===null)su(e,t,s,Nr,n),Qp(e,s);else if(i_(l,e,t,n,s))s.stopPropagation();else if(Qp(e,s),t&4&&-1<n_.indexOf(e)){for(;l!==null;){var f=ni(l);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Ca(f.pendingLanes);if(b!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var A=1<<31-Be(b);S.entanglements[1]|=A,b&=~A}Ia(f),(Re&6)===0&&(ur=Ct()+500,ks(0))}}break;case 13:S=pi(f,2),S!==null&&Qt(S,f,2),mr(),yu(f,2)}if(f=bu(s),f===null&&su(e,t,s,Nr,n),f===l)break;l=f}l!==null&&s.stopPropagation()}else su(e,t,s,null,n)}}function bu(e){return e=Tl(e),_u(e)}var Nr=null;function _u(e){if(Nr=null,e=ai(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nr=e,null}function Xp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case Wn:return 2;case Jn:return 8;case Zi:case So:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Su=!1,hn=null,pn=null,gn=null,Hs=new Map,Fs=new Map,yn=[],n_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qp(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function Xs(e,t,n,s,l,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:f,targetContainers:[l]},t!==null&&(t=ni(t),t!==null&&Fp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function i_(e,t,n,s,l){switch(t){case"focusin":return hn=Xs(hn,e,t,n,s,l),!0;case"dragenter":return pn=Xs(pn,e,t,n,s,l),!0;case"mouseover":return gn=Xs(gn,e,t,n,s,l),!0;case"pointerover":var f=l.pointerId;return Hs.set(f,Xs(Hs.get(f)||null,e,t,n,s,l)),!0;case"gotpointercapture":return f=l.pointerId,Fs.set(f,Xs(Fs.get(f)||null,e,t,n,s,l)),!0}return!1}function Kp(e){var t=ai(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Zv(e.priority,function(){if(n.tag===13){var s=Xt();s=fl(s);var l=pi(n,s);l!==null&&Qt(l,n,s),yu(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Il=s,n.target.dispatchEvent(s),Il=null}else return t=ni(n),t!==null&&Fp(t),e.blockedOn=n,!1;t.shift()}return!0}function $p(e,t,n){Cr(e)&&n.delete(t)}function s_(){Su=!1,hn!==null&&Cr(hn)&&(hn=null),pn!==null&&Cr(pn)&&(pn=null),gn!==null&&Cr(gn)&&(gn=null),Hs.forEach($p),Fs.forEach($p)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,s_)))}var Er=null;function Zp(e){Er!==e&&(Er=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Er===e&&(Er=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],l=e[t+2];if(typeof s!="function"){if(_u(s||n)===null)continue;break}var f=ni(n);f!==null&&(e.splice(t,3),t-=3,_c(f,{pending:!0,data:l,method:n.method,action:s},s,l))}}))}function Qs(e){function t(A){return jr(A,e)}hn!==null&&jr(hn,e),pn!==null&&jr(pn,e),gn!==null&&jr(gn,e),Hs.forEach(t),Fs.forEach(t);for(var n=0;n<yn.length;n++){var s=yn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<yn.length&&(n=yn[0],n.blockedOn===null);)Kp(n),n.blockedOn===null&&yn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var l=n[s],f=n[s+1],b=l[Dt]||null;if(typeof f=="function")b||Zp(n);else if(b){var S=null;if(f&&f.hasAttribute("formAction")){if(l=f,b=f[Dt]||null)S=b.formAction;else if(_u(l)!==null)continue}else S=b.action;typeof S=="function"?n[s+1]=S:(n.splice(s,3),s-=3),Zp(n)}}}function xu(e){this._internalRoot=e}wr.prototype.render=xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,s=Xt();Gp(n,s,e,t,null,null)},wr.prototype.unmount=xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gp(e.current,2,null,e,null,null),mr(),t[ti]=null}};function wr(e){this._internalRoot=e}wr.prototype.unstable_scheduleHydration=function(e){if(e){var t=fm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yn.length&&t!==0&&t<yn[n].priority;n++);yn.splice(n,0,e),n===0&&Kp(e)}};var Wp=i.version;if(Wp!=="19.1.0")throw Error(r(527,Wp,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var o_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{Ke=Dr.inject(o_),nt=Dr}catch{}}return $s.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,s="",l=hh,f=ph,b=gh,S=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=Bp(e,1,!1,null,null,n,s,l,f,b,S,null),e[ti]=t.current,iu(e),new xu(t)},$s.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var s=!1,l="",f=hh,b=ph,S=gh,A=null,U=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(A=n.unstable_transitionCallbacks),n.formState!==void 0&&(U=n.formState)),t=Bp(e,1,!0,t,n??null,s,l,f,b,S,A,U),t.context=Yp(null),n=t.current,s=Xt(),s=fl(s),l=Ja(s),l.callback=null,en(n,l,s),n=s,t.current.lanes=n,es(t,n),Ia(t),e[ti]=t.current,iu(e),new wr(t)},$s.version="19.1.0",$s}var lg;function p_(){if(lg)return Mu.exports;lg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Mu.exports=h_(),Mu.exports}var g_=p_();const cg=a=>{let i;const o=new Set,r=(h,g)=>{const v=typeof h=="function"?h(i):h;if(!Object.is(v,i)){const _=i;i=g??(typeof v!="object"||v===null)?v:Object.assign({},i,v),o.forEach(x=>x(i,_))}},c=()=>i,p={setState:r,getState:c,getInitialState:()=>y,subscribe:h=>(o.add(h),()=>o.delete(h))},y=i=a(r,c,p);return p},y_=a=>a?cg(a):cg,v_=a=>a;function b_(a,i=v_){const o=la.useSyncExternalStore(a.subscribe,()=>i(a.getState()),()=>i(a.getInitialState()));return la.useDebugValue(o),o}const ug=a=>{const i=y_(a),o=r=>b_(i,r);return Object.assign(o,i),o},Vt=a=>a?ug(a):ug;function __(a,i){let o;try{o=a()}catch{return}return{getItem:c=>{var d;const m=y=>y===null?null:JSON.parse(y,void 0),p=(d=o.getItem(c))!=null?d:null;return p instanceof Promise?p.then(m):m(p)},setItem:(c,d)=>o.setItem(c,JSON.stringify(d,void 0)),removeItem:c=>o.removeItem(c)}}const Zu=a=>i=>{try{const o=a(i);return o instanceof Promise?o:{then(r){return Zu(r)(o)},catch(r){return this}}}catch(o){return{then(r){return this},catch(r){return Zu(r)(o)}}}},S_=(a,i)=>(o,r,c)=>{let d={storage:__(()=>localStorage),partialize:M=>M,version:0,merge:(M,I)=>({...I,...M}),...i},m=!1;const p=new Set,y=new Set;let h=d.storage;if(!h)return a((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),o(...M)},r,c);const g=()=>{const M=d.partialize({...r()});return h.setItem(d.name,{state:M,version:d.version})},v=c.setState;c.setState=(M,I)=>{v(M,I),g()};const _=a((...M)=>{o(...M),g()},r,c);c.getInitialState=()=>_;let x;const T=()=>{var M,I;if(!h)return;m=!1,p.forEach(R=>{var w;return R((w=r())!=null?w:_)});const E=((I=d.onRehydrateStorage)==null?void 0:I.call(d,(M=r())!=null?M:_))||void 0;return Zu(h.getItem.bind(h))(d.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==d.version){if(d.migrate){const w=d.migrate(R.state,R.version);return w instanceof Promise?w.then(O=>[!0,O]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var w;const[O,k]=R;if(x=d.merge(k,(w=r())!=null?w:_),o(x,!0),O)return g()}).then(()=>{E==null||E(x,void 0),x=r(),m=!0,y.forEach(R=>R(x))}).catch(R=>{E==null||E(void 0,R)})};return c.persist={setOptions:M=>{d={...d,...M},M.storage&&(h=M.storage)},clearStorage:()=>{h==null||h.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>T(),hasHydrated:()=>m,onHydrate:M=>(p.add(M),()=>{p.delete(M)}),onFinishHydration:M=>(y.add(M),()=>{y.delete(M)})},d.skipHydration||T(),x||_},da=S_,Ne={ash:{typeId:"ash",name:"Ash",icon:"",category:"Materials",subcategory:"dust",description:"Powdery residue...",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},health_potion:{typeId:"health_potion",name:"Health Potion",icon:"",category:"Potions",subcategory:"potion",description:"Restores health.",value:10,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY,effects:[{type:"heal",value:50}]},fire_mote:{typeId:"fire_mote",name:"Fire Mote",icon:"",category:"Reagent",subcategory:"elemental_mote",description:"A condensed particle of elemental fire energy.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},water_mote:{typeId:"water_mote",name:"Water Mote",icon:"",category:"Reagent",subcategory:"elemental_mote",description:"A condensed particle of elemental water energy.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},earth_mote:{typeId:"earth_mote",name:"Earth Mote",icon:"",category:"Reagent",subcategory:"elemental_mote",description:"A condensed particle of elemental earth energy.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},air_mote:{typeId:"air_mote",name:"Air Mote",icon:"",category:"Reagent",subcategory:"elemental_mote",description:"A condensed particle of elemental air energy.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},herb_mandrake:{typeId:"herb_mandrake",name:"Mandrake Root",icon:"",category:"Reagent",subcategory:"herb",description:"A magical root used in many potions.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},herb_nightshade:{typeId:"herb_nightshade",name:"Nightshade",icon:"",category:"Reagent",subcategory:"herb",description:"A poisonous plant with magical properties.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},crystal_quartz:{typeId:"crystal_quartz",name:"Quartz Crystal",icon:"",category:"Reagent",subcategory:"crystal",description:"A common magical crystal.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},crystal_mana:{typeId:"crystal_mana",name:"Mana Crystal",icon:"",category:"Reagent",subcategory:"crystal",description:"A crystal infused with pure mana.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},monster_part_claw:{typeId:"monster_part_claw",name:"Beast Claw",icon:"",category:"Reagent",subcategory:"monster_part",description:"A claw from a magical beast.",value:15,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},monster_part_eye:{typeId:"monster_part_eye",name:"Monster Eye",icon:"",category:"Reagent",subcategory:"monster_part",description:"An eye from a defeated monster.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},dust_arcane:{typeId:"dust_arcane",name:"Arcane Dust",icon:"",category:"Reagent",subcategory:"dust",description:"Refined magical dust used in enchanting.",value:7,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_magic:{typeId:"essence_magic",name:"Essence of Magic",icon:"",category:"Reagent",subcategory:"essence",description:"Concentrated magical energy.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ink_arcane:{typeId:"ink_arcane",name:"Arcane Ink",icon:"",category:"Reagent",subcategory:"ink",description:"Ink used for magical inscriptions.",value:20,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faint_mana_crystal:{typeId:"faint_mana_crystal",name:"Faint Mana Crystal",icon:"",category:"Reagent",subcategory:"crystal",description:"A small, weakly glowing crystal containing ambient mana. Used in advanced magical rituals and as a result of essence transference.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},charged_mana_crystal:{typeId:"charged_mana_crystal",name:"Charged Mana Crystal",icon:"",category:"Reagent",subcategory:"aethermancy",description:"A crystal brimming with condensed magical energy.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},aetherium_shard:{typeId:"aetherium_shard",name:"Aetherium Shard",icon:"",category:"Reagent",subcategory:"aethermancy",description:"A rare shard of pure aetherium, used in advanced rituals.",value:100,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},crystalline_aether:{typeId:"crystalline_aether",name:"Crystalline Aether",icon:"",category:"Reagent",subcategory:"aethermancy",description:"A flawless crystal of solidified aetheric energy.",value:250,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},aetheric_dew:{typeId:"aetheric_dew",name:"Aetheric Dew",icon:"",category:"Reagent",subcategory:"aethermancy",description:"A rare, condensed droplet of pure aether, used for powerful mana restoration.",value:50,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},warding_dust_t0:{typeId:"warding_dust_t0",name:"Warding Dust (T0)",icon:"",category:"Reagent",subcategory:"abjuration",description:"Basic dust used in protective wards and abjuration rituals.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},lesser_shielding_charm:{typeId:"lesser_shielding_charm",name:"Lesser Shielding Charm",icon:"",category:"Consumable",subcategory:"abjuration",description:"A charm that absorbs a small amount of damage when used.",value:25,isUsable:!0,isUpgradeable:!1,maxStack:20},scroll_minor_dispel:{typeId:"scroll_minor_dispel",name:"Scroll of Minor Dispel",icon:"",category:"Consumable",subcategory:"abjuration",description:"A scroll that removes minor magical effects.",value:18,isUsable:!0,isUpgradeable:!1,maxStack:20},glyph_fire_warding:{typeId:"glyph_fire_warding",name:"Glyph of Fire Warding",icon:"",category:"Equipment",subcategory:"glyph",description:"Equippable glyph that grants fire resistance.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:5},temporary_aegis_oil:{typeId:"temporary_aegis_oil",name:"Temporary Aegis Oil",icon:"",category:"Consumable",subcategory:"abjuration",description:"Oil that grants temporary resistance to all damage.",value:60,isUsable:!0,isUpgradeable:!1,maxStack:10},common_herb_leaf_t0:{typeId:"common_herb_leaf_t0",name:"Common Herb Leaf",icon:"",category:"Reagent",subcategory:"herb",description:"A basic herb used in alchemical preparations.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ground_common_herb_t0:{typeId:"ground_common_herb_t0",name:"Ground Common Herb",icon:"",category:"Reagent",subcategory:"herb",description:"Finely ground herb for use in potions and poultices.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},purified_water_flask_t0:{typeId:"purified_water_flask_t0",name:"Purified Water Flask",icon:"",category:"Reagent",subcategory:"liquid",description:"A flask of magically purified water.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},cloth_scrap_t0:{typeId:"cloth_scrap_t0",name:"Cloth Scrap",icon:"",category:"Material",subcategory:"cloth",description:"A scrap of cloth, useful for bandages and poultices.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},minor_healing_poultice_t0:{typeId:"minor_healing_poultice_t0",name:"Minor Healing Poultice",icon:"",category:"Consumable",subcategory:"poultice",description:"Heals a small amount of health when used.",value:8,isUsable:!0,isUpgradeable:!1,maxStack:20},faint_mana_crystal_t0:{typeId:"faint_mana_crystal_t0",name:"Faint Mana Crystal",icon:"",category:"Reagent",subcategory:"crystal",description:"A weakly glowing crystal containing faint magical energy.",value:4,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},empty_vial_t0:{typeId:"empty_vial_t0",name:"Empty Vial",icon:"",category:"Material",subcategory:"vial",description:"A small glass vial for storing potions.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},weak_mana_potion_t0:{typeId:"weak_mana_potion_t0",name:"Weak Mana Potion",icon:"",category:"Consumable",subcategory:"potion",description:"Restores a small amount of mana when used.",value:10,isUsable:!0,isUpgradeable:!1,maxStack:20,effects:[{type:"mana_restore",value:30}]},copper_ore_t0:{typeId:"copper_ore_t0",name:"Copper Ore",icon:"",category:"Material",subcategory:"ore",description:"A chunk of copper ore.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},coal_t0:{typeId:"coal_t0",name:"Coal",icon:"",category:"Material",subcategory:"ore",description:"A lump of coal, used as fuel or reagent.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},tin_ore_t0:{typeId:"tin_ore_t0",name:"Tin Ore",icon:"",category:"Material",subcategory:"ore",description:"A chunk of tin ore.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},lead_ore_t0:{typeId:"lead_ore_t0",name:"Lead Ore",icon:"",category:"Material",subcategory:"ore",description:"A chunk of lead ore.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},sunpetal_leaf_t1:{typeId:"sunpetal_leaf_t1",name:"Sunpetal Leaf",icon:"",category:"Reagent",subcategory:"herb",description:"A bright yellow leaf with magical properties.",value:6,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},storm_essence_t0:{typeId:"storm_essence_t0",name:"Storm Essence",icon:"",category:"Reagent",subcategory:"essence",description:"Essence of a captured storm.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},potion_minor_swiftness_t1:{typeId:"potion_minor_swiftness_t1",name:"Potion of Minor Swiftness",icon:"",category:"Consumable",subcategory:"potion",description:"Temporarily increases action speed.",value:18,isUsable:!0,isUpgradeable:!1,maxStack:20},quicksilver_globule_t1:{typeId:"quicksilver_globule_t1",name:"Quicksilver Globule",icon:"",category:"Reagent",subcategory:"metal",description:"A globule of quicksilver, used in advanced alchemy.",value:20,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},hellfire_ember_t1:{typeId:"hellfire_ember_t1",name:"Hellfire Ember",icon:"",category:"Reagent",subcategory:"elemental",description:"A burning ember infused with infernal energy.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ground_moonleaf_t1:{typeId:"ground_moonleaf_t1",name:"Ground Moonleaf",icon:"",category:"Reagent",subcategory:"herb",description:"Finely ground moonleaf herb.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},alchemical_catalyst_t1:{typeId:"alchemical_catalyst_t1",name:"Alchemical Catalyst",icon:"",category:"Reagent",subcategory:"catalyst",description:"A volatile catalyst for advanced alchemical processes.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},starleaf_bloom_t2:{typeId:"starleaf_bloom_t2",name:"Starleaf Bloom",icon:"",category:"Reagent",subcategory:"herb",description:"A rare, magical flower.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},crystalline_aether_fragment_t2:{typeId:"crystalline_aether_fragment_t2",name:"Crystalline Aether Fragment",icon:"",category:"Reagent",subcategory:"aether",description:"A fragment of solidified aetheric energy.",value:60,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},crystal_vial_t1:{typeId:"crystal_vial_t1",name:"Crystal Vial",icon:"",category:"Material",subcategory:"vial",description:"A vial made from pure crystal.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},elixir_enhanced_intellect_t2:{typeId:"elixir_enhanced_intellect_t2",name:"Elixir of Enhanced Intellect",icon:"",category:"Consumable",subcategory:"elixir",description:"Greatly increases magic XP gain for a time.",value:100,isUsable:!0,isUpgradeable:!1,maxStack:10},gold_bar_t2:{typeId:"gold_bar_t2",name:"Gold Bar",icon:"",category:"Material",subcategory:"metal",description:"A bar of refined gold.",value:100,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_order_fragment_t2:{typeId:"essence_of_order_fragment_t2",name:"Essence of Order Fragment",icon:"",category:"Reagent",subcategory:"essence",description:"A fragment of pure order energy.",value:50,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_chaos_fragment_t2:{typeId:"essence_of_chaos_fragment_t2",name:"Essence of Chaos Fragment",icon:"",category:"Reagent",subcategory:"essence",description:"A fragment of pure chaos energy.",value:50,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},philosophers_shard_t4:{typeId:"philosophers_shard_t4",name:"Philosopher's Shard",icon:"",category:"Reagent",subcategory:"artifact",description:"A rare shard, key to the Philosopher's Stone.",value:1e3,isUsable:!1,isUpgradeable:!1,maxStack:5},acidic_demon_gland_t3:{typeId:"acidic_demon_gland_t3",name:"Acidic Demon Gland",icon:"",category:"Reagent",subcategory:"demon",description:"A gland from a demon, filled with corrosive acid.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},void_crystal_t3:{typeId:"void_crystal_t3",name:"Void Crystal",icon:"",category:"Reagent",subcategory:"crystal",description:"A crystal infused with void energy.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},universal_solvent_flask_t3:{typeId:"universal_solvent_flask_t3",name:"Universal Solvent Flask",icon:"",category:"Consumable",subcategory:"solvent",description:"Dissolves almost any substance, used to break down magical items.",value:200,isUsable:!0,isUpgradeable:!1,maxStack:5},essence_of_life_t3:{typeId:"essence_of_life_t3",name:"Essence of Life",icon:"",category:"Reagent",subcategory:"essence",description:"A rare essence representing pure life.",value:300,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},golden_lotus_petal_t4:{typeId:"golden_lotus_petal_t4",name:"Golden Lotus Petal",icon:"",category:"Reagent",subcategory:"herb",description:"A legendary petal with miraculous properties.",value:2e3,isUsable:!1,isUpgradeable:!1,maxStack:1},divine_water_flask_t4:{typeId:"divine_water_flask_t4",name:"Divine Water Flask",icon:"",category:"Reagent",subcategory:"liquid",description:"A flask of water blessed by the divine.",value:1500,isUsable:!1,isUpgradeable:!1,maxStack:1},panacea_of_life_t4:{typeId:"panacea_of_life_t4",name:"Panacea of Life",icon:"",category:"Consumable",subcategory:"elixir",description:"The ultimate healing elixir, cures all ailments and grants immense vitality.",value:1e4,isUsable:!0,isUpgradeable:!1,maxStack:1},unstable_mote_t0:{typeId:"unstable_mote_t0",name:"Unstable Mote",icon:"",category:"Reagent",subcategory:"alteration",description:"A flickering mote of unstable magical energy, used in basic alteration rituals.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},unstable_mote_t1:{typeId:"unstable_mote_t1",name:"Unstable Mote",icon:"",category:"Reagent",subcategory:"alteration",description:"A more potent unstable mote, used in advanced alteration spells.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},pure_ash_t1:{typeId:"pure_ash_t1",name:"Pure Ash",icon:"",category:"Material",subcategory:"ash",description:"Refined ash, useful for advanced crafting and rituals.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},basic_wood:{typeId:"basic_wood",name:"Basic Wood",icon:"",category:"Material",subcategory:"wood",description:"A piece of common wood, used in basic crafting.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},hardwood:{typeId:"hardwood",name:"Hardwood",icon:"",category:"Material",subcategory:"wood",description:"A sturdy piece of hardwood, used in advanced crafting.",value:4,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},catalyst_of_change:{typeId:"catalyst_of_change",name:"Catalyst of Change",icon:"",category:"Reagent",subcategory:"catalyst",description:"A rare catalyst used to awaken latent properties in items.",value:200,isUsable:!1,isUpgradeable:!1,maxStack:10},essence_of_chaos_fragment:{typeId:"essence_of_chaos_fragment",name:"Essence of Chaos Fragment",icon:"",category:"Reagent",subcategory:"essence",description:"A fragment of pure chaos energy, used in high-level alteration and transmutation.",value:50,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},shadow_wisp_t0:{typeId:"shadow_wisp_t0",name:"Shadow Wisp",icon:"",category:"Reagent",subcategory:"shadow",description:"A wisp of shadow energy, used in debilitation spells.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},scroll_minor_weakness:{typeId:"scroll_minor_weakness",name:"Scroll of Minor Weakness",icon:"",category:"Consumable",subcategory:"scroll",description:"A scroll that inflicts minor weakness on a target.",value:20,isUsable:!0,isUpgradeable:!1,maxStack:20},scroll_minor_slow:{typeId:"scroll_minor_slow",name:"Scroll of Minor Slow",icon:"",category:"Consumable",subcategory:"scroll",description:"A scroll that inflicts minor slowness on a target.",value:20,isUsable:!0,isUpgradeable:!1,maxStack:20},earthen_core_t0:{typeId:"earthen_core_t0",name:"Earthen Core",icon:"",category:"Reagent",subcategory:"earth",description:"A core of condensed earth energy, sometimes produced by polymorphing stone.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},chronal_dust:{typeId:"chronal_dust",name:"Chronal Dust",icon:"",category:"Reagent",subcategory:"time",description:"A rare dust that manipulates the flow of time, used in powerful alteration spells.",value:300,isUsable:!1,isUpgradeable:!1,maxStack:5},star_diamond:{typeId:"star_diamond",name:"Star Diamond",icon:"",category:"Reagent",subcategory:"gem",description:"A rare diamond that sparkles with cosmic energy.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:2},planar_dust_t0:{typeId:"planar_dust_t0",name:"Planar Dust",icon:"",category:"Reagent",subcategory:"conjuration",description:"A fine dust left behind by planar entities. Used in basic conjuration rituals.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},planar_dust_t1:{typeId:"planar_dust_t1",name:"Planar Dust",icon:"",category:"Reagent",subcategory:"conjuration",description:"Refined dust from higher planar beings. Used in advanced conjuration.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},binding_core_lesser:{typeId:"binding_core_lesser",name:"Lesser Binding Core",icon:"",category:"Reagent",subcategory:"runecrafting",description:"A runecrafted core used to bind minor planar entities.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:10},binding_core_greater:{typeId:"binding_core_greater",name:"Greater Binding Core",icon:"",category:"Reagent",subcategory:"runecrafting",description:"A powerful core for binding advanced planar entities or constructs.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:5},silver_ore:{typeId:"silver_ore",name:"Silver Ore",icon:"",category:"Material",subcategory:"ore",description:"A chunk of silver ore, valued for magical rituals and crafting.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},greater_soulstone:{typeId:"greater_soulstone",name:"Greater Soulstone",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A soulstone capable of containing powerful entities.",value:200,isUsable:!1,isUpgradeable:!1,maxStack:3},enchanting_matrix_t2:{typeId:"enchanting_matrix_t2",name:"Enchanting Matrix",icon:"",category:"Reagent",subcategory:"enchanting",description:"A complex matrix used for advanced enchanting and focus object creation.",value:150,isUsable:!1,isUpgradeable:!1,maxStack:5},essence_of_life_fragment:{typeId:"essence_of_life_fragment",name:"Essence of Life Fragment",icon:"",category:"Reagent",subcategory:"essence",description:"A fragment of pure life essence, used in high-level conjuration and alchemy.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:10},imp_hide_scrap_t0:{typeId:"imp_hide_scrap_t0",name:"Imp Hide Scrap",icon:"",category:"Reagent",subcategory:"demon",description:"A scrap of hide from a minor imp. Used in basic demonology rituals.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faint_demonic_glyph_t0:{typeId:"faint_demonic_glyph_t0",name:"Faint Demonic Glyph",icon:"",category:"Reagent",subcategory:"demon",description:"A weak glyph inscribed with demonic energy.",value:6,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},chalk_t0:{typeId:"chalk_t0",name:"Ritual Chalk",icon:"",category:"Reagent",subcategory:"ritual",description:"Basic chalk for inscribing magical circles.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},salt_pile_t0:{typeId:"salt_pile_t0",name:"Salt Pile",icon:"",category:"Reagent",subcategory:"ritual",description:"A pile of salt, used for warding and purification.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},blood_drop_t0:{typeId:"blood_drop_t0",name:"Drop of Blood",icon:"",category:"Reagent",subcategory:"demon",description:"A single drop of blood, used in summoning rituals.",value:4,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},soulgem_fragment_t0:{typeId:"soulgem_fragment_t0",name:"Soulgem Fragment",icon:"",category:"Reagent",subcategory:"soul",description:"A fragment of a soulgem, faintly pulsing with energy.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},demonic_contract_vellum_t1:{typeId:"demonic_contract_vellum_t1",name:"Demonic Contract Vellum",icon:"",category:"Reagent",subcategory:"demon",description:"Special vellum for binding demonic contracts.",value:20,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},perfume_of_allure_t2:{typeId:"perfume_of_allure_t2",name:"Perfume of Allure",icon:"",category:"Reagent",subcategory:"demon",description:"A rare perfume used to entice and charm demons.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},intact_soulstone_t2:{typeId:"intact_soulstone_t2",name:"Intact Soulstone",icon:"",category:"Reagent",subcategory:"soul",description:"A soulstone that remains whole, used in advanced summoning.",value:60,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},demon_ichor_t2:{typeId:"demon_ichor_t2",name:"Demon Ichor",icon:"",category:"Reagent",subcategory:"demon",description:"Viscous ichor harvested from a demon.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},greater_demonic_glyph_t2:{typeId:"greater_demonic_glyph_t2",name:"Greater Demonic Glyph",icon:"",category:"Reagent",subcategory:"demon",description:"A powerful glyph inscribed with potent demonic energy.",value:50,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},sacrificial_dagger_bloodied_t2:{typeId:"sacrificial_dagger_bloodied_t2",name:"Bloodied Sacrificial Dagger",icon:"",category:"Reagent",subcategory:"demon",description:"A ritual dagger stained with blood, used in high-level summoning.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_chaos_t4:{typeId:"essence_of_chaos_t4",name:"Essence of Chaos",icon:"",category:"Reagent",subcategory:"essence",description:"A pure, volatile essence of chaos, used in the most dangerous rituals.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},archdemon_heart_fragment_t4:{typeId:"archdemon_heart_fragment_t4",name:"Archdemon Heart Fragment",icon:"",category:"Reagent",subcategory:"demon",description:"A fragment of an Archdemon's heart, pulsing with infernal power.",value:1e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},fire_mote_t0:{typeId:"fire_mote_t0",name:"Fire Mote",icon:"",category:"Reagent",subcategory:"elemental",description:"A basic mote of elemental fire energy.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ice_shard_t0:{typeId:"ice_shard_t0",name:"Ice Shard",icon:"",category:"Reagent",subcategory:"elemental",description:"A basic shard of elemental ice.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ember_clump_t1:{typeId:"ember_clump_t1",name:"Ember Clump",icon:"",category:"Reagent",subcategory:"elemental",description:"A clump of burning embers, used in advanced fire rituals.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},frost_core_t1:{typeId:"frost_core_t1",name:"Frost Core",icon:"",category:"Reagent",subcategory:"elemental",description:"A core of condensed frost energy.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},charged_lodestone_fragment_t1:{typeId:"charged_lodestone_fragment_t1",name:"Charged Lodestone Fragment",icon:"",category:"Reagent",subcategory:"elemental",description:"A fragment of stone charged with storm energy.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},primal_essence_fragment_t2:{typeId:"primal_essence_fragment_t2",name:"Primal Essence Fragment",icon:"",category:"Reagent",subcategory:"elemental",description:"A rare fragment of pure, primal elemental essence.",value:50,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},inert_elemental_core_t3:{typeId:"inert_elemental_core_t3",name:"Inert Elemental Core",icon:"",category:"Reagent",subcategory:"elemental",description:"A dormant core awaiting elemental charge.",value:100,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},charged_elemental_core_t3:{typeId:"charged_elemental_core_t3",name:"Charged Elemental Core",icon:"",category:"Reagent",subcategory:"elemental",description:"A core brimming with elemental power.",value:250,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},primal_elementium_t4:{typeId:"primal_elementium_t4",name:"Primal Elementium",icon:"",category:"Reagent",subcategory:"elemental",description:"A legendary core of fused elemental power.",value:1e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},heart_of_the_phoenix_t3:{typeId:"heart_of_the_phoenix_t3",name:"Heart of the Phoenix",icon:"",category:"Reagent",subcategory:"elemental",description:"A mythical heart pulsing with fire energy.",value:300,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},glacial_heart_t3:{typeId:"glacial_heart_t3",name:"Glacial Heart",icon:"",category:"Reagent",subcategory:"elemental",description:"A heart of pure, ancient ice.",value:300,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},eye_of_the_storm_t3:{typeId:"eye_of_the_storm_t3",name:"Eye of the Storm",icon:"",category:"Reagent",subcategory:"elemental",description:"A swirling core of storm energy.",value:300,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},astral_diamond_t3:{typeId:"astral_diamond_t3",name:"Astral Diamond",icon:"",category:"Reagent",subcategory:"gem",description:"A rare diamond infused with astral energy, used in powerful divination rituals.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},map_of_the_unseen_t3:{typeId:"map_of_the_unseen_t3",name:"Map of the Unseen",icon:"",category:"Reagent",subcategory:"inscription",description:"A mystical map revealing hidden locations, crafted by master inscribers.",value:350,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faint_omen_reading_t0:{typeId:"faint_omen_reading_t0",name:"Faint Omen Reading",icon:"",category:"Misc",subcategory:"divination",description:"A cryptic omen interpreted from natural phenomena. Can be sold or used for minor effects.",value:2,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},star_chart_fragment_t0:{typeId:"star_chart_fragment_t0",name:"Star Chart Fragment",icon:"",category:"Reagent",subcategory:"inscription",description:"A piece of a celestial chart, used in divinatory star readings.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},clear_quartz_crystal_t1:{typeId:"clear_quartz_crystal_t1",name:"Clear Quartz Crystal",icon:"",category:"Reagent",subcategory:"crystal",description:"A flawless quartz crystal, ideal for focusing magical energies.",value:20,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},unidentified_minor_artifact_fragment_t1:{typeId:"unidentified_minor_artifact_fragment_t1",name:"Unidentified Minor Artifact Fragment",icon:"",category:"Reagent",subcategory:"artifact",description:"A mysterious fragment from a minor magical artifact. Needs research to identify.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faded_enchantment_trace_t1:{typeId:"faded_enchantment_trace_t1",name:"Faded Enchantment Trace",icon:"",category:"Reagent",subcategory:"enchanting",description:"A faint residue of a past enchantment, useful for research.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},silver_mirror_t1:{typeId:"silver_mirror_t1",name:"Silver Mirror",icon:"",category:"Reagent",subcategory:"enchanting",description:"A finely crafted silver mirror, enchanted for use in divination rituals.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},moonpetal_flower_t2:{typeId:"moonpetal_flower_t2",name:"Moonpetal Flower",icon:"",category:"Reagent",subcategory:"herb",description:"A rare, luminous flower with potent magical properties.",value:60,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},crystal_ball_fragment_t2:{typeId:"crystal_ball_fragment_t2",name:"Crystal Ball Fragment",icon:"",category:"Reagent",subcategory:"enchanting",description:"A fragment from a shattered crystal ball, still holding divinatory power.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},vision_shard:{typeId:"vision_shard",name:"Vision Shard",icon:"",category:"Misc",subcategory:"divination",description:"A shard containing a vision. Use to reveal lore, hints, or resource locations.",value:100,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_fate_t4:{typeId:"essence_of_fate_t4",name:"Essence of Fate",icon:"",category:"Reagent",subcategory:"essence",description:"A rare, swirling essence representing the threads of fate.",value:2e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},orb_of_a_thousand_eyes_t4:{typeId:"orb_of_a_thousand_eyes_t4",name:"Orb of a Thousand Eyes",icon:"",category:"Reagent",subcategory:"artifact",description:"A legendary orb said to see all things, used in the highest divination rituals.",value:5e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},eye_of_the_seer_t4:{typeId:"eye_of_the_seer_t4",name:"Eye of the Seer",icon:"",category:"Reagent",subcategory:"artifact",description:"A legendary focus item for divination, said to grant omniscience for a brief moment.",value:1e4,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},common_incense_stick_t0:{typeId:"common_incense_stick_t0",name:"Common Incense Stick",icon:"",category:"Reagent",subcategory:"incense",description:"A simple incense stick used in basic rituals and augury.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},lesser_magical_dust_t0:{typeId:"lesser_magical_dust_t0",name:"Lesser Magical Dust",icon:"",category:"Reagent",subcategory:"dust",description:"Basic magical dust obtained from disenchanting common items.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},common_magical_dust_t1:{typeId:"common_magical_dust_t1",name:"Common Magical Dust",icon:"",category:"Reagent",subcategory:"dust",description:"Magical dust from disenchanting uncommon or magical items.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},greater_magical_dust_t2:{typeId:"greater_magical_dust_t2",name:"Greater Magical Dust",icon:"",category:"Reagent",subcategory:"dust",description:"High-grade magical dust from rare items.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},rare_essence_fragment_t2:{typeId:"rare_essence_fragment_t2",name:"Rare Essence Fragment",icon:"",category:"Reagent",subcategory:"essence",description:"A fragment of rare magical essence.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},enchanting_vellum_t1:{typeId:"enchanting_vellum_t1",name:"Enchanting Vellum",icon:"",category:"Material",subcategory:"vellum",description:"Specially prepared vellum for holding enchantments.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},high_quality_vellum_t1:{typeId:"high_quality_vellum_t1",name:"High Quality Vellum",icon:"",category:"Material",subcategory:"vellum",description:"A sheet of high quality vellum, used for advanced inscriptions and enchantments.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faint_power_rune_t0:{typeId:"faint_power_rune_t0",name:"Faint Power Rune",icon:"",category:"Reagent",subcategory:"rune",description:"A weak rune inscribed with power, used for minor enchantments.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},rune_fire_binding_t1:{typeId:"rune_fire_binding_t1",name:"Rune of Fire Binding",icon:"",category:"Reagent",subcategory:"rune",description:"A rune used to bind fire magic to items.",value:20,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},enchanted_wood_t2:{typeId:"enchanted_wood_t2",name:"Enchanted Wood",icon:"",category:"Material",subcategory:"wood",description:"Wood infused with magical energy, used for crafting wands.",value:50,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},abjuration_sigil_t2:{typeId:"abjuration_sigil_t2",name:"Abjuration Sigil",icon:"",category:"Reagent",subcategory:"sigil",description:"A sigil representing abjuration magic.",value:35,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},wand_minor_abjuration_t2:{typeId:"wand_minor_abjuration_t2",name:"Wand of Minor Abjuration",icon:"",category:"Weapon",subcategory:"wand",description:"A wand that boosts abjuration spell effectiveness.",value:120,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},arcane_essence_t3:{typeId:"arcane_essence_t3",name:"Arcane Essence",icon:"",category:"Reagent",subcategory:"essence",description:"A rare essence obtained from disenchanting powerful items.",value:100,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},primal_elementium_shard_t4:{typeId:"primal_elementium_shard_t4",name:"Primal Elementium Shard",icon:"",category:"Reagent",subcategory:"elemental",description:"A shard of legendary fused elemental power.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},filled_greater_soulstone_t3:{typeId:"filled_greater_soulstone_t3",name:"Filled Greater Soulstone",icon:"",category:"Reagent",subcategory:"soul",description:"A greater soulstone filled with a captured soul.",value:250,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},binding_salts_t2:{typeId:"binding_salts_t2",name:"Binding Salts",icon:"",category:"Reagent",subcategory:"alchemy",description:"Special salts used for binding souls to items.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_magic_t4:{typeId:"essence_of_magic_t4",name:"Essence of Magic",icon:"",category:"Reagent",subcategory:"essence",description:"A legendary essence representing pure magic.",value:2e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},world_rune_fragment_t4:{typeId:"world_rune_fragment_t4",name:"World Rune Fragment",icon:"",category:"Reagent",subcategory:"rune",description:"A fragment of a primordial world rune.",value:2500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},star_forge_hammer_t4_charge:{typeId:"star_forge_hammer_t4_charge",name:"Star Forge Hammer",icon:"",category:"Tool",subcategory:"legendary",description:"A legendary hammer, charged for use in supreme enchanting rituals.",value:5e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},common_trinket_junk:{typeId:"common_trinket_junk",name:"Common Trinket",icon:"",category:"Misc",subcategory:"junk",description:"A low-value trinket, often found as loot. Used for disenchanting practice.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faded_enchanting_scroll_t0:{typeId:"faded_enchanting_scroll_t0",name:"Faded Enchanting Scroll",icon:"",category:"Reagent",subcategory:"scroll",description:"A faded scroll containing basic enchanting formulae.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},illusory_dust_t0:{typeId:"illusory_dust_t0",name:"Illusory Dust",icon:"",category:"Reagent",subcategory:"illusion",description:"A fine dust left behind by minor illusions. Used in basic illusion rituals and training.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},illusory_dust_t1:{typeId:"illusory_dust_t1",name:"Illusory Dust",icon:"",category:"Reagent",subcategory:"illusion",description:"Refined dust from potent illusions. Used in advanced illusion crafting.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},phantasmal_decoy_charge:{typeId:"phantasmal_decoy_charge",name:"Phantasmal Decoy Charge",icon:"",category:"Consumable",subcategory:"illusion",description:"A consumable that creates a temporary illusory decoy to draw attacks.",value:30,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faded_illusionary_scroll_fragment:{typeId:"faded_illusionary_scroll_fragment",name:"Faded Illusionary Scroll Fragment",icon:"",category:"Reagent",subcategory:"illusion",description:"A fragment of a scroll containing faded illusion magic. Used in inscription.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},shadow_quartz_t1:{typeId:"shadow_quartz_t1",name:"Shadow Quartz",icon:"",category:"Reagent",subcategory:"shadow",description:"A quartz crystal infused with shadow energy. Used for advanced illusions.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},spectral_essence_t1:{typeId:"spectral_essence_t1",name:"Spectral Essence",icon:"",category:"Reagent",subcategory:"necromancy",description:"Ethereal essence harvested from spirits. Used in illusion and necromancy.",value:22,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},nightmare_bloom_herb_t2:{typeId:"nightmare_bloom_herb_t2",name:"Nightmare Bloom Herb",icon:"",category:"Reagent",subcategory:"herb",description:"A rare herb with hallucinogenic properties, used in powerful illusions.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},glamour_scroll:{typeId:"glamour_scroll",name:"Scroll of Glamour",icon:"",category:"Consumable",subcategory:"illusion",description:"A scroll that grants the Glamour buff, enhancing charm and presence.",value:60,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},scroll_of_fear:{typeId:"scroll_of_fear",name:"Scroll of Fear",icon:"",category:"Consumable",subcategory:"illusion",description:"A scroll that inflicts fear on enemies, causing them to flee or falter.",value:35,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},scroll_of_confusion:{typeId:"scroll_of_confusion",name:"Scroll of Confusion",icon:"",category:"Consumable",subcategory:"illusion",description:"A scroll that confuses enemies, making them act unpredictably.",value:35,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},scroll_of_paralysis:{typeId:"scroll_of_paralysis",name:"Scroll of Paralysis",icon:"",category:"Consumable",subcategory:"illusion",description:"A scroll that paralyzes enemies for a short duration.",value:50,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},shifting_sands_of_mirage_t3:{typeId:"shifting_sands_of_mirage_t3",name:"Shifting Sands of Mirage",icon:"",category:"Reagent",subcategory:"transmutation",description:"Rare sands that shimmer with illusory mirages. Used in high-level illusion rituals.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},moonleaf_infused_ink_t2:{typeId:"moonleaf_infused_ink_t2",name:"Moonleaf Infused Ink",icon:"",category:"Reagent",subcategory:"ink",description:"Ink infused with moonleaf essence, used for powerful illusion inscriptions.",value:35,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},echoing_simulacrum_shard:{typeId:"echoing_simulacrum_shard",name:"Echoing Simulacrum Shard",icon:"",category:"Reagent",subcategory:"illusion",description:"A rare shard from a simulacrum, used in legendary crafting or powerful summons.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},perfect_disguise_token:{typeId:"perfect_disguise_token",name:"Perfect Disguise Token",icon:"",category:"Consumable",subcategory:"illusion",description:"A token that grants a perfect magical disguise for a limited time.",value:200,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},dreamweave_lotus_t3:{typeId:"dreamweave_lotus_t3",name:"Dreamweave Lotus",icon:"",category:"Reagent",subcategory:"herb",description:"A legendary lotus with dream-altering properties, used in the most powerful illusions.",value:1e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},veil_of_a_thousand_faces_token:{typeId:"veil_of_a_thousand_faces_token",name:"Veil of a Thousand Faces Token",icon:"",category:"Consumable",subcategory:"illusion",description:"A legendary token that unleashes a world-altering illusion.",value:5e3,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},cheap_ink_t0:{typeId:"cheap_ink_t0",name:"Cheap Ink",icon:"",category:"Reagent",subcategory:"ink",description:"Low-quality ink for basic writing and practice.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},rough_paper_scrap_t0:{typeId:"rough_paper_scrap_t0",name:"Rough Paper Scrap",icon:"",category:"Material",subcategory:"paper",description:"A scrap of rough, low-quality paper.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},calligraphy_practice_sheet_t0:{typeId:"calligraphy_practice_sheet_t0",name:"Calligraphy Practice Sheet",icon:"",category:"Misc",subcategory:"inscription",description:"A sheet used for practicing calligraphy. Can be sold or used for mastery.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},common_ink_t0:{typeId:"common_ink_t0",name:"Common Ink",icon:"",category:"Reagent",subcategory:"ink",description:"Standard ink for writing and scribing scrolls.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},vellum_scrap_t0:{typeId:"vellum_scrap_t0",name:"Vellum Scrap",icon:"",category:"Material",subcategory:"vellum",description:"A scrap of vellum, used for crafting sheets.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},vellum_sheet_t1:{typeId:"vellum_sheet_t1",name:"Vellum Sheet",icon:"",category:"Material",subcategory:"vellum",description:"A sheet of processed vellum, suitable for scribing.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},scroll_minor_fire_bolt_t1:{typeId:"scroll_minor_fire_bolt_t1",name:"Scroll of Minor Fire Bolt",icon:"",category:"Consumable",subcategory:"scroll",description:"A scroll that allows the casting of a minor Fire Bolt spell.",value:15,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ancient_tome_fragment_t1:{typeId:"ancient_tome_fragment_t1",name:"Ancient Tome Fragment",icon:"",category:"Reagent",subcategory:"inscription",description:"A fragment of an ancient tome, used for research and discovery.",value:20,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},map_fragment_t1:{typeId:"map_fragment_t1",name:"Map Fragment",icon:"",category:"Misc",subcategory:"inscription",description:"A fragment of a map, may lead to hidden treasures or resources.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},enchanted_quill_t1:{typeId:"enchanted_quill_t1",name:"Enchanted Quill",icon:"",category:"Tool",subcategory:"inscription",description:"A magical quill that improves scribing speed and precision.",value:60,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},phoenix_feather_t2:{typeId:"phoenix_feather_t2",name:"Phoenix Feather",icon:"",category:"Reagent",subcategory:"inscription",description:"A rare feather from a phoenix, used in powerful inscription tools.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},silver_nib_t1:{typeId:"silver_nib_t1",name:"Silver Nib",icon:"",category:"Material",subcategory:"inscription",description:"A finely crafted silver nib for advanced quills.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},empty_spellbook_common_t1:{typeId:"empty_spellbook_common_t1",name:"Empty Spellbook",icon:"",category:"Tool",subcategory:"inscription",description:"A basic spellbook for storing spells or notes.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},voidbloom_extract_t2:{typeId:"voidbloom_extract_t2",name:"Voidbloom Extract",icon:"",category:"Reagent",subcategory:"alchemy",description:"A rare extract from the voidbloom flower, used in magical inks.",value:60,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},silver_dust_t1:{typeId:"silver_dust_t1",name:"Silver Dust",icon:"",category:"Reagent",subcategory:"alchemy",description:"Finely ground silver, used in magical inks and rituals.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},purified_aether_vial_t2:{typeId:"purified_aether_vial_t2",name:"Purified Aether Vial",icon:"",category:"Reagent",subcategory:"aethermancy",description:"A vial of purified aether, used in advanced magical inks.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ink_of_warding_t2:{typeId:"ink_of_warding_t2",name:"Ink of Warding",icon:"",category:"Reagent",subcategory:"ink",description:"A magical ink that enhances defensive scrolls.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},dragonscale_parchment_t3:{typeId:"dragonscale_parchment_t3",name:"Dragonscale Parchment",icon:"",category:"Material",subcategory:"inscription",description:"A rare parchment made from dragonscales, used in legendary tomes.",value:300,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ink_of_the_cosmos_t4:{typeId:"ink_of_the_cosmos_t4",name:"Ink of the Cosmos",icon:"",category:"Reagent",subcategory:"ink",description:"A legendary ink infused with cosmic power.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_knowledge_t3:{typeId:"essence_of_knowledge_t3",name:"Essence of Knowledge",icon:"",category:"Reagent",subcategory:"divination",description:"A rare essence representing deep magical knowledge.",value:200,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},binding_of_ancients_t3:{typeId:"binding_of_ancients_t3",name:"Binding of Ancients",icon:"",category:"Reagent",subcategory:"runecrafting",description:"A powerful binding used in the creation of master tomes.",value:250,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},celestial_parchment_t4:{typeId:"celestial_parchment_t4",name:"Celestial Parchment",icon:"",category:"Material",subcategory:"inscription",description:"A legendary parchment made from celestial materials.",value:1e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ink_of_the_void_t4:{typeId:"ink_of_the_void_t4",name:"Ink of the Void",icon:"",category:"Reagent",subcategory:"ink",description:"A legendary ink infused with void energy.",value:1200,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},feather_of_a_seraph_t4:{typeId:"feather_of_a_seraph_t4",name:"Feather of a Seraph",icon:"",category:"Reagent",subcategory:"inscription",description:"A feather from a celestial being, used in the most powerful inscriptions.",value:2e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},tear_of_a_sleeping_god_t4:{typeId:"tear_of_a_sleeping_god_t4",name:"Tear of a Sleeping God",icon:"",category:"Reagent",subcategory:"inscription",description:"A mythical tear with immense magical power.",value:3e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},scroll_of_a_thousand_truths_t4:{typeId:"scroll_of_a_thousand_truths_t4",name:"Scroll of a Thousand Truths",icon:"",category:"Consumable",subcategory:"scroll",description:"A legendary scroll capable of enacting a powerful, one-time reality shift.",value:1e4,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},bone_dust_t0:{typeId:"bone_dust_t0",name:"Bone Dust",icon:"",category:"Reagent",subcategory:"necromancy",description:"Finely ground bone, used in necromantic rituals and training.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},chipped_bone_fragment_t0:{typeId:"chipped_bone_fragment_t0",name:"Chipped Bone Fragment",icon:"",category:"Reagent",subcategory:"necromancy",description:"A small, chipped fragment of bone. Common necromancy component.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},lesser_soulstone_fragment_t0:{typeId:"lesser_soulstone_fragment_t0",name:"Lesser Soulstone Fragment",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A fragment of a weak soulstone, used in basic necromancy and soulbinding.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},gravebloom_petal_t1:{typeId:"gravebloom_petal_t1",name:"Gravebloom Petal",icon:"",category:"Reagent",subcategory:"herb",description:"A petal from the rare Gravebloom, used in necromantic curses.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},embalming_fluid_t1:{typeId:"embalming_fluid_t1",name:"Embalming Fluid",icon:"",category:"Reagent",subcategory:"alchemy",description:"A fluid used to preserve organic matter for necromantic rituals.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},preserved_monster_hide_t1:{typeId:"preserved_monster_hide_t1",name:"Preserved Monster Hide",icon:"",category:"Material",subcategory:"necromancy",description:"Monster hide treated with necromantic energies for advanced crafting.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},shadow_iron_ingot_t2:{typeId:"shadow_iron_ingot_t2",name:"Shadow Iron Ingot",icon:"",category:"Material",subcategory:"metal",description:"A rare ingot of shadow-infused iron, used in powerful necromancy.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},life_essence_fragment_t0:{typeId:"life_essence_fragment_t0",name:"Life Essence Fragment",icon:"",category:"Reagent",subcategory:"essence",description:"A tiny fragment of life essence, used in soul manipulation.",value:15,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_undeath_t3:{typeId:"essence_of_undeath_t3",name:"Essence of Undeath",icon:"",category:"Reagent",subcategory:"essence",description:"A rare essence representing the power of undeath.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},perfect_shadow_diamond_t3:{typeId:"perfect_shadow_diamond_t3",name:"Perfect Shadow Diamond",icon:"",category:"Reagent",subcategory:"gem",description:"A flawless diamond infused with shadow energy, used in lichdom rituals.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_death_t4:{typeId:"essence_of_death_t4",name:"Essence of Death",icon:"",category:"Reagent",subcategory:"essence",description:"A legendary essence representing pure death.",value:2e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},scroll_minor_frailty:{typeId:"scroll_minor_frailty",name:"Scroll of Minor Frailty",icon:"",category:"Consumable",subcategory:"scroll",description:"A scroll that inflicts the Frailty debuff, reducing target defenses.",value:18,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},flawed_phylactery_shard:{typeId:"flawed_phylactery_shard",name:"Flawed Phylactery Shard",icon:"",category:"Artifact",subcategory:"necromancy",description:"A flawed shard from a phylactery, can prevent death once at great cost.",value:1e3,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},skeletal_rat:{typeId:"skeletal_rat",name:"Skeletal Rat",icon:"",category:"Summon",subcategory:"undead",description:"A small undead rat animated by necromantic magic.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},skeletal_warrior:{typeId:"skeletal_warrior",name:"Skeletal Warrior",icon:"",category:"Summon",subcategory:"undead",description:"A humanoid skeleton armed for battle, summoned by necromancy.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},skeletal_mage:{typeId:"skeletal_mage",name:"Skeletal Mage",icon:"",category:"Summon",subcategory:"undead",description:"A skeletal spellcaster, summoned by advanced necromancy.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},practice_rune_tablet_t0:{typeId:"practice_rune_tablet_t0",name:"Practice Rune Tablet",icon:"",category:"Misc",subcategory:"runecrafting",description:"A simple stone tablet carved with basic glyphs. Can be sold or used in basic Inscription.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},clay_rune_blank_t0:{typeId:"clay_rune_blank_t0",name:"Clay Rune Blank",icon:"",category:"Material",subcategory:"runecrafting",description:"A basic clay tablet ready for scribing minor runes.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},rune_minor_ward_t0:{typeId:"rune_minor_ward_t0",name:"Rune of Minor Warding",icon:"",category:"Consumable",subcategory:"rune",description:"A consumable rune that grants a small, temporary resistance buff or can be used as a component.",value:8,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},stone_chip_t0:{typeId:"stone_chip_t0",name:"Stone Chip",icon:"",category:"Material",subcategory:"stone",description:"A small chip of stone, used for basic glyph practice.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},clay_lump_t0:{typeId:"clay_lump_t0",name:"Clay Lump",icon:"",category:"Material",subcategory:"clay",description:"A lump of clay, used for crafting rune blanks.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},iron_chisel_t0:{typeId:"iron_chisel_t0",name:"Iron Chisel",icon:"",category:"Tool",subcategory:"runecrafting",description:"A basic iron chisel for carving runes.",value:15,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY},charged_mana_crystal_t1:{typeId:"charged_mana_crystal_t1",name:"Charged Mana Crystal",icon:"",category:"Reagent",subcategory:"crystal",description:"A crystal brimming with condensed magical energy.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},stone_rune_blank_t1:{typeId:"stone_rune_blank_t1",name:"Stone Rune Blank",icon:"",category:"Material",subcategory:"runecrafting",description:"A refined stone blank for scribing advanced runes.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},metal_casing_t1:{typeId:"metal_casing_t1",name:"Metal Casing",icon:"",category:"Material",subcategory:"metal",description:"A metal shell used for crafting magical traps.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},rune_spark_t1:{typeId:"rune_spark_t1",name:"Rune of Spark",icon:"",category:"Reagent",subcategory:"rune",description:"A rune inscribed with spark energy, used in trap crafting.",value:15,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},runic_trap_minor_spark_t1:{typeId:"runic_trap_minor_spark_t1",name:"Runic Trap",icon:"",category:"Consumable",subcategory:"trap",description:"A minor magical trap that detonates with a spark effect.",value:30,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},target_gear_rare_or_higher:{typeId:"target_gear_rare_or_higher",name:"Rare+ Gear",icon:"",category:"Material",subcategory:"gear",description:"A placeholder for any rare or higher quality gear to be enhanced.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},masterwork_rune_blank_t2:{typeId:"masterwork_rune_blank_t2",name:"Masterwork Rune Blank",icon:"",category:"Material",subcategory:"runecrafting",description:"A masterwork blank for etching powerful runes.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_power_t2:{typeId:"essence_of_power_t2",name:"Essence of Power",icon:"",category:"Reagent",subcategory:"essence",description:"A rare reagent representing raw magical power.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},aetherium_shard_t2:{typeId:"aetherium_shard_t2",name:"Aetherium Shard",icon:"",category:"Reagent",subcategory:"aethermancy",description:"A rare shard of pure aetherium, used in advanced rituals.",value:100,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},silver_ingot_t1:{typeId:"silver_ingot_t1",name:"Silver Ingot",icon:"",category:"Material",subcategory:"metal",description:"A bar of refined silver, used in magical crafting.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},soul_trace_t1:{typeId:"soul_trace_t1",name:"Soul Trace",icon:"",category:"Reagent",subcategory:"soul",description:"A byproduct of soulbinding, used in advanced rituals.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},binding_core_greater_t2:{typeId:"binding_core_greater_t2",name:"Binding Core",icon:"",category:"Reagent",subcategory:"runecrafting",description:"A powerful core for binding advanced planar entities or constructs.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},obsidian_rune_tablet_t3:{typeId:"obsidian_rune_tablet_t3",name:"Obsidian Rune Tablet",icon:"",category:"Material",subcategory:"runecrafting",description:"A tablet of obsidian, used for scribing master runes.",value:200,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_death_t3:{typeId:"essence_of_death_t3",name:"Essence of Death",icon:"",category:"Reagent",subcategory:"essence",description:"A legendary essence representing pure death.",value:2e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},dragon_blood_ink_t3:{typeId:"dragon_blood_ink_t3",name:"Dragon Blood Ink",icon:"",category:"Reagent",subcategory:"ink",description:"A rare ink made from dragon blood, used in legendary scribing.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},master_rune_of_death_t3:{typeId:"master_rune_of_death_t3",name:"Master Rune of Death",icon:"",category:"Consumable",subcategory:"rune",description:"A legendary rune embodying the concept of death. Used for artifacts or powerful scrolls.",value:5e3,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},faint_soul_trace_t0:{typeId:"faint_soul_trace_t0",name:"Faint Soul Trace",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A faint echo of spiritual energy, used in soulbinding rituals.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},lesser_soulstone_empty_t0:{typeId:"lesser_soulstone_empty_t0",name:"Lesser Soulstone (Empty)",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A crude gemstone capable of holding a weak spiritual essence.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},lesser_soulstone_filled_weak_t0:{typeId:"lesser_soulstone_filled_weak_t0",name:"Lesser Soulstone (Filled, Weak)",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A soulstone containing a weak spirit echo.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},wooden_amulet_blank_t0:{typeId:"wooden_amulet_blank_t0",name:"Wooden Amulet Blank",icon:"",category:"Material",subcategory:"amulet",description:"A blank wooden amulet, ready for enchantment.",value:5,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},amulet_of_faint_spirit_t0:{typeId:"amulet_of_faint_spirit_t0",name:"Amulet of Faint Spirit",icon:"",category:"Equipment",subcategory:"amulet",description:"A simple amulet imbued with a faint spiritual echo. Grants +1 Max Mana.",value:30,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},intact_soulstone_empty_t1:{typeId:"intact_soulstone_empty_t1",name:"Intact Soulstone (Empty)",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A higher-quality soulstone, ready to be filled with spiritual energy.",value:30,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},silver_filigree_t1:{typeId:"silver_filigree_t1",name:"Silver Filigree",icon:"",category:"Material",subcategory:"metal",description:"Delicate silver filigree, used in advanced soulbinding and enchanting.",value:18,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},soul_mana_battery_minor_t1:{typeId:"soul_mana_battery_minor_t1",name:"Soul Mana Battery",icon:"",category:"Consumable",subcategory:"soulbinding",description:"A consumable battery that releases mana when shattered. Restores 75 Mana.",value:60,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},animated_clay_figurine_blank_t1:{typeId:"animated_clay_figurine_blank_t1",name:"Animated Clay Figurine Blank",icon:"",category:"Material",subcategory:"construct",description:"A blank clay figurine, ready to be animated.",value:12,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},binding_oath_scroll_t1:{typeId:"binding_oath_scroll_t1",name:"Binding Oath Scroll",icon:"",category:"Reagent",subcategory:"inscription",description:"A scroll inscribed with binding oaths, used in soulbinding rituals.",value:20,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},soulbound_clay_sentry_practice_t1:{typeId:"soulbound_clay_sentry_practice_t1",name:"Soulbound Clay Sentry",icon:"",category:"Summon",subcategory:"construct",description:"A temporary, non-combat clay sentry animated for training.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},intact_soulstone_filled_average_t2:{typeId:"intact_soulstone_filled_average_t2",name:"Intact Soulstone (Filled, Average)",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A soulstone containing an average-quality spirit.",value:60,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},alchemical_filter_t2:{typeId:"alchemical_filter_t2",name:"Alchemical Filter",icon:"",category:"Material",subcategory:"alchemy",description:"A filter used to refine essences and extracts.",value:40,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},purified_soul_essence_t2:{typeId:"purified_soul_essence_t2",name:"Purified Soul Essence",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A potent, refined soul essence for high-tier crafting.",value:120,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},greater_soulstone_empty_t2:{typeId:"greater_soulstone_empty_t2",name:"Greater Soulstone (Empty)",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A soulstone capable of containing powerful entities.",value:200,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},holy_symbol_blessed_t2:{typeId:"holy_symbol_blessed_t2",name:"Holy Symbol",icon:"",category:"Reagent",subcategory:"restoration",description:"A blessed holy symbol, used in advanced rituals.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ectoplasm_globule_t2:{typeId:"ectoplasm_globule_t2",name:"Ectoplasm Globule",icon:"",category:"Reagent",subcategory:"necromancy",description:"A globule of ectoplasm, harvested from spirits.",value:25,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},soul_ward_talisman_t2:{typeId:"soul_ward_talisman_t2",name:"Soul Ward Talisman",icon:"",category:"Equipment",subcategory:"trinket",description:"A trinket that grants resistance to undead/demon damage and life drain.",value:300,isUsable:!0,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},pristine_soulgem_filled_ancient_t3:{typeId:"pristine_soulgem_filled_ancient_t3",name:"Pristine Soulgem (Filled, Ancient)",icon:"",category:"Reagent",subcategory:"soulbinding",description:"A flawless soulgem containing an ancient, powerful soul.",value:500,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},aetherium_artifact_frame_t3:{typeId:"aetherium_artifact_frame_t3",name:"Aetherium Artifact Frame",icon:"",category:"Material",subcategory:"artifact",description:"A masterfully crafted frame for legendary artifacts.",value:800,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},essence_of_will_t3:{typeId:"essence_of_will_t3",name:"Essence of Will",icon:"",category:"Reagent",subcategory:"alchemy",description:"A rare essence representing pure willpower.",value:300,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},echoing_soul_core_t4:{typeId:"echoing_soul_core_t4",name:"Echoing Soul Core",icon:"",category:"Reagent",subcategory:"artifact",description:"A legendary component for artifact or legendary weapons/armor.",value:2e3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},master_craftsman_ring:{typeId:"master_craftsman_ring",name:"Master Craftsman Ring",icon:"",category:"Equipment",subcategory:"Ring",description:"A ring that enhances your mastery of crafting skills.",value:150,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY,equipmentSlot:"Ring",stats:[{key:"masteryXpGain",value:.1,type:"percentage_additive",scope:"mastery_xp",context:"alchemy"},{key:"effectiveMasteryLevel",value:2,type:"flat_additive",scope:"mastery",context:"alchemy"}],rarity:"Rare",isGear:!0},any_rare_gear:{typeId:"any_rare_gear",name:"Any Rare Gear",icon:"",category:"Material",subcategory:"gear",description:"Placeholder for any rare quality gear.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},ash_mote_t0:{typeId:"ash_mote_t0",name:"Ash Mote",icon:"",category:"Reagent",subcategory:"ash",description:"A small mote of ash, used in basic rituals.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},chipped_quartz_t0:{typeId:"chipped_quartz_t0",name:"Chipped Quartz",icon:"",category:"Material",subcategory:"gem",description:"A small, chipped piece of quartz. Used in basic crafting.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},copper_wire_t0:{typeId:"copper_wire_t0",name:"Copper Wire",icon:"",category:"Material",subcategory:"metal",description:"A length of copper wire, used in crafting and rituals.",value:3,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},fresh_monster_hide_t1:{typeId:"fresh_monster_hide_t1",name:"Fresh Monster Hide",icon:"",category:"Material",subcategory:"hide",description:"Recently harvested hide from a monster. Used in crafting.",value:8,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},golden_thread_t1:{typeId:"golden_thread_t1",name:"Golden Thread",icon:"",category:"Material",subcategory:"thread",description:"A spool of fine golden thread, used in advanced crafting.",value:15,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},hardened_leather_t1:{typeId:"hardened_leather_t1",name:"Hardened Leather",icon:"",category:"Material",subcategory:"leather",description:"Leather that has been treated for durability. Used in crafting.",value:10,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},soot_t0:{typeId:"soot_t0",name:"Soot",icon:"",category:"Reagent",subcategory:"ash",description:"A pinch of soot, used in basic alchemy and rituals.",value:1,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},target_armor_uncommon:{typeId:"target_armor_uncommon",name:"Uncommon Armor",icon:"",category:"Material",subcategory:"gear",description:"Placeholder for any uncommon armor to be upgraded or used in rituals.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},target_artifact_or_legendary:{typeId:"target_artifact_or_legendary",name:"Artifact or Legendary Gear",icon:"",category:"Material",subcategory:"gear",description:"Placeholder for any artifact or legendary gear.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},target_gear_epic:{typeId:"target_gear_epic",name:"Epic Gear",icon:"",category:"Material",subcategory:"gear",description:"Placeholder for any epic quality gear.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},target_weapon_common:{typeId:"target_weapon_common",name:"Common Weapon",icon:"",category:"Material",subcategory:"gear",description:"Placeholder for any common weapon to be upgraded or used in rituals.",value:0,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},tome_of_aetheric_mastery_t3:{typeId:"tome_of_aetheric_mastery_t3",name:"Tome of Aetheric Mastery",icon:"",category:"Reagent",subcategory:"tome",description:"A tome containing advanced knowledge of aethermancy.",value:200,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},tree_sap_t0:{typeId:"tree_sap_t0",name:"Tree Sap",icon:"",category:"Reagent",subcategory:"plant",description:"Sticky sap collected from trees. Used in alchemy and crafting.",value:2,isUsable:!1,isUpgradeable:!1,maxStack:Number.POSITIVE_INFINITY},iron_helmet:{typeId:"iron_helmet",name:"Iron Helmet",icon:"",category:"Gear",subcategory:"Head",description:"A sturdy iron helmet. Provides basic protection.",value:100,isUsable:!1,isUpgradeable:!1,maxStack:1,equipmentSlot:"Head",stats:[{key:"defense",value:5,type:"flat_additive"},{key:"resistanceFIRE",value:.1,type:"percentage_additive"}],rarity:"Common",isGear:!0},leather_armor:{typeId:"leather_armor",name:"Leather Armor",icon:"",category:"Gear",subcategory:"Chest",description:"Simple leather armor. Offers some protection.",value:80,isUsable:!1,isUpgradeable:!1,maxStack:1,equipmentSlot:"Chest",stats:[{key:"defense",value:3,type:"flat_additive"},{key:"defensePct",value:.05,type:"percentage_additive"}],rarity:"Common",isGear:!0}},x_={typeId:"novice_mage_hat",name:"Novice Mage Hat",icon:"",category:"Equipment",subcategory:"Hat",description:"A simple cloth hat worn by apprentice mages.",value:50,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY,equipmentSlot:"Head",stats:[{key:"maxMana",value:10,type:"flat_additive",scope:"global"},{key:"manaRegen",value:5,type:"percentage_additive",scope:"global"}],rarity:"Common",setId:"NoviceMage",isGear:!0},I_={typeId:"novice_mage_robe",name:"Novice Mage Robe",icon:"",category:"Equipment",subcategory:"Robe",description:"A simple cloth robe worn by apprentice mages.",value:75,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY,equipmentSlot:"Chest",stats:[{key:"maxMana",value:15,type:"flat_additive",scope:"global"},{key:"xpGain",value:3,type:"percentage_additive",scope:"global"}],rarity:"Common",setId:"NoviceMage",isGear:!0},T_={typeId:"novice_mage_wand",name:"Novice Mage Wand",icon:"",category:"Weapon",subcategory:"Wand",description:"A simple wooden wand used by apprentice mages.",value:60,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY,equipmentSlot:"MainHand",stats:[{key:"spellDamage",value:5,type:"flat_additive",scope:"global"},{key:"actionSpeed",value:2,type:"percentage_additive",scope:"global"}],rarity:"Common",setId:"NoviceMage",isGear:!0},M_={typeId:"adept_fire_amulet",name:"Adept Fire Amulet",icon:"",category:"Equipment",subcategory:"Amulet",description:"An amulet that enhances fire magic abilities.",value:120,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY,equipmentSlot:"Amulet",stats:[{key:"spellDamage",value:8,type:"flat_additive",scope:"school",context:"Fire"},{key:"xpGain",value:5,type:"percentage_additive",scope:"school",context:"Fire"}],rarity:"Uncommon",isGear:!0},A_={typeId:"alchemist_gloves",name:"Alchemist Gloves",icon:"",category:"Equipment",subcategory:"Gloves",description:"Gloves that improve potion brewing efficiency.",value:90,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY,equipmentSlot:"Gloves",stats:[{key:"actionSpeed",value:10,type:"percentage_additive",scope:"action",context:"brewPotion"},{key:"resourceCost",value:-5,type:"percentage_additive",scope:"action",context:"brewPotion"}],rarity:"Uncommon",isGear:!0},N_={typeId:"mysterious_ring",name:"Mysterious Ring",icon:"icons/unknown_ring.png",category:"Equipment",subcategory:"Ring",description:"A ring with unknown magical properties. It must be identified to reveal its true nature.",value:100,isUsable:!1,isUpgradeable:!0,maxStack:Number.POSITIVE_INFINITY,equipmentSlot:"Ring",stats:[{key:"maxMana",value:20,type:"flat_additive",scope:"global"},{key:"spellDamage",value:10,type:"flat_additive",scope:"global"}],rarity:"Rare",startsUnidentified:!0,isGear:!0};Object.assign(Ne,{novice_mage_hat:x_,novice_mage_robe:I_,novice_mage_wand:T_,adept_fire_amulet:M_,alchemist_gloves:A_,mysterious_ring:N_});const Ga={};function dg(a){return a%1===0?a.toString():a.toFixed(2).replace(/\.00$/,"").replace(/(\.[0-9]*[1-9])0+$/,"$1")}const Le=Vt()((a,i)=>({notifications:[],addNotification:(o,r=3e3)=>{o.type==="levelup"&&(r=1e4),a(c=>{const d=[...c.notifications,o],m=o.id;return Ga[m]&&clearTimeout(Ga[m]),r!==void 0&&r>0&&(Ga[m]=setTimeout(()=>{i().removeNotification(m)},r)),{notifications:d}})},removeNotification:o=>{a(r=>({notifications:r.notifications.filter(c=>c.id!==o)})),Ga[o]&&(clearTimeout(Ga[o]),delete Ga[o])},addXPNotification:(o,r)=>{const d={id:Math.random().toString(36).substring(7),type:"xp",message:`+${dg(r)} XP`,schoolId:o,xpAmount:r,timestamp:Date.now()};i().addNotification(d)},addManaNotification:(o,r)=>{const d={id:Math.random().toString(36).substring(7),type:"mana",message:`+${dg(r)} Mana`,schoolId:o,manaAmount:r,timestamp:Date.now()};i().addNotification(d)},addLevelUpNotification:(o,r)=>{const d={id:Math.random().toString(36).substring(7),type:"levelup",message:`${o.charAt(0).toUpperCase()+o.slice(1)} leveled up to ${r}!`,schoolId:o,levelUp:{level:r},timestamp:Date.now()};i().addNotification(d)},addGoldNotification:o=>{const c={id:Math.random().toString(36).substring(7),type:"gold",message:`+${o} Gold`,schoolId:"gold",timestamp:Date.now()};i().addNotification(c)},addVaultSlotNotification:()=>{const r={id:Math.random().toString(36).substring(7),type:"vault",message:"Vault slot purchased! +1 slot",schoolId:"vault",timestamp:Date.now()};i().addNotification(r)},addItemReceivedNotification:(o,r)=>{const c=Ne[o],m={id:Math.random().toString(36).substring(7),type:"item",message:`+${r} ${(c==null?void 0:c.name)??o}`,schoolId:"item_received",itemName:(c==null?void 0:c.name)??o,itemTypeId:o,itemQuantity:r,timestamp:Date.now()};i().addNotification(m)},addManaEmptyNotification:()=>{const r={id:Math.random().toString(36).substring(7),type:"manaEmpty",message:"Out of mana!",timestamp:Date.now()};i().addNotification(r,3e3)},addManaFullNotification:()=>{const r={id:Math.random().toString(36).substring(7),type:"manaFull",message:"Mana is full!",timestamp:Date.now()};i().addNotification(r,3e3)},addNotEnoughManaNotification:(o,r)=>{const d={id:Math.random().toString(36).substring(7),type:"manaEmpty",message:`Not enough mana for ${o} (need ${r}). Training stopped.`,timestamp:Date.now()};i().addNotification(d,3e3)},removeNotificationByType:o=>{a(r=>(r.notifications.filter(d=>d.type===o).forEach(d=>{Ga[d.id]&&(clearTimeout(Ga[d.id]),delete Ga[d.id])}),{notifications:r.notifications.filter(d=>d.type!==o)}))},removeManaFullNotification:()=>{i().removeNotificationByType("manaFull")}})),mg=0,ua=Vt()(da(a=>({gold:mg,addGold:i=>{var o,r;i>0&&((r=(o=Le.getState()).addGoldNotification)==null||r.call(o,i)),a(c=>({gold:c.gold+i}))},removeGold:i=>{a(o=>({gold:Math.max(0,o.gold-i)}))},setGold:i=>{a({gold:Math.max(0,i)})},resetToDefaults:()=>{a({gold:mg})}}),{name:"gold-storage",partialize:a=>({gold:a.gold})})),He=Vt()(da((a,i)=>({activeBonuses:[],addBonus:o=>{a(r=>{const c=Date.now();let d=r.activeBonuses.filter(m=>!m.durationSeconds||!m.addedAt||c-m.addedAt<m.durationSeconds*1e3);return o.stackingRule==="exclusive"?d=d.filter(m=>m.statAffected!==o.statAffected||m.value>o.value):o.stackingRule==="additive"&&(d=d.filter(m=>m.source!==o.source)),{...r,activeBonuses:[...d,{...o,addedAt:o.durationSeconds?Date.now():void 0}]}})},removeBonus:o=>{a(r=>({...r,activeBonuses:r.activeBonuses.filter(c=>c.id!==o)}))},getActiveBonusesForStat:(o,r)=>{const c=Date.now();return i().activeBonuses.filter(m=>{if(m.durationSeconds&&m.addedAt&&c-m.addedAt>=m.durationSeconds*1e3||!m.statAffected.startsWith(o))return!1;switch(m.scope){case"global":return!0;case"school":return(r==null?void 0:r.schoolId)&&(m.context&&m.context===r.schoolId||m.schoolId&&m.schoolId===r.schoolId);case"action":return(r==null?void 0:r.actionId)&&(m.context&&m.context===r.actionId||m.actionId&&m.actionId===r.actionId);case"item_category":return(r==null?void 0:r.itemCategory)&&(m.context&&m.context===r.itemCategory||m.itemCategory&&m.itemCategory===r.itemCategory);case"mastery":return(r==null?void 0:r.masteryId)&&m.context===r.masteryId;case"mastery_xp":return(r==null?void 0:r.masteryId)&&m.context===r.masteryId;default:return typeof m.scope=="string"&&m.scope.startsWith("SCHOOL_")?(r==null?void 0:r.schoolId)&&(m.context&&m.context===r.schoolId||m.schoolId&&m.schoolId===r.schoolId):typeof m.scope=="string"&&m.scope.startsWith("ACTION_")?(r==null?void 0:r.actionId)&&(m.context&&m.context===r.actionId||m.actionId&&m.actionId===r.actionId):typeof m.scope=="string"&&m.scope.startsWith("ITEM_CATEGORY_")?(r==null?void 0:r.itemCategory)&&(m.context&&m.context===r.itemCategory||m.itemCategory&&m.itemCategory===r.itemCategory):!1}})},calculateModifiedStat:(o,r,c)=>{const d=i().getActiveBonusesForStat(r,c);let m=0,p=0,y=1;for(const g of d)switch(g.type){case"stat":case"flat_additive":m+=g.value;break;case"school":case"percentage_additive":p+=g.value;break;case"mastery":case"percentage_multiplicative":y*=1+g.value;break}let h=o+m;return h=h*(1+p),h=h*y,h},clearBonusesBySource:o=>{a(r=>({...r,activeBonuses:r.activeBonuses.filter(c=>c.source!==o)}))}}),{name:"bonus-storage",partialize:a=>({activeBonuses:a.activeBonuses.filter(i=>i.id.startsWith("mana-upgrade-")||!i.durationSeconds&&!i.addedAt)})})),C_=a=>{const i=a.value>0?"+":"";let o="";(a.type==="school"||a.type==="mastery")&&(o="%");const r=`${i}${a.value}${o}`,c=a.statAffected;let d="";return a.scope==="school"&&(a.context||a.schoolId)?d=` for ${a.context||a.schoolId} School`:a.scope==="action"&&(a.context||a.actionId)?d=` for ${a.context||a.actionId}`:a.scope==="item_category"&&(a.context||a.itemCategory)&&(d=` for ${a.context||a.itemCategory} items`),`${r} ${c}${d}`},j_=[{id:"channel-minor-aether",name:"Channel Minor Aether",schoolId:"aethermancy",xpPerAction:2,actionDuration:2,description:"Gently draw ambient aether to slowly regenerate mana and train Aethermancy.",manaGeneratedPerAction:1,levelRequired:1,type:"train",itemDrops:[{itemId:"aetheric_dew",amount:1,chance:.001,hidden:!0}]},{id:"mana-spark",name:"Mana Spark",schoolId:"aethermancy",xpPerAction:10,actionDuration:0,description:"Instantly convert a small amount of focused will into mana.",manaGeneratedPerAction:25,levelRequired:5,type:"cast",cooldownSeconds:60},{id:"refine-mana-stream",name:"Refine Mana Stream",schoolId:"aethermancy",xpPerAction:8,actionDuration:2.5,description:"Purify and channel a more potent stream of aether.",manaGeneratedPerAction:3,levelRequired:15,type:"train",itemDrops:[{itemId:"aetheric_dew",amount:1,chance:.01,hidden:!0}]},{id:"consume-aetheric-dew",name:"Consume Aetheric Dew",schoolId:"aethermancy",xpPerAction:5,actionDuration:0,description:"Consume refined Aetheric Dew for a significant mana burst.",manaGeneratedPerAction:75,levelRequired:25,type:"cast",cooldownSeconds:10,reagentCosts:[{itemId:"aetheric_dew",amount:1}]},{id:"aetheric-siphon",name:"Aetheric Siphon",schoolId:"aethermancy",xpPerAction:15,actionDuration:3,description:"Actively siphon large amounts of aether.",manaGeneratedPerAction:10,levelRequired:50,type:"train",itemDrops:[{itemId:"aetheric_dew",amount:1,chance:.05,hidden:!0}]}],E_=[{id:"practice-minor-ward",name:"Practice Minor Ward",schoolId:"abjuration",xpPerAction:3,actionDuration:2.5,description:"Basic practice in forming small protective fields.",manaCostPerAction:2,itemDrops:[{itemId:"warding_dust_t0",amount:1}],levelRequired:1,type:"train"},{id:"study-shielding-theory",name:"Study Shielding Theory",schoolId:"abjuration",xpPerAction:5,actionDuration:4,description:"Theoretical study of barrier mechanics.",manaCostPerAction:1,levelRequired:5,type:"train"},{id:"infuse-shielding-matrix",name:"Infuse Shielding Matrix",schoolId:"abjuration",xpPerAction:12,actionDuration:5,description:"Imbue objects with basic protective energies.",manaCostPerAction:8,itemDrops:[{itemId:"lesser_shielding_charm",amount:1}],levelRequired:10,type:"craft"},{id:"maintain-personal-barrier",name:"Maintain Personal Barrier",schoolId:"abjuration",xpPerAction:2,actionDuration:1,description:"Maintain a constant barrier that absorbs a small amount of incoming damage. High mana upkeep.",manaCostPerAction:3,levelRequired:25,type:"train"},{id:"study-dispel-magic",name:"Study Dispel Magic",schoolId:"abjuration",xpPerAction:40,actionDuration:8,description:"Deep study into unraveling magical effects.",manaCostPerAction:15,itemDrops:[{itemId:"scroll_minor_dispel",amount:1}],levelRequired:40,type:"train"},{id:"counterspell-practice",name:"Counterspell Practice",schoolId:"abjuration",xpPerAction:75,actionDuration:12,description:"Hone your reflexes by practicing to negate incoming spells in a simulated environment.",manaCostPerAction:25,levelRequired:55,type:"train"},{id:"craft-glyphs-of-warding",name:"Craft Glyphs of Warding",schoolId:"abjuration",xpPerAction:200,actionDuration:60,description:"Scribe potent Glyphs that offer specific elemental or magical resistances when equipped.",manaCostPerAction:100,itemDrops:[{itemId:"glyph_fire_warding",amount:1}],levelRequired:70,type:"craft"},{id:"aegis-infusion",name:"Aegis Infusion",schoolId:"abjuration",xpPerAction:350,actionDuration:15,description:"Practice imbuing armor and shields with powerful, temporary abjurations.",manaCostPerAction:75,itemDrops:[{itemId:"temporary_aegis_oil",amount:1}],levelRequired:85,type:"train"},{id:"minor-shield",name:"Minor Shield",schoolId:"abjuration",xpPerAction:0,actionDuration:1.5,description:"Conjure a minor magical shield, temporarily increasing your defense.",levelRequired:3,type:"cast",isCombatSpell:!0,combatManaCost:8,combatCooldownSeconds:12,combatTargetType:"self",combatEffects:[{type:"buff",target:"self",statAffected:"defense",value:10,bonusType:"flat_additive",durationMs:1e4,buffId:"minor_shield_buff",buffName:"Minor Shield",buffIcon:""}]}],w_=[{id:"gather-herbs",name:"Gather Herbs",schoolId:"alchemy",xpPerAction:2,actionDuration:2,description:"Search the wilds for common herbs used in basic alchemy.",itemDrops:[{itemId:"common_herb_leaf_t0",amount:1}],levelRequired:1,type:"train"},{id:"grind-common-herbs",name:"Grind Common Herbs",schoolId:"alchemy",xpPerAction:3,actionDuration:3,description:"Practice grinding and preparing basic herbs for alchemical use.",reagentCosts:[{itemId:"common_herb_leaf_t0",amount:2}],itemDrops:[{itemId:"ground_common_herb_t0",amount:1}],levelRequired:1,type:"train"},{id:"brew-minor-healing-poultice",name:"Brew Minor Healing Poultice",schoolId:"alchemy",xpPerAction:12,actionDuration:8,description:"Create simple poultices that offer minor healing.",reagentCosts:[{itemId:"ground_common_herb_t0",amount:3},{itemId:"purified_water_flask_t0",amount:1},{itemId:"cloth_scrap_t0",amount:1}],itemDrops:[{itemId:"minor_healing_poultice_t0",amount:1}],levelRequired:5,type:"craft"},{id:"distill-weak-mana-potion",name:"Distill Weak Mana Potion",schoolId:"alchemy",xpPerAction:20,actionDuration:12,description:"Extract and concentrate faint magical energies into a weak mana-restoring potion.",reagentCosts:[{itemId:"faint_mana_crystal_t0",amount:3},{itemId:"purified_water_flask_t0",amount:1},{itemId:"empty_vial_t0",amount:1}],itemDrops:[{itemId:"weak_mana_potion_t0",amount:1}],levelRequired:10,type:"craft"},{id:"transmute-base-metals-lesser",name:"Transmute Base Metals (Lesser)",schoolId:"alchemy",xpPerAction:35,actionDuration:15,description:"Attempt to transmute common metals into slightly more valuable ones.",manaCostPerAction:20,reagentCosts:[{itemId:"copper_ore_t0",amount:5},{itemId:"coal_t0",amount:1}],itemDrops:[{itemId:"tin_ore_t0",amount:3,chance:.7},{itemId:"lead_ore_t0",amount:1,chance:.2}],levelRequired:20,type:"craft"},{id:"brew-potion-minor-swiftness",name:"Brew Potion of Minor Swiftness",schoolId:"alchemy",xpPerAction:50,actionDuration:20,description:"Create potions that temporarily boost a minor statistic.",manaCostPerAction:30,reagentCosts:[{itemId:"sunpetal_leaf_t1",amount:2},{itemId:"storm_essence_t0",amount:1},{itemId:"empty_vial_t0",amount:1}],itemDrops:[{itemId:"potion_minor_swiftness_t1",amount:1}],levelRequired:30,type:"craft"},{id:"create-alchemical-catalyst",name:"Create Alchemical Catalyst",schoolId:"alchemy",xpPerAction:100,actionDuration:45,description:"Synthesize a volatile catalyst used in more complex alchemical processes or other crafts.",manaCostPerAction:60,reagentCosts:[{itemId:"quicksilver_globule_t1",amount:1},{itemId:"hellfire_ember_t1",amount:1},{itemId:"ground_moonleaf_t1",amount:3}],itemDrops:[{itemId:"alchemical_catalyst_t1",amount:1}],levelRequired:45,type:"craft"},{id:"brew-elixir-enhanced-intellect",name:"Brew Elixir of Enhanced Intellect",schoolId:"alchemy",xpPerAction:220,actionDuration:90,description:"Concoct potent elixirs providing significant, long-lasting benefits.",manaCostPerAction:100,reagentCosts:[{itemId:"starleaf_bloom_t2",amount:1},{itemId:"crystalline_aether_fragment_t2",amount:1},{itemId:"alchemical_catalyst_t1",amount:1},{itemId:"crystal_vial_t1",amount:1}],itemDrops:[{itemId:"elixir_enhanced_intellect_t2",amount:1}],levelRequired:60,type:"craft"},{id:"philosophers-stone-transmutation-practice",name:"Philosopher's Stone Transmutation (Practice)",schoolId:"alchemy",xpPerAction:1e3,actionDuration:3600,description:"Meditate on the theoretical principles of the Philosopher's Stone and universal transmutation.",manaCostPerAction:250,reagentCosts:[{itemId:"gold_bar_t2",amount:10},{itemId:"essence_of_order_fragment_t2",amount:1},{itemId:"essence_of_chaos_fragment_t2",amount:1}],itemDrops:[{itemId:"philosophers_shard_t4",amount:1,chance:.01}],levelRequired:75,type:"train"},{id:"create-universal-solvent",name:"Create Universal Solvent",schoolId:"alchemy",xpPerAction:700,actionDuration:300,description:"Brew an alkahest capable of dissolving almost any substance, useful for breaking down unwanted magical items.",manaCostPerAction:150,reagentCosts:[{itemId:"acidic_demon_gland_t3",amount:1},{itemId:"void_crystal_t3",amount:1},{itemId:"alchemical_catalyst_t1",amount:3}],itemDrops:[{itemId:"universal_solvent_flask_t3",amount:1}],levelRequired:85,type:"craft"},{id:"brew-panacea-of-life",name:"Panacea of Life",schoolId:"alchemy",xpPerAction:1e4,actionDuration:7200,description:"Brew the ultimate healing elixir, capable of curing any ailment and granting immense vitality.",manaCostPerAction:1e3,reagentCosts:[{itemId:"essence_of_life_t3",amount:3},{itemId:"golden_lotus_petal_t4",amount:1},{itemId:"philosophers_shard_t4",amount:1},{itemId:"divine_water_flask_t4",amount:1}],itemDrops:[{itemId:"panacea_of_life_t4",amount:1}],levelRequired:99,type:"craft"}],D_=[{id:"shape-simple-matter",name:"Shape Simple Matter",schoolId:"alteration",xpPerAction:3,actionDuration:3,description:"Basic exercises in reshaping non-magical pliable materials.",levelRequired:1,type:"train",manaCostPerAction:3,reagentCosts:[],itemDrops:[{itemId:"unstable_mote_t0",amount:1,chance:.6}]},{id:"practice-self-polymorph-minor",name:"Practice Self-Polymorph (Minor)",schoolId:"alteration",xpPerAction:15,actionDuration:6,description:"Experiment with minor, temporary changes to your own form. 20% chance to gain Minor Haste buff (+5% global action speed for 60s).",levelRequired:10,type:"train",manaCostPerAction:10,reagentCosts:[]},{id:"transmute-common-materials",name:"Transmute Common Materials",schoolId:"alteration",xpPerAction:10,actionDuration:5,description:"Refine common materials into slightly more useful forms. Example: Refine Ash (10x ash_mote_t0 -> 8x pure_ash_t1), Strengthen Wood (5x basic_wood -> 3x hardwood).",levelRequired:20,type:"craft",manaCostPerAction:5,reagentCosts:[]},{id:"infuse-object-with-property",name:"Infuse Object with Property",schoolId:"alteration",xpPerAction:50,actionDuration:10,description:"Temporarily imbue an equippable tool or item with a beneficial property. Example: Infuse with Lightness (-5% action time for 10 minutes).",levelRequired:35,type:"cast",manaCostPerAction:25,reagentCosts:[{itemId:"unstable_mote_t0",amount:5},{itemId:"storm_essence_t0",amount:1}]},{id:"debilitate-target-dummy",name:"Debilitate Target Dummy",schoolId:"alteration",xpPerAction:70,actionDuration:7,description:"Practice casting various weakening and hindering spells on an enchanted dummy. 20% chance to create a Scroll of Minor Weakness or Slow.",levelRequired:50,type:"train",manaCostPerAction:20,reagentCosts:[{itemId:"shadow_wisp_t0",amount:1}],itemDrops:[{itemId:"scroll_minor_weakness",amount:1,chance:.2},{itemId:"scroll_minor_slow",amount:1,chance:.2}]},{id:"mass-polymorph-area",name:"Mass Polymorph (Area)",schoolId:"alteration",xpPerAction:150,actionDuration:12,description:"Practice altering multiple objects or simulated creatures in an area. Chance to gain various Tier 0/1 resources (e.g., earthen_core_t0).",levelRequired:65,type:"train",manaCostPerAction:40,reagentCosts:[{itemId:"unstable_mote_t1",amount:3}],itemDrops:[{itemId:"earthen_core_t0",amount:1,chance:.2}]},{id:"awaken-latent-properties",name:"Awaken Latent Properties",schoolId:"alteration",xpPerAction:250,actionDuration:30,description:"Attempt to awaken hidden potential within an existing piece of gear, possibly improving a stat or adding a new minor one. Consumes a rare catalyst.",levelRequired:75,type:"craft",manaCostPerAction:100,reagentCosts:[{itemId:"catalyst_of_change",amount:1},{itemId:"essence_of_chaos_fragment",amount:1}]},{id:"temporal-stasis-field",name:"Temporal Stasis Field",schoolId:"alteration",xpPerAction:500,actionDuration:5,description:"Create a field that dramatically slows down a single non-combat passive training action from another school, but significantly boosts its XP and resource yield for one cycle. (Cooldown: 1hr)",levelRequired:90,type:"cast",manaCostPerAction:250,reagentCosts:[{itemId:"chronal_dust",amount:1},{itemId:"star_diamond",amount:1}]},{id:"essence-transference",name:"Essence Transference",schoolId:"alteration",xpPerAction:1e3,actionDuration:15,description:"Sacrifice a large quantity of one common reagent to transform it into a smaller quantity of a different, specific common reagent. Example: 1000x ash_mote_t0 -> 100x faint_mana_crystal. (Cooldown: 2hr)",levelRequired:99,type:"craft",manaCostPerAction:500,reagentCosts:[{itemId:"ash_mote_t0",amount:1e3}],itemDrops:[{itemId:"faint_mana_crystal",amount:100}]}],R_=[{id:"call-minor-sprite",name:"Call Minor Sprite",schoolId:"conjuration",xpPerAction:4,actionDuration:3.5,description:"Practice summoning and briefly binding a harmless, tiny elemental sprite.",manaCostPerAction:4,itemDrops:[{itemId:"planar_dust_t0",amount:1,chance:.5}],levelRequired:1,type:"train"},{id:"bind-familiar",name:"Bind Familiar",schoolId:"conjuration",xpPerAction:100,actionDuration:120,description:"Perform a ritual to bind a minor planar entity as a familiar, granting a small passive bonus. Only one familiar can be active.",manaCostPerAction:75,reagentCosts:[{itemId:"binding_core_lesser",amount:1},{itemId:"silver_ore",amount:5}],levelRequired:10,type:"craft"},{id:"summon-planar-entity",name:"Summon Planar Entity (Combat Practice)",schoolId:"conjuration",xpPerAction:30,actionDuration:8,description:"Practice summoning and controlling temporary combat allies.",manaCostPerAction:20,reagentCosts:[{itemId:"planar_dust_t0",amount:3}],levelRequired:25,type:"train"},{id:"create-ethereal-tools",name:"Create Ethereal Tools",schoolId:"conjuration",xpPerAction:75,actionDuration:10,description:"Conjure temporary tools that slightly boost speed for a specific non-combat skill for a short duration.",manaCostPerAction:50,reagentCosts:[{itemId:"planar_dust_t1",amount:2},{itemId:"charged_mana_crystal",amount:1}],levelRequired:40,type:"cast"},{id:"gate-practice",name:"Gate Practice",schoolId:"conjuration",xpPerAction:120,actionDuration:20,description:"Practice opening and stabilizing small portals to other planes. Success grants bonus XP and a temporary buff.",manaCostPerAction:40,levelRequired:60,type:"train"},{id:"forge-focusing-object",name:"Forge Focusing Object",schoolId:"conjuration",xpPerAction:400,actionDuration:300,description:"Craft a permanent Focus Object (e.g., Summoner's Orb, Demonologist's Athame) that enhances specific types of summons when equipped in an off-hand slot.",manaCostPerAction:200,reagentCosts:[{itemId:"aetherium_shard",amount:3},{itemId:"greater_soulstone",amount:1},{itemId:"enchanting_matrix_t2",amount:1}],levelRequired:75,type:"craft"},{id:"conjure-alchemical-homunculus",name:"Conjure Alchemical Homunculus",schoolId:"conjuration",xpPerAction:600,actionDuration:600,description:"Conjure and bind a small homunculus that passively generates basic Alchemy ingredients over time.",manaCostPerAction:300,reagentCosts:[{itemId:"binding_core_greater",amount:1},{itemId:"quicksilver_globule_t1",amount:5},{itemId:"essence_of_life_fragment",amount:1}],levelRequired:85,type:"craft"},{id:"planar-convergence",name:"Planar Convergence",schoolId:"conjuration",xpPerAction:5e3,actionDuration:20,description:"Briefly thin the veil between planes, drastically empowering all your summons and reducing their cost.",manaCostPerAction:0,reagentCosts:[{itemId:"essence_of_chaos_fragment",amount:1},{itemId:"crystalline_aether",amount:2}],levelRequired:99,type:"cast"}],Kt={FIRE:"fire",ICE:"ice",PHYSICAL:"physical",ARCANE:"arcane"},P_=[{id:"conjure-purified-water",name:"Conjure Purified Water",schoolId:"elemental",xpPerAction:3,actionDuration:2.2,manaCostPerAction:3,description:"Conjure a flask of magically purified water.",levelRequired:1,type:"train",itemDrops:[{itemId:"purified_water_flask_t0",amount:1,chance:.8}]},{id:"minor-fire-bolt",name:"Cast Minor Fire Bolt",schoolId:"elemental",xpPerAction:3,actionDuration:2,manaCostPerAction:3,description:"Hurl small bolts of fire.",levelRequired:1,type:"train",itemDrops:[{itemId:"fire_mote_t0",amount:1,chance:.8}],isCombatSpell:!0,combatBaseDamage:8,combatDamageType:Kt.FIRE,combatManaCost:5,combatCooldownSeconds:3,combatTargetType:"enemy",combatAreaOfEffect:!1},{id:"channel-flame",name:"Channel Flame",schoolId:"elemental",xpPerAction:10,actionDuration:3,manaCostPerAction:4,description:"Maintain a steady stream of fire, generating more heat and resources.",levelRequired:15,type:"train",itemDrops:[{itemId:"fire_mote_t0",amount:2},{itemId:"ember_clump_t1",amount:1,chance:.2}]},{id:"summon-lesser-fire-elemental",name:"Summon Lesser Fire Elemental",schoolId:"elemental",xpPerAction:50,actionDuration:10,manaCostPerAction:30,description:"Practice summoning a minor fire elemental to fight for you.",levelRequired:40,type:"train",reagentCosts:[{itemId:"fire_mote_t0",amount:10}]},{id:"minor-ice-shard",name:"Cast Minor Ice Shard",schoolId:"elemental",xpPerAction:4,actionDuration:2.2,manaCostPerAction:3,description:"Launch small shards of magical ice.",levelRequired:5,type:"train",itemDrops:[{itemId:"ice_shard_t0",amount:1,chance:.8}]},{id:"glacial-aura",name:"Glacial Aura",schoolId:"elemental",xpPerAction:30,actionDuration:1.5,manaCostPerAction:25,description:"Surround yourself with an aura of cold that adds bonus ice damage to your spells.",levelRequired:20,type:"cast",reagentCosts:[{itemId:"ice_shard_t0",amount:5}]},{id:"summon-lesser-ice-elemental",name:"Summon Lesser Ice Elemental",schoolId:"elemental",xpPerAction:55,actionDuration:10,manaCostPerAction:30,description:"Practice summoning a minor ice elemental to fight for you.",levelRequired:45,type:"train",reagentCosts:[{itemId:"ice_shard_t0",amount:10}]},{id:"cast-spark",name:"Cast Spark",schoolId:"elemental",xpPerAction:5,actionDuration:1.8,manaCostPerAction:4,description:"Generate small sparks of electrical energy.",levelRequired:10,type:"train",itemDrops:[{itemId:"storm_essence_t0",amount:1,chance:.7}]},{id:"call-lightning",name:"Call Lightning",schoolId:"elemental",xpPerAction:40,actionDuration:0,manaCostPerAction:20,description:"Call down a bolt of lightning on a designated training ground. Requires precise timing for bonus rewards.",levelRequired:25,type:"cast",itemDrops:[{itemId:"charged_lodestone_fragment_t1",amount:1,chance:.3}]},{id:"summon-lesser-storm-elemental",name:"Summon Lesser Storm Elemental",schoolId:"elemental",xpPerAction:60,actionDuration:10,manaCostPerAction:30,description:"Practice summoning a minor storm elemental to fight for you.",levelRequired:50,type:"train",reagentCosts:[{itemId:"storm_essence_t0",amount:10}]},{id:"elemental-blast",name:"Elemental Blast",schoolId:"elemental",xpPerAction:200,actionDuration:10,manaCostPerAction:75,description:"Combine multiple elemental energies into a powerful, unstable blast.",levelRequired:60,type:"train",reagentCosts:[{itemId:"fire_mote_t0",amount:3},{itemId:"ice_shard_t0",amount:3},{itemId:"storm_essence_t0",amount:3}],itemDrops:[{itemId:"ember_clump_t1",amount:1,chance:.2},{itemId:"frost_core_t1",amount:1,chance:.2},{itemId:"charged_lodestone_fragment_t1",amount:1,chance:.2},{itemId:"primal_essence_fragment_t2",amount:1,chance:.05}]},{id:"attune-elemental-core",name:"Attune Elemental Core",schoolId:"elemental",xpPerAction:1e3,actionDuration:1800,manaCostPerAction:1,description:"Meditate upon an Inert Elemental Core, slowly charging it with ambient elemental energies.",levelRequired:80,type:"train",reagentCosts:[{itemId:"inert_elemental_core_t3",amount:1}],itemDrops:[{itemId:"charged_elemental_core_t3",amount:1}]},{id:"elemental-fusion",name:"Elemental Fusion",schoolId:"elemental",xpPerAction:2500,actionDuration:600,manaCostPerAction:500,description:"Fuse highly refined elemental essences into a Primal Elementium, a core component for legendary items.",levelRequired:90,type:"craft",reagentCosts:[{itemId:"heart_of_the_phoenix_t3",amount:1},{itemId:"glacial_heart_t3",amount:1},{itemId:"eye_of_the_storm_t3",amount:1},{itemId:"crystalline_aether",amount:1}],itemDrops:[{itemId:"primal_elementium_t4",amount:1}]},{id:"elemental-avatar",name:"Elemental Avatar",schoolId:"elemental",xpPerAction:6e3,actionDuration:30,manaCostPerAction:0,description:"Transform into an avatar of pure, combined elemental energy for a short period.",levelRequired:99,type:"cast",reagentCosts:[{itemId:"charged_elemental_core_t3",amount:1}]}],U_=[{id:"practice-minor-cantrips",name:"Practice Minor Cantrips",schoolId:"illusion",xpPerAction:3,actionDuration:2.8,description:"Create fleeting lights, sounds, and simple visual tricks.",levelRequired:1,manaCostPerAction:2,reagentCosts:[],itemDrops:[{itemId:"illusory_dust_t0",amount:1,chance:.6}],type:"train"},{id:"study-principles-misdirection",name:"Study Principles of Misdirection",schoolId:"illusion",xpPerAction:12,actionDuration:5,description:"Learn the theories behind diverting attention and creating believable falsehoods.",levelRequired:10,manaCostPerAction:5,reagentCosts:[{itemId:"ink_arcane",amount:1},{itemId:"enchanting_vellum_t1",amount:1}],itemDrops:[{itemId:"faded_illusionary_scroll_fragment",amount:1,chance:.1}],type:"train"},{id:"craft-phantasmal-decoy",name:"Craft Phantasmal Decoy",schoolId:"illusion",xpPerAction:25,actionDuration:7,description:"Weave illusions to create a temporary, harmless decoy.",levelRequired:20,manaCostPerAction:15,reagentCosts:[{itemId:"illusory_dust_t0",amount:5},{itemId:"shadow_wisp_t0",amount:1}],itemDrops:[{itemId:"phantasmal_decoy_charge",amount:1,chance:.25}],type:"craft"},{id:"practice-invisibility-self",name:"Practice Invisibility (Self)",schoolId:"illusion",xpPerAction:60,actionDuration:10,description:"Hone the ability to bend light around yourself, becoming unseen.",levelRequired:35,manaCostPerAction:30,reagentCosts:[{itemId:"shadow_quartz_t1",amount:1}],itemDrops:[],type:"train"},{id:"weave-glamour",name:"Weave Glamour",schoolId:"illusion",xpPerAction:90,actionDuration:4,description:"Create an illusion that makes the target appear more imposing or charming.",levelRequired:50,manaCostPerAction:40,reagentCosts:[{itemId:"illusory_dust_t1",amount:2},{itemId:"silver_ore",amount:3}],itemDrops:[{itemId:"glamour_scroll",amount:1,chance:.15}],type:"cast"},{id:"project-nightmare-scenario",name:"Project Nightmare Scenario",schoolId:"illusion",xpPerAction:180,actionDuration:12,description:"Practice projecting terrifying illusions into the minds of enchanted training constructs.",levelRequired:65,manaCostPerAction:50,reagentCosts:[{itemId:"spectral_essence_t1",amount:1},{itemId:"nightmare_bloom_herb_t2",amount:1}],itemDrops:[{itemId:"scroll_of_fear",amount:1,chance:.1},{itemId:"scroll_of_confusion",amount:1,chance:.1}],type:"train"},{id:"master-of-disguise",name:"Master of Disguise",schoolId:"illusion",xpPerAction:700,actionDuration:900,description:"Perform a lengthy ritual to create a perfect, long-lasting magical disguise.",levelRequired:80,manaCostPerAction:250,reagentCosts:[{itemId:"shifting_sands_of_mirage_t3",amount:1},{itemId:"essence_of_chaos_fragment",amount:2},{itemId:"moonleaf_infused_ink_t2",amount:1}],itemDrops:[{itemId:"perfect_disguise_token",amount:1,chance:1}],type:"craft"},{id:"create-simulacrum-fragment",name:"Create Simulacrum Fragment",schoolId:"illusion",xpPerAction:400,actionDuration:30,description:"Attempt to weave a semi-stable fragment of a duplicate self from pure illusion and shadow.",levelRequired:90,manaCostPerAction:150,reagentCosts:[{itemId:"crystalline_aether_t3",amount:1},{itemId:"greater_soulstone",amount:1},{itemId:"illusory_dust_t2",amount:10}],itemDrops:[{itemId:"echoing_simulacrum_shard",amount:1,chance:.05}],type:"craft"},{id:"veil-of-a-thousand-faces",name:"Veil of a Thousand Faces",schoolId:"illusion",xpPerAction:6e3,actionDuration:0,description:"Briefly project a worldwide illusion of overwhelming chaos and misdirection, affecting many aspects of the game.",levelRequired:99,manaCostPerAction:0,reagentCosts:[{itemId:"essence_of_chaos",amount:1},{itemId:"dreamweave_lotus_t3",amount:1}],itemDrops:[{itemId:"veil_of_a_thousand_faces_token",amount:1,chance:1}],type:"cast"}],O_=[{id:"practice-minor-healing",name:"Practice Minor Healing",schoolId:"restoration",xpPerAction:3,actionDuration:3,description:"Practice basic healing spells on minor wounds or dummies.",manaCostPerAction:2,levelRequired:1,type:"train"},{id:"purify-water",name:"Purify Water",schoolId:"restoration",xpPerAction:8,actionDuration:6,description:"Use restorative magic to purify contaminated water.",manaCostPerAction:4,reagentCosts:[],itemDrops:[{itemId:"purified_water_flask_t0",amount:1}],levelRequired:5,type:"craft"},{id:"channel-life-essence",name:"Channel Life Essence",schoolId:"restoration",xpPerAction:15,actionDuration:7,description:"Channel ambient life energy to create a fragment of life essence.",manaCostPerAction:8,itemDrops:[{itemId:"life_essence_fragment_t0",amount:1,chance:.5}],levelRequired:10,type:"train"},{id:"practice-major-healing",name:"Practice Major Healing",schoolId:"restoration",xpPerAction:40,actionDuration:8,description:"Practice advanced healing spells on simulated injuries.",manaCostPerAction:18,levelRequired:20,type:"train"},{id:"create-essence-of-life",name:"Create Essence of Life",schoolId:"restoration",xpPerAction:120,actionDuration:30,description:"Combine fragments of life essence into a potent essence.",manaCostPerAction:40,reagentCosts:[{itemId:"life_essence_fragment_t0",amount:10}],itemDrops:[{itemId:"essence_of_life_t3",amount:1}],levelRequired:35,type:"craft"},{id:"ritual-of-restoration",name:"Ritual of Restoration",schoolId:"restoration",xpPerAction:400,actionDuration:120,description:"Perform a powerful ritual to restore vitality and cure ailments.",manaCostPerAction:120,reagentCosts:[{itemId:"purified_water_flask_t0",amount:5},{itemId:"essence_of_life_t3",amount:1}],levelRequired:50,type:"craft"},{id:"sunpetal-blessing",name:"Sunpetal Blessing",schoolId:"restoration",xpPerAction:900,actionDuration:300,description:"Channel the power of rare sunpetal leaves to grant a potent healing blessing.",manaCostPerAction:200,reagentCosts:[{itemId:"sunpetal_leaf_t1",amount:10},{itemId:"essence_of_life_t3",amount:2}],levelRequired:70,type:"craft"},{id:"miracle-of-life",name:"Miracle of Life",schoolId:"restoration",xpPerAction:5e3,actionDuration:1800,description:"Perform the ultimate restoration ritual, capable of miraculous healing and revival.",manaCostPerAction:1e3,reagentCosts:[{itemId:"essence_of_life_t3",amount:3},{itemId:"golden_lotus_petal_t4",amount:1},{itemId:"divine_water_flask_t4",amount:1}],levelRequired:99,type:"craft"}],k_=[{id:"examine-skeletal-remains",name:"Examine Skeletal Remains",schoolId:"necromancy",xpPerAction:3,actionDuration:3.2,description:"Study bone structures to understand the basics of undeath.",manaCostPerAction:3,itemDrops:[{itemId:"bone_dust_t0",amount:1,chance:.7}],levelRequired:1,type:"train"},{id:"animate-small-object",name:"Animate Small Object",schoolId:"necromancy",xpPerAction:8,actionDuration:4,description:"Practice imbuing tiny objects with fleeting necromantic energy.",manaCostPerAction:5,reagentCosts:[{itemId:"bone_dust_t0",amount:2}],levelRequired:5,type:"train"},{id:"lesser-soul-tap",name:"Lesser Soul Tap",schoolId:"necromancy",xpPerAction:15,actionDuration:5,description:"Practice siphoning minute amounts of life force from enchanted training targets.",manaCostPerAction:6,levelRequired:10,type:"train"},{id:"raise-skeletal-rat",name:"Raise Skeletal Rat",schoolId:"necromancy",xpPerAction:30,actionDuration:8,description:"Animate the bones of a small creature to serve you.",manaCostPerAction:20,reagentCosts:[{itemId:"chipped_bone_fragment_t0",amount:3},{itemId:"lesser_soulstone_fragment_t0",amount:1}],levelRequired:15,type:"train"},{id:"curse-of-frailty-practice",name:"Curse of Frailty (Practice)",schoolId:"necromancy",xpPerAction:45,actionDuration:6,description:"Inflict a debilitating curse on training dummies, making them more vulnerable.",manaCostPerAction:18,reagentCosts:[{itemId:"gravebloom_petal_t1",amount:1}],itemDrops:[{itemId:"scroll_minor_frailty",amount:1,chance:.15}],levelRequired:25,type:"train"},{id:"preserve-flesh",name:"Preserve Flesh",schoolId:"necromancy",xpPerAction:80,actionDuration:20,description:"Use necromantic energies to preserve organic components, preventing decay.",manaCostPerAction:30,reagentCosts:[{itemId:"fresh_monster_hide_t1",amount:1},{itemId:"embalming_fluid_t1",amount:1}],itemDrops:[{itemId:"preserved_monster_hide_t1",amount:1}],levelRequired:40,type:"craft"},{id:"raise-skeletal-warrior",name:"Raise Skeletal Warrior",schoolId:"necromancy",xpPerAction:180,actionDuration:15,description:"Animate a humanoid skeleton equipped with basic arms and armor.",manaCostPerAction:60,reagentCosts:[{itemId:"intact_humanoid_skeleton_t2",amount:1},{itemId:"intact_soulstone_t2",amount:1},{itemId:"shadow_iron_ingot_t2",amount:2}],levelRequired:55,type:"train"},{id:"life-drain-aura",name:"Life Drain Aura",schoolId:"necromancy",xpPerAction:5,actionDuration:2,description:"Emit an aura that slowly drains life from nearby simulated foes, converting it to mana and healing for yourself.",levelRequired:70,type:"train"},{id:"create-phylactery-fragment",name:"Create Phylactery Fragment",schoolId:"necromancy",xpPerAction:2500,actionDuration:3600,description:"Attempt to imbue a specially prepared gem with a fragment of your own life essence, a crucial step in lichdom.",manaCostPerAction:1e3,reagentCosts:[{itemId:"perfect_shadow_diamond_t3",amount:1},{itemId:"essence_of_undeath_t3",amount:1},{itemId:"gold",amount:5e4}],itemDrops:[{itemId:"flawed_phylactery_shard",amount:1,chance:.05}],levelRequired:85,type:"craft"},{id:"army-of-the-damned",name:"Army of the Damned",schoolId:"necromancy",xpPerAction:6e3,actionDuration:0,description:"Temporarily open a wide rift to the Ethereal Plane of Death, calling forth a legion of undead.",reagentCosts:[{itemId:"essence_of_death_t4",amount:1},{itemId:"greater_soulstone",amount:3}],levelRequired:99,type:"cast"}],L_=[{id:"practice-augury",name:"Practice Augury",schoolId:"divination",xpPerAction:3,actionDuration:4,description:"Interpret simple omens from natural phenomena like bird flight or smoke patterns.",manaCostPerAction:3,reagentCosts:[{itemId:"common_incense_stick_t0",amount:1}],itemDrops:[{itemId:"faint_omen_reading_t0",amount:1,chance:.5}],levelRequired:1,type:"train"},{id:"read-the-stars",name:"Read the Stars",schoolId:"divination",xpPerAction:15,actionDuration:7,description:"Study celestial charts and alignments to glean insights.",manaCostPerAction:8,reagentCosts:[{itemId:"star_chart_fragment_t0",amount:1}],levelRequired:10,type:"train"},{id:"scry-for-reagents",name:"Scry for Reagents",schoolId:"divination",xpPerAction:40,actionDuration:10,description:"Focus your mind to magically locate a nearby deposit of a specific common reagent.",manaCostPerAction:25,reagentCosts:[{itemId:"clear_quartz_crystal_t1",amount:1}],levelRequired:20,type:"cast"},{id:"detect-magic-area",name:"Detect Magic (Area Scan)",schoolId:"divination",xpPerAction:60,actionDuration:6,description:"Practice sensing and identifying magical auras in your surroundings.",manaCostPerAction:15,levelRequired:35,type:"train",itemDrops:[{itemId:"unidentified_minor_artifact_fragment_t1",amount:1,chance:.15},{itemId:"faded_enchantment_trace_t1",amount:1,chance:.25}]},{id:"foretell-fortuitous-moment",name:"Foretell Fortuitous Moment",schoolId:"divination",xpPerAction:200,actionDuration:600,description:"Perform a ritual to foresee and align with a brief period of good fortune.",manaCostPerAction:100,reagentCosts:[{itemId:"silver_mirror_t1",amount:1},{itemId:"moonpetal_flower_t2",amount:3},{itemId:"essence_of_order_fragment_t2",amount:1}],levelRequired:50,type:"craft"},{id:"clairvoyant-visions",name:"Clairvoyant Visions",schoolId:"divination",xpPerAction:180,actionDuration:20,description:"Meditate deeply, opening your mind to visions of distant places or hidden knowledge.",manaCostPerAction:40,reagentCosts:[{itemId:"crystal_ball_fragment_t2",amount:1}],itemDrops:[{itemId:"vision_shard",amount:1,chance:.2}],levelRequired:65,type:"train"},{id:"locate-artifact-resonance",name:"Locate Artifact Resonance",schoolId:"divination",xpPerAction:750,actionDuration:30,description:"Cast a powerful divination to sense the faint resonance of a nearby undiscovered Artifact or Legendary item.",manaCostPerAction:300,reagentCosts:[{itemId:"astral_diamond_t3",amount:1},{itemId:"map_of_the_unseen_t3",amount:1}],levelRequired:80,type:"cast"},{id:"read-akashic-threads",name:"Read the Akashic Threads",schoolId:"divination",xpPerAction:5e3,actionDuration:7200,description:"Glimpse into the fundamental patterns of existence to understand deep game mechanics or future possibilities.",reagentCosts:[{itemId:"essence_of_fate_t4",amount:1},{itemId:"orb_of_a_thousand_eyes_t4",amount:1}],levelRequired:90,type:"cast"},{id:"omniscience",name:"Omniscience",schoolId:"divination",xpPerAction:8e3,actionDuration:0,description:"For a fleeting moment, your mind touches upon all knowledge, revealing many secrets at once.",reagentCosts:[{itemId:"eye_of_the_seer_t4",amount:1}],levelRequired:99,type:"cast"}],V_=[{id:"read-forbidden-texts",name:"Read Forbidden Texts",schoolId:"demonology",xpPerAction:3,actionDuration:3.5,manaCostPerAction:4,description:"Study basic demonic theory and minor summoning circles.",levelRequired:1,type:"train",itemDrops:[{itemId:"imp_hide_scrap_t0",amount:1,chance:.4}]},{id:"inscribe-minor-warding-circle",name:"Inscribe Minor Warding Circle",schoolId:"demonology",xpPerAction:10,actionDuration:6,manaCostPerAction:6,description:"Practice drawing simple circles to protect against minor infernal influence.",levelRequired:5,type:"train",reagentCosts:[{itemId:"chalk_t0",amount:1},{itemId:"salt_pile_t0",amount:1}]},{id:"summon-imp",name:"Summon Imp",schoolId:"demonology",xpPerAction:20,actionDuration:7,manaCostPerAction:25,description:"Summon a mischievous but weak Imp.",levelRequired:10,type:"train",reagentCosts:[{itemId:"faint_demonic_glyph_t0",amount:1},{itemId:"blood_drop_t0",amount:1}]},{id:"pact-of-minor-power",name:"Pact of Minor Power",schoolId:"demonology",xpPerAction:75,actionDuration:60,manaCostPerAction:50,description:"Make a pact with a low-level demonic entity for a temporary boost.",levelRequired:20,type:"craft",reagentCosts:[{itemId:"imp_hide_scrap_t0",amount:5},{itemId:"soulgem_fragment_t0",amount:1}]},{id:"channel-hellfire",name:"Channel Hellfire",schoolId:"demonology",xpPerAction:25,actionDuration:4,manaCostPerAction:10,description:"Draw upon volatile hellfire energies. Potent, but dangerous.",levelRequired:35,type:"train",itemDrops:[{itemId:"hellfire_ember_t1",amount:1,chance:.3}]},{id:"summon-succubus-incubus",name:"Summon Succubus/Incubus",schoolId:"demonology",xpPerAction:150,actionDuration:12,manaCostPerAction:80,description:"Summon a manipulative demon skilled in charm and life drain.",levelRequired:50,type:"train",reagentCosts:[{itemId:"demonic_contract_vellum_t1",amount:1},{itemId:"perfume_of_allure_t2",amount:1},{itemId:"intact_soulstone_t2",amount:1}]},{id:"demonic-infusion-gear",name:"Demonic Infusion (Gear)",schoolId:"demonology",xpPerAction:300,actionDuration:180,manaCostPerAction:200,description:"Imbue a piece of gear with unstable demonic power, granting potent but risky bonuses.",levelRequired:65,type:"craft",reagentCosts:[{itemId:"target_gear_epic_or_lower",amount:1},{itemId:"demon_ichor_t2",amount:1},{itemId:"essence_of_chaos_fragment_t2",amount:1}]},{id:"summon-pit-fiend",name:"Summon Pit Fiend",schoolId:"demonology",xpPerAction:700,actionDuration:30,manaCostPerAction:250,description:"Summon a mighty Pit Fiend, a commander of demonic legions. Requires a reinforced summoning circle.",levelRequired:80,type:"train",reagentCosts:[{itemId:"greater_demonic_glyph_t2",amount:3},{itemId:"sacrificial_dagger_bloodied_t2",amount:1},{itemId:"greater_soulstone_t3",amount:1}]},{id:"bargain-with-archdemon",name:"Bargain with Archdemon",schoolId:"demonology",xpPerAction:3e3,actionDuration:3600,manaCostPerAction:0,description:"Attempt to negotiate a pact with an Archdemon for immense power or unique boons, at a steep price.",levelRequired:90,type:"craft",reagentCosts:[]},{id:"infernal-gate",name:"Infernal Gate",schoolId:"demonology",xpPerAction:1e4,actionDuration:10,manaCostPerAction:0,description:"Tear open a temporary, unstable gate to a demonic realm, unleashing chaos and opportunity.",levelRequired:99,type:"cast",reagentCosts:[{itemId:"essence_of_chaos_t4",amount:1},{itemId:"archdemon_heart_fragment_t4",amount:1}]}],q_=[{id:"practice-basic-glyphs",name:"Practice Basic Glyphs",schoolId:"runecrafting",xpPerAction:3,actionDuration:3.8,description:"Carve simple, non-magical symbols into stone tablets.",levelRequired:1,manaCostPerAction:2,reagentCosts:[{itemId:"stone_chip_t0",amount:1}],itemDrops:[{itemId:"practice_rune_tablet_t0",amount:1,chance:.6}],type:"train"},{id:"prepare-rune-blanks-clay",name:"Prepare Rune Blanks (Clay)",schoolId:"runecrafting",xpPerAction:10,actionDuration:8,description:"Fashion basic clay tablets suitable for scribing minor runes.",levelRequired:5,manaCostPerAction:5,reagentCosts:[{itemId:"clay_lump_t0",amount:3},{itemId:"purified_water_flask_t0",amount:1}],itemDrops:[{itemId:"clay_rune_blank_t0",amount:2}],type:"craft"},{id:"scribe-rune-minor-warding",name:"Scribe Rune of Minor Warding",schoolId:"runecrafting",xpPerAction:20,actionDuration:10,description:"Imbue a clay blank with a simple rune of protection.",levelRequired:10,manaCostPerAction:15,reagentCosts:[{itemId:"clay_rune_blank_t0",amount:1},{itemId:"warding_dust_t0",amount:2},{itemId:"common_ink_t0",amount:1}],itemDrops:[{itemId:"rune_minor_ward_t0",amount:1}],type:"craft"},{id:"empower-carving-tools",name:"Empower Carving Tools",schoolId:"runecrafting",xpPerAction:100,actionDuration:300,description:"Magically sharpen and attune your runecarving tools.",levelRequired:20,manaCostPerAction:50,reagentCosts:[{itemId:"iron_chisel_t0",amount:1},{itemId:"charged_mana_crystal_t1",amount:1}],type:"train"},{id:"scribe-rune-elemental-binding-fire",name:"Scribe Rune of Fire Binding",schoolId:"runecrafting",xpPerAction:45,actionDuration:15,description:"Create a rune designed to bind and channel fire energy.",levelRequired:30,manaCostPerAction:25,reagentCosts:[{itemId:"stone_rune_blank_t1",amount:1},{itemId:"fire_mote_t0",amount:10},{itemId:"enchanted_quill_t1",amount:1}],itemDrops:[{itemId:"rune_fire_binding_t1",amount:1}],type:"craft"},{id:"create-runic-trap-minor",name:"Create Runic Trap (Minor)",schoolId:"runecrafting",xpPerAction:80,actionDuration:25,description:"Fashion a magical trap that detonates with a minor effect when triggered.",levelRequired:45,manaCostPerAction:40,reagentCosts:[{itemId:"metal_casing_t1",amount:1},{itemId:"rune_spark_t1",amount:1},{itemId:"unstable_mote_t1",amount:3}],itemDrops:[{itemId:"runic_trap_minor_spark_t1",amount:1}],type:"craft"},{id:"etch-runes-onto-gear",name:"Etch Runes onto Gear",schoolId:"runecrafting",xpPerAction:250,actionDuration:120,description:"Permanently etch powerful runes onto weapons or armor, granting specific bonuses.",levelRequired:60,manaCostPerAction:100,reagentCosts:[{itemId:"target_gear_rare_or_higher",amount:1},{itemId:"masterwork_rune_blank_t2",amount:1},{itemId:"essence_of_power_t2",amount:1}],type:"craft"},{id:"craft-binding-core-greater",name:"Craft Binding Core (Greater)",schoolId:"runecrafting",xpPerAction:180,actionDuration:90,description:"Create magical cores used to bind summoned entities.",levelRequired:70,manaCostPerAction:75,reagentCosts:[{itemId:"aetherium_shard_t2",amount:1},{itemId:"silver_ingot_t1",amount:3},{itemId:"soul_trace_t1",amount:5}],itemDrops:[{itemId:"binding_core_greater_t2",amount:1}],type:"craft"},{id:"scribe-master-rune-death",name:"Scribe Master Rune of Death",schoolId:"runecrafting",xpPerAction:1500,actionDuration:1800,description:"Scribe an exceptionally complex rune embodying the concept of Death.",levelRequired:85,manaCostPerAction:500,reagentCosts:[{itemId:"obsidian_rune_tablet_t3",amount:1},{itemId:"essence_of_death_t3",amount:1},{itemId:"dragon_blood_ink_t3",amount:1}],itemDrops:[{itemId:"master_rune_of_death_t3",amount:1}],type:"craft"}],z_=[{id:"disenchant-common-item",name:"Disenchant Common Item (Practice)",schoolId:"enchanting",xpPerAction:3,actionDuration:4,manaCostPerAction:2,description:"Practice unraveling minor magical energies from common trinkets.",reagentCosts:[{itemId:"common_trinket_junk",amount:1}],itemDrops:[{itemId:"lesser_magical_dust_t0",amount:1},{itemId:"lesser_magical_dust_t0",amount:1,chance:.5},{itemId:"common_magical_dust_t1",amount:1,chance:.05}],levelRequired:1,type:"train"},{id:"study-enchanting-formulae",name:"Study Enchanting Formulae",schoolId:"enchanting",xpPerAction:8,actionDuration:7,manaCostPerAction:3,description:"Read basic enchanting scrolls and learn fundamental imbuing patterns.",reagentCosts:[{itemId:"faded_enchanting_scroll_t0",amount:1}],levelRequired:5,type:"train"},{id:"imbue-minor-might-weapon",name:"Imbue Minor Might (Weapon)",schoolId:"enchanting",xpPerAction:25,actionDuration:15,manaCostPerAction:20,description:"Enchant a weapon with a slight boost to its power.",reagentCosts:[{itemId:"target_weapon_common",amount:1},{itemId:"lesser_magical_dust_t0",amount:5},{itemId:"faint_power_rune_t0",amount:1}],levelRequired:10,type:"craft"},{id:"create-enchanting-vellum",name:"Create Enchanting Vellum",schoolId:"enchanting",xpPerAction:40,actionDuration:25,manaCostPerAction:15,description:"Prepare specially treated vellum suitable for holding complex enchantments.",reagentCosts:[{itemId:"high_quality_vellum_t1",amount:1},{itemId:"common_magical_dust_t1",amount:3}],itemDrops:[{itemId:"enchanting_vellum_t1",amount:1},{itemId:"enchanting_vellum_t1",amount:1,chance:.1}],levelRequired:20,type:"craft"},{id:"imbue-elemental-resistance-armor",name:"Imbue Elemental Resistance (Armor)",schoolId:"enchanting",xpPerAction:70,actionDuration:30,manaCostPerAction:40,description:"Enchant a piece of armor with resistance to a specific element.",reagentCosts:[{itemId:"target_armor_uncommon",amount:1},{itemId:"common_magical_dust_t1",amount:5},{itemId:"rune_fire_binding_t1",amount:1}],levelRequired:35,type:"craft"},{id:"disenchant-rare-item",name:"Disenchant Rare Item",schoolId:"enchanting",xpPerAction:100,actionDuration:8,manaCostPerAction:10,description:"Break down magically potent rare items into valuable essences.",reagentCosts:[{itemId:"any_rare_gear",amount:1}],itemDrops:[{itemId:"greater_magical_dust_t2",amount:1},{itemId:"greater_magical_dust_t2",amount:1,chance:.5},{itemId:"rare_essence_fragment_t2",amount:1,chance:.3}],levelRequired:50,type:"craft"},{id:"craft-wand-minor-abjuration",name:"Craft Wand of Minor Abjuration",schoolId:"enchanting",xpPerAction:280,actionDuration:180,manaCostPerAction:150,description:"Craft a wand that slightly boosts the effectiveness of Abjuration spells.",reagentCosts:[{itemId:"enchanted_wood_t2",amount:1},{itemId:"greater_magical_dust_t2",amount:3},{itemId:"abjuration_sigil_t2",amount:1}],itemDrops:[{itemId:"wand_minor_abjuration_t2",amount:1}],levelRequired:65,type:"craft"},{id:"imbue-legendary-property",name:"Imbue Legendary Property",schoolId:"enchanting",xpPerAction:1200,actionDuration:600,manaCostPerAction:500,description:"Attempt to awaken or add a potent, thematically appropriate property to an Artifact or Legendary item.",reagentCosts:[{itemId:"target_artifact_or_legendary",amount:1},{itemId:"arcane_essence_t3",amount:1},{itemId:"primal_elementium_shard_t4",amount:1}],levelRequired:80,type:"craft"},{id:"soul-shard-imbuement",name:"Soul Shard Imbuement",schoolId:"enchanting",xpPerAction:800,actionDuration:300,manaCostPerAction:250,description:"Imbue an item with a captured soul shard, granting it properties related to the soul's nature.",reagentCosts:[{itemId:"target_gear_epic",amount:1},{itemId:"filled_greater_soulstone_t3",amount:1},{itemId:"binding_salts_t2",amount:3}],levelRequired:90,type:"craft"},{id:"rite-supreme-enchantment",name:"Rite of Supreme Enchantment",schoolId:"enchanting",xpPerAction:15e3,actionDuration:86400,manaCostPerAction:0,description:"Perform an ultimate enchanting ritual on a single piece of gear, elevating it to Legendary status with powerful, synergistic properties.",reagentCosts:[{itemId:"target_epic_gear",amount:1},{itemId:"essence_of_magic_t4",amount:1},{itemId:"world_rune_fragment_t4",amount:1},{itemId:"star_forge_hammer_t4_charge",amount:1}],levelRequired:99,type:"craft"}],B_=[{id:"transmute-ash-to-pure-ash",name:"Transmute Ash to Pure Ash",schoolId:"transmutation",xpPerAction:8,actionDuration:3,description:"Refine common Ash into Pure Ash for advanced crafting.",levelRequired:1,type:"craft",manaCostPerAction:2,reagentCosts:[{itemId:"ash",amount:10}],itemDrops:[{itemId:"pure_ash_t1",amount:8}]},{id:"transmute-wood-to-hardwood",name:"Transmute Wood to Hardwood",schoolId:"transmutation",xpPerAction:18,actionDuration:5,description:"Transform Basic Wood into sturdy Hardwood.",levelRequired:10,type:"craft",manaCostPerAction:5,reagentCosts:[{itemId:"basic_wood",amount:5}],itemDrops:[{itemId:"hardwood",amount:3}]},{id:"transmute-copper-to-tin",name:"Transmute Copper Ore to Tin Ore",schoolId:"transmutation",xpPerAction:30,actionDuration:7,description:"Alchemically convert Copper Ore into Tin Ore.",levelRequired:20,type:"craft",manaCostPerAction:8,reagentCosts:[{itemId:"copper_ore_t0",amount:6}],itemDrops:[{itemId:"tin_ore_t0",amount:4}]},{id:"transmute-herb-to-ground",name:"Transmute Herb to Ground Herb",schoolId:"transmutation",xpPerAction:12,actionDuration:4,description:"Grind Common Herb Leaf into Ground Common Herb for potion making.",levelRequired:15,type:"craft",manaCostPerAction:3,reagentCosts:[{itemId:"common_herb_leaf_t0",amount:5}],itemDrops:[{itemId:"ground_common_herb_t0",amount:4}]},{id:"transmute-faint-to-charged-mana-crystal",name:"Transmute Faint Mana Crystal to Charged Mana Crystal",schoolId:"transmutation",xpPerAction:60,actionDuration:10,description:"Condense Faint Mana Crystals into a Charged Mana Crystal.",levelRequired:30,type:"craft",manaCostPerAction:15,reagentCosts:[{itemId:"faint_mana_crystal_t0",amount:5}],itemDrops:[{itemId:"charged_mana_crystal_t1",amount:1}]},{id:"polymorph",name:"Polymorph",schoolId:"transmutation",xpPerAction:35,actionDuration:4,description:"Practice transforming creatures into other forms. (Training only)",levelRequired:10,type:"train",manaCostPerAction:10}],Y_=[{id:"practice-calligraphy",name:"Practice Calligraphy",schoolId:"inscription",xpPerAction:3,actionDuration:4,manaCostPerAction:1,description:"Hone your penmanship with basic inks and cheap paper.",reagentCosts:[{itemId:"cheap_ink_t0",amount:1},{itemId:"rough_paper_scrap_t0",amount:1}],itemDrops:[{itemId:"calligraphy_practice_sheet_t0",amount:1,chance:.8}],levelRequired:1,type:"train"},{id:"prepare-common-ink",name:"Prepare Common Ink",schoolId:"inscription",xpPerAction:10,actionDuration:10,manaCostPerAction:5,description:"Mix common ingredients to create usable writing ink.",reagentCosts:[{itemId:"soot_t0",amount:3},{itemId:"purified_water_flask_t0",amount:1},{itemId:"tree_sap_t0",amount:1}],itemDrops:[{itemId:"common_ink_t0",amount:2}],levelRequired:5,type:"craft"},{id:"craft-vellum-sheets",name:"Craft Vellum Scraps into Sheets",schoolId:"inscription",xpPerAction:18,actionDuration:12,manaCostPerAction:8,description:"Process and bind vellum scraps into usable sheets.",reagentCosts:[{itemId:"vellum_scrap_t0",amount:5}],itemDrops:[{itemId:"vellum_sheet_t1",amount:1},{itemId:"vellum_sheet_t1",amount:1,chance:.1}],levelRequired:10,type:"craft"},{id:"scribe-scroll-minor-fire-bolt",name:"Scribe Scroll of Minor Fire Bolt",schoolId:"inscription",xpPerAction:30,actionDuration:20,manaCostPerAction:20,description:"Transcribe the formula for a basic Fire Bolt spell onto a scroll.",reagentCosts:[{itemId:"vellum_sheet_t1",amount:1},{itemId:"common_ink_t0",amount:1},{itemId:"fire_mote_t0",amount:3}],itemDrops:[{itemId:"scroll_minor_fire_bolt_t1",amount:1}],levelRequired:15,type:"craft"},{id:"research-ancient-scripts",name:"Research Ancient Scripts",schoolId:"inscription",xpPerAction:70,actionDuration:60,manaCostPerAction:25,description:"Decipher faded or damaged ancient texts to uncover lost knowledge or spell fragments.",reagentCosts:[{itemId:"ancient_tome_fragment_t1",amount:1}],itemDrops:[{itemId:"map_fragment_t1",amount:1,chance:.15}],levelRequired:30,type:"train"},{id:"craft-enchanted-quill",name:"Craft Enchanted Quill",schoolId:"inscription",xpPerAction:120,actionDuration:90,manaCostPerAction:50,description:"Imbue a fine quill with enchantments to improve scribing speed and precision.",reagentCosts:[{itemId:"phoenix_feather_t2",amount:1},{itemId:"silver_nib_t1",amount:1},{itemId:"common_magical_dust_t1",amount:5}],itemDrops:[{itemId:"enchanted_quill_t1",amount:1}],levelRequired:45,type:"craft"},{id:"bind-simple-spellbook",name:"Bind Simple Spellbook",schoolId:"inscription",xpPerAction:250,actionDuration:300,manaCostPerAction:80,description:"Compile several related scrolls or notes into a basic spellbook.",reagentCosts:[{itemId:"vellum_sheet_t1",amount:20},{itemId:"hardened_leather_t1",amount:2},{itemId:"golden_thread_t1",amount:1}],itemDrops:[{itemId:"empty_spellbook_common_t1",amount:1}],levelRequired:60,type:"craft"},{id:"create-ink-of-warding",name:"Create Ink of Warding",schoolId:"inscription",xpPerAction:180,actionDuration:120,manaCostPerAction:60,description:"Brew inks with inherent magical properties, enhancing scrolls scribed with them.",reagentCosts:[{itemId:"voidbloom_extract_t2",amount:1},{itemId:"silver_dust_t1",amount:3},{itemId:"purified_aether_vial_t2",amount:1}],itemDrops:[{itemId:"ink_of_warding_t2",amount:1}],levelRequired:70,type:"craft"},{id:"transcribe-tome-aetheric-mastery",name:"Transcribe Tome of Aetheric Mastery",schoolId:"inscription",xpPerAction:2e3,actionDuration:7200,manaCostPerAction:500,description:"Compile deep knowledge of Aethermancy into a master tome.",reagentCosts:[{itemId:"dragonscale_parchment_t3",amount:5},{itemId:"ink_of_the_cosmos_t4",amount:1},{itemId:"essence_of_knowledge_t3",amount:1},{itemId:"binding_of_ancients_t3",amount:1}],itemDrops:[{itemId:"tome_of_aetheric_mastery_t3",amount:1}],levelRequired:85,type:"craft"},{id:"scribe-scroll-thousand-truths",name:"Scroll of A Thousand Truths",schoolId:"inscription",xpPerAction:2e4,actionDuration:86400,manaCostPerAction:0,description:"Scribe a scroll containing a sliver of ultimate truth, capable of enacting a powerful, one-time reality shift.",reagentCosts:[{itemId:"celestial_parchment_t4",amount:10},{itemId:"ink_of_the_void_t4",amount:1},{itemId:"feather_of_a_seraph_t4",amount:1},{itemId:"tear_of_a_sleeping_god_t4",amount:1}],itemDrops:[{itemId:"scroll_of_a_thousand_truths_t4",amount:1}],levelRequired:99,type:"craft"}],G_=[{id:"attune-spirit-energies",name:"Attune to Spirit Energies",schoolId:"soulbinding",xpPerAction:3,actionDuration:4.2,description:"Meditate to become sensitive to ambient spiritual echoes and energies.",manaCostPerAction:3,reagentCosts:[{itemId:"common_incense_stick_t0",amount:1}],itemDrops:[{itemId:"faint_soul_trace_t0",amount:1,chance:.4}],levelRequired:1,type:"train"},{id:"craft-lesser-soulstone-empty",name:"Craft Lesser Soulstone (Empty)",schoolId:"soulbinding",xpPerAction:10,actionDuration:10,description:"Fashion a crude gemstone capable of holding a very weak spiritual essence.",manaCostPerAction:8,reagentCosts:[{itemId:"chipped_quartz_t0",amount:2},{itemId:"copper_wire_t0",amount:1}],itemDrops:[{itemId:"lesser_soulstone_empty_t0",amount:1}],levelRequired:5,type:"craft"},{id:"capture-weak-spirit-echo",name:"Capture Weak Spirit Echo",schoolId:"soulbinding",xpPerAction:22,actionDuration:15,description:"Practice luring and trapping faint, dissipating spirit echoes into lesser soulstones.",manaCostPerAction:15,reagentCosts:[{itemId:"lesser_soulstone_empty_t0",amount:1}],itemDrops:[{itemId:"lesser_soulstone_filled_weak_t0",amount:1,chance:.7}],levelRequired:10,type:"train"},{id:"infuse-object-soul-trace",name:"Infuse Object with Soul Trace",schoolId:"soulbinding",xpPerAction:35,actionDuration:25,description:"Imbue a mundane object with a faint spiritual echo, giving it a subtle magical property.",manaCostPerAction:20,reagentCosts:[{itemId:"wooden_amulet_blank_t0",amount:1},{itemId:"faint_soul_trace_t0",amount:5}],itemDrops:[{itemId:"amulet_of_faint_spirit_t0",amount:1}],levelRequired:20,type:"craft"},{id:"create-soul-mana-battery",name:"Create Soul-Charged Mana Battery",schoolId:"soulbinding",xpPerAction:65,actionDuration:40,description:"Bind spiritual energy into a soulstone, creating a consumable battery that releases mana when shattered.",manaCostPerAction:50,reagentCosts:[{itemId:"intact_soulstone_empty_t1",amount:1},{itemId:"silver_filigree_t1",amount:1}],itemDrops:[{itemId:"soul_mana_battery_minor_t1",amount:1}],levelRequired:35,type:"craft"},{id:"bind-spirit-construct-practice",name:"Bind Spirit to Construct (Practice)",schoolId:"soulbinding",xpPerAction:160,actionDuration:90,description:"Practice binding captured spirits into small, animated constructs (e.g., clay figures).",manaCostPerAction:70,reagentCosts:[{itemId:"lesser_soulstone_filled_weak_t0",amount:1},{itemId:"animated_clay_figurine_blank_t1",amount:1},{itemId:"binding_oath_scroll_t1",amount:1}],itemDrops:[{itemId:"soulbound_clay_sentry_practice_t1",amount:1}],levelRequired:50,type:"train"},{id:"extract-soul-essence",name:"Extract Soul Essence",schoolId:"soulbinding",xpPerAction:200,actionDuration:30,description:"Carefully extract and refine the core essence from a filled soulstone.",manaCostPerAction:50,reagentCosts:[{itemId:"intact_soulstone_filled_average_t2",amount:1},{itemId:"alchemical_filter_t2",amount:1}],itemDrops:[{itemId:"purified_soul_essence_t2",amount:1}],levelRequired:65,type:"craft"},{id:"create-soul-ward",name:"Create Soul Ward",schoolId:"soulbinding",xpPerAction:500,actionDuration:600,description:"Weave a protective ward using bound spiritual energies that guard against hostile spirits or life-draining effects.",manaCostPerAction:200,reagentCosts:[{itemId:"greater_soulstone_empty_t2",amount:3},{itemId:"holy_symbol_blessed_t2",amount:1},{itemId:"ectoplasm_globule_t2",amount:5}],itemDrops:[{itemId:"soul_ward_talisman_t2",amount:1}],levelRequired:75,type:"craft"},{id:"forge-soul-powered-artifact",name:"Forge Soul-Powered Artifact (Component)",schoolId:"soulbinding",xpPerAction:2200,actionDuration:3600,description:"Attempt to forge a powerful artifact component by binding an exceptionally potent soul to a masterfully crafted vessel.",manaCostPerAction:800,reagentCosts:[{itemId:"pristine_soulgem_filled_ancient_t3",amount:1},{itemId:"aetherium_artifact_frame_t3",amount:1},{itemId:"essence_of_will_t3",amount:1}],itemDrops:[{itemId:"echoing_soul_core_t4",amount:1,chance:.25}],levelRequired:90,type:"craft"},{id:"aspect-of-the-soul-weaver",name:"Aspect of the Soul Weaver",schoolId:"soulbinding",xpPerAction:7e3,actionDuration:30,description:"Temporarily merge your spirit with the Ethereal Plane, gaining immense control over souls and spiritual energies.",manaCostPerAction:0,reagentCosts:[{itemId:"echoing_soul_core_t4",amount:1},{itemId:"nether_lotus_t4",amount:1}],levelRequired:99,type:"cast"}],$n={aethermancy:j_,alteration:D_,conjuration:R_,elemental:P_,illusion:U_,restoration:O_,necromancy:k_,divination:L_,demonology:V_,abjuration:E_,runecrafting:q_,alchemy:w_,enchanting:z_,transmutation:B_,inscription:Y_,soulbinding:G_},fg={debugMode:!1},hg=!0,Ce=Vt()(da(a=>({settings:{...fg},useMockItems:hg,toggleDebugMode:()=>{a(i=>({settings:{...i.settings,debugMode:!i.settings.debugMode}}))},setDebugMode:i=>{a(o=>({settings:{...o.settings,debugMode:i}}))},setUseMockItems:i=>{a({useMockItems:i})},resetToDefaults:()=>{a({settings:{...fg},useMockItems:hg})}}),{name:"settings-storage",partialize:a=>({settings:a.settings,useMockItems:a.useMockItems})}));var o0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pg=la.createContext&&la.createContext(o0),H_=["attr","size","title"];function F_(a,i){if(a==null)return{};var o=X_(a,i),r,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);for(c=0;c<d.length;c++)r=d[c],!(i.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(o[r]=a[r])}return o}function X_(a,i){if(a==null)return{};var o={};for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r)){if(i.indexOf(r)>=0)continue;o[r]=a[r]}return o}function Hr(){return Hr=Object.assign?Object.assign.bind():function(a){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(a[r]=o[r])}return a},Hr.apply(this,arguments)}function gg(a,i){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);i&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(a,c).enumerable})),o.push.apply(o,r)}return o}function Fr(a){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?gg(Object(o),!0).forEach(function(r){Q_(a,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):gg(Object(o)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(o,r))})}return a}function Q_(a,i,o){return i=K_(i),i in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a}function K_(a){var i=$_(a,"string");return typeof i=="symbol"?i:i+""}function $_(a,i){if(typeof a!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var r=o.call(a,i);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}function r0(a){return a&&a.map((i,o)=>la.createElement(i.tag,Fr({key:o},i.attr),r0(i.child)))}function we(a){return i=>la.createElement(Z_,Hr({attr:Fr({},a.attr)},i),r0(a.child))}function Z_(a){var i=o=>{var{attr:r,size:c,title:d}=a,m=F_(a,H_),p=c||o.size||"1em",y;return o.className&&(y=o.className),a.className&&(y=(y?y+" ":"")+a.className),la.createElement("svg",Hr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,r,m,{className:y,style:Fr(Fr({color:a.color||o.color},o.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),d&&la.createElement("title",null,d),a.children)};return pg!==void 0?la.createElement(pg.Consumer,null,o=>i(o)):i(o0)}function l0(a){return we({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M223.99908,224a32,32,0,1,0,32.00782,32A32.06431,32.06431,0,0,0,223.99908,224Zm214.172-96c-10.877-19.5-40.50979-50.75-116.27544-41.875C300.39168,34.875,267.63386,0,223.99908,0s-76.39066,34.875-97.89653,86.125C50.3369,77.375,20.706,108.5,9.82907,128-6.54984,157.375-5.17484,201.125,34.958,256-5.17484,310.875-6.54984,354.625,9.82907,384c29.13087,52.375,101.64652,43.625,116.27348,41.875C147.60842,477.125,180.36429,512,223.99908,512s76.3926-34.875,97.89652-86.125c14.62891,1.75,87.14456,10.5,116.27544-41.875C454.55,354.625,453.175,310.875,413.04017,256,453.175,201.125,454.55,157.375,438.171,128ZM63.33886,352c-4-7.25-.125-24.75,15.00391-48.25,6.87695,6.5,14.12891,12.875,21.88087,19.125,1.625,13.75,4,27.125,6.75,40.125C82.34472,363.875,67.09081,358.625,63.33886,352Zm36.88478-162.875c-7.752,6.25-15.00392,12.625-21.88087,19.125-15.12891-23.5-19.00392-41-15.00391-48.25,3.377-6.125,16.37891-11.5,37.88478-11.5,1.75,0,3.875.375,5.75.375C104.09864,162.25,101.84864,175.625,100.22364,189.125ZM223.99908,64c9.50195,0,22.25586,13.5,33.88282,37.25-11.252,3.75-22.50391,8-33.88282,12.875-11.377-4.875-22.62892-9.125-33.88283-12.875C201.74516,77.5,214.49712,64,223.99908,64Zm0,384c-9.502,0-22.25392-13.5-33.88283-37.25,11.25391-3.75,22.50587-8,33.88283-12.875C235.378,402.75,246.62994,407,257.8819,410.75,246.25494,434.5,233.501,448,223.99908,448Zm0-112a80,80,0,1,1,80-80A80.00023,80.00023,0,0,1,223.99908,336ZM384.6593,352c-3.625,6.625-19.00392,11.875-43.63479,11,2.752-13,5.127-26.375,6.752-40.125,7.75195-6.25,15.00391-12.625,21.87891-19.125C384.7843,327.25,388.6593,344.75,384.6593,352ZM369.65538,208.25c-6.875-6.5-14.127-12.875-21.87891-19.125-1.625-13.5-3.875-26.875-6.752-40.25,1.875,0,4.002-.375,5.752-.375,21.50391,0,34.50782,5.375,37.88283,11.5C388.6593,167.25,384.7843,184.75,369.65538,208.25Z"},child:[]}]})(a)}function W_(a){return we({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(a)}function Xn(a){return we({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(a)}function J_(a){return we({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(a)}function eS(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(a)}function tS(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"},child:[]}]})(a)}function aS(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(a)}function nS(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(a)}function yg(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"},child:[]}]})(a)}function vg(a){return we({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(a)}function Id(a){return we({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(a)}function Td(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 0C460.22 3.56 96.44 38.2 71.01 287.61c-3.09 26.66-4.84 53.44-5.99 80.24l178.87-178.69c6.25-6.25 16.4-6.25 22.65 0s6.25 16.38 0 22.63L7.04 471.03c-9.38 9.37-9.38 24.57 0 33.94 9.38 9.37 24.59 9.37 33.98 0l57.13-57.07c42.09-.14 84.15-2.53 125.96-7.36 53.48-5.44 97.02-26.47 132.58-56.54H255.74l146.79-48.88c11.25-14.89 21.37-30.71 30.45-47.12h-81.14l106.54-53.21C500.29 132.86 510.19 26.26 512 0z"},child:[]}]})(a)}function iS(a){return we({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(a)}function c0(a){return we({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(a)}function Ha(a){return we({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(a)}function Md(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-304-64l-64-32 64-32 32-64 32 64 64 32-64 32-16 32h208l-86.41-201.63a63.955 63.955 0 0 1-1.89-45.45L416 0 228.42 107.19a127.989 127.989 0 0 0-53.46 59.15L64 416h144l-16-32zm64-224l16-32 16 32 32 16-32 16-16 32-16-32-32-16 32-16z"},child:[]}]})(a)}function Ad(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(a)}function bg(a){return we({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(a)}function lo(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(a)}function Xr(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.54 60.91c17.22-17.22 12.51-46.25-9.27-57.14a35.696 35.696 0 0 0-37.37 3.37L251.09 160h151.37l99.08-99.09zM496 192H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c0 80.98 50.2 150.11 121.13 178.32-12.76 16.87-21.72 36.8-24.95 58.69-1.46 9.92 6.04 18.98 16.07 18.98h223.5c10.03 0 17.53-9.06 16.07-18.98-3.22-21.89-12.18-41.82-24.95-58.69C429.8 406.11 480 336.98 480 256h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(a)}function Js(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M79.18 282.94a32.005 32.005 0 0 0-20.24 20.24L0 480l4.69 4.69 92.89-92.89c-.66-2.56-1.57-5.03-1.57-7.8 0-17.67 14.33-32 32-32s32 14.33 32 32-14.33 32-32 32c-2.77 0-5.24-.91-7.8-1.57l-92.89 92.89L32 512l176.82-58.94a31.983 31.983 0 0 0 20.24-20.24l33.07-84.07-98.88-98.88-84.07 33.07zM369.25 28.32L186.14 227.81l97.85 97.85 199.49-183.11C568.4 67.48 443.73-55.94 369.25 28.32z"},child:[]}]})(a)}function eo(a){return we({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M48 0C21.53 0 0 21.53 0 48v64c0 8.84 7.16 16 16 16h80V48C96 21.53 74.47 0 48 0zm208 412.57V352h288V96c0-52.94-43.06-96-96-96H111.59C121.74 13.41 128 29.92 128 48v368c0 38.87 34.65 69.65 74.75 63.12C234.22 474 256 444.46 256 412.57zM288 384v32c0 52.93-43.06 96-96 96h336c61.86 0 112-50.14 112-112 0-8.84-7.16-16-16-16H288z"},child:[]}]})(a)}function Nd(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(a)}function Qr(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 0C114.6 0 0 100.3 0 224c0 70.1 36.9 132.6 94.5 173.7 9.6 6.9 15.2 18.1 13.5 29.9l-9.4 66.2c-1.4 9.6 6 18.2 15.7 18.2H192v-56c0-4.4 3.6-8 8-8h16c4.4 0 8 3.6 8 8v56h64v-56c0-4.4 3.6-8 8-8h16c4.4 0 8 3.6 8 8v56h77.7c9.7 0 17.1-8.6 15.7-18.2l-9.4-66.2c-1.7-11.7 3.8-23 13.5-29.9C475.1 356.6 512 294.1 512 224 512 100.3 397.4 0 256 0zm-96 320c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64zm192 0c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z"},child:[]}]})(a)}function sS(a){return we({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.3 345.2l-33.8-19.5 26-7c8.2-2.2 13.1-10.7 10.9-18.9l-4-14.9c-2.2-8.2-10.7-13.1-18.9-10.9l-70.8 19-63.9-37 63.8-36.9 70.8 19c8.2 2.2 16.7-2.7 18.9-10.9l4-14.9c2.2-8.2-2.7-16.7-10.9-18.9l-26-7 33.8-19.5c7.4-4.3 9.9-13.7 5.7-21.1L430.4 119c-4.3-7.4-13.7-9.9-21.1-5.7l-33.8 19.5 7-26c2.2-8.2-2.7-16.7-10.9-18.9l-14.9-4c-8.2-2.2-16.7 2.7-18.9 10.9l-19 70.8-62.8 36.2v-77.5l53.7-53.7c6.2-6.2 6.2-16.4 0-22.6l-11.3-11.3c-6.2-6.2-16.4-6.2-22.6 0L256 56.4V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v40.4l-19.7-19.7c-6.2-6.2-16.4-6.2-22.6 0L138.3 48c-6.3 6.2-6.3 16.4 0 22.6l53.7 53.7v77.5l-62.8-36.2-19-70.8c-2.2-8.2-10.7-13.1-18.9-10.9l-14.9 4c-8.2 2.2-13.1 10.7-10.9 18.9l7 26-33.8-19.5c-7.4-4.3-16.8-1.7-21.1 5.7L2.1 145.7c-4.3 7.4-1.7 16.8 5.7 21.1l33.8 19.5-26 7c-8.3 2.2-13.2 10.7-11 19l4 14.9c2.2 8.2 10.7 13.1 18.9 10.9l70.8-19 63.8 36.9-63.8 36.9-70.8-19c-8.2-2.2-16.7 2.7-18.9 10.9l-4 14.9c-2.2 8.2 2.7 16.7 10.9 18.9l26 7-33.8 19.6c-7.4 4.3-9.9 13.7-5.7 21.1l15.5 26.8c4.3 7.4 13.7 9.9 21.1 5.7l33.8-19.5-7 26c-2.2 8.2 2.7 16.7 10.9 18.9l14.9 4c8.2 2.2 16.7-2.7 18.9-10.9l19-70.8 62.8-36.2v77.5l-53.7 53.7c-6.3 6.2-6.3 16.4 0 22.6l11.3 11.3c6.2 6.2 16.4 6.2 22.6 0l19.7-19.7V496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-40.4l19.7 19.7c6.2 6.2 16.4 6.2 22.6 0l11.3-11.3c6.2-6.2 6.2-16.4 0-22.6L256 387.7v-77.5l62.8 36.2 19 70.8c2.2 8.2 10.7 13.1 18.9 10.9l14.9-4c8.2-2.2 13.1-10.7 10.9-18.9l-7-26 33.8 19.5c7.4 4.3 16.8 1.7 21.1-5.7l15.5-26.8c4.3-7.3 1.8-16.8-5.6-21z"},child:[]}]})(a)}function oS(a){return we({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(a)}function rS(a){return we({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(a)}function to(a){return we({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(a)}function lS(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(a)}function cS(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(a)}function uS(a){return we({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M19.75 14.438c59.538 112.29 142.51 202.35 232.28 292.718l3.626 3.75.063-.062c21.827 21.93 44.04 43.923 66.405 66.25-18.856 14.813-38.974 28.2-59.938 40.312l28.532 28.53 68.717-68.717c42.337 27.636 76.286 63.646 104.094 105.81l28.064-28.06c-42.47-27.493-79.74-60.206-106.03-103.876l68.936-68.938-28.53-28.53c-11.115 21.853-24.413 42.015-39.47 60.593-43.852-43.8-86.462-85.842-130.125-125.47-.224-.203-.432-.422-.656-.625C183.624 122.75 108.515 63.91 19.75 14.437zm471.875 0c-83.038 46.28-154.122 100.78-221.97 161.156l22.814 21.562 56.81-56.812 13.22 13.187-56.438 56.44 24.594 23.186c61.802-66.92 117.6-136.92 160.97-218.72zm-329.53 125.906l200.56 200.53c-4.36 4.443-8.84 8.793-13.405 13.032L148.875 153.53l13.22-13.186zm-76.69 113.28l-28.5 28.532 68.907 68.906c-26.29 43.673-63.53 76.414-106 103.907l28.063 28.06c27.807-42.164 61.758-78.174 104.094-105.81l68.718 68.717 28.53-28.53c-20.962-12.113-41.08-25.5-59.937-40.313 17.865-17.83 35.61-35.433 53.157-52.97l-24.843-25.655-55.47 55.467c-4.565-4.238-9.014-8.62-13.374-13.062l55.844-55.844-24.53-25.374c-18.28 17.856-36.602 36.06-55.158 54.594-15.068-18.587-28.38-38.758-39.5-60.625z"},child:[]}]})(a)}const dS=[{id:"mana",name:"Mana",icon:to},{id:"shop",name:"Shop",icon:rS},{id:"vault",name:"Vault",icon:J_},{id:"gear",name:"Gear",icon:Md},{id:"trials",name:"Trials",icon:uS}],mS=[{id:"settings",name:"Settings",icon:aS}],fS={id:"debug",name:"Debug",icon:tS},va=[{id:"abjuration",name:"Abjuration",icon:Nd,description:"The protective and defensive aspects of magic."},{id:"aethermancy",name:"Aethermancy",icon:l0,description:"The study and manipulation of raw aetheric energies that permeate the cosmos."},{id:"alchemy",name:"Alchemy",icon:Xr,description:"The transformation of materials and creation of magical potions."},{id:"alteration",name:"Alteration",icon:Md,description:"The art of changing the fundamental properties of objects and beings."},{id:"conjuration",name:"Conjuration",icon:Td,description:"The practice of summoning creatures and objects from other planes."},{id:"demonology",name:"Demonology",icon:lo,description:"The study and control of demonic entities and their powers."},{id:"divination",name:"Divination",icon:Id,description:"The art of seeing the future and gathering information through magical means."},{id:"elemental",name:"Elemental",icon:c0,description:"The school of raw magical power and elemental damage."},{id:"enchanting",name:"Enchanting",icon:Ha,description:"The imbuing of magical properties into objects."},{id:"illusion",name:"Illusion",icon:Xn,description:"The manipulation of light and shadow to create false perceptions."},{id:"inscription",name:"Inscription",icon:eo,description:"The art of writing magical scrolls and tomes."},{id:"necromancy",name:"Necromancy",icon:Qr,description:"The study of death, undeath, and the manipulation of life force."},{id:"restoration",name:"Restoration",icon:Ha,description:"The healing and protective arts of magic."},{id:"runecrafting",name:"Runecrafting",icon:Js,description:"The ancient art of creating and using magical runes."},{id:"soulbinding",name:"Soulbinding",icon:Xn,description:"The manipulation and binding of souls and spiritual energy."},{id:"transmutation",name:"Transmutation",icon:Ad,description:"The changing of one substance into another."}],hS={vault:{name:"Vault",description:"Your personal storage for magical items, artifacts, and resources."},shop:{name:"Shop",description:"Browse and purchase magical items, spells, and resources."},settings:{name:"Settings",description:"Configure game settings and preferences."},debug:{name:"Debug",description:"Debug tools and information."},mana:{name:"Mana",description:"Manage your mana resources."},trials:{name:"Trials",description:"Engage in combat trials, battle enemies, and earn rewards."}},Kr=va.map(a=>a.id),_g=Kr.reduce((a,i)=>(a[i]=1,a),{}),Sg=Kr.reduce((a,i)=>(a[i]=0,a),{});function pS(){return Object.values($n).flat().map(a=>a.id)}const $r=pS(),xg=$r.reduce((a,i)=>(a[i]=1,a),{}),Ig=$r.reduce((a,i)=>(a[i]=0,a),{});function gS(a){return Math.max(0,(a-1)*5)}const Je=Vt()(da((a,i)=>{function o(r){var d,m,p,y;He.getState().removeBonus("aethermancy-max-mana-bonus");const c=gS(r);if(He.getState().addBonus({id:"aethermancy-max-mana-bonus",source:"aethermancy-level",statAffected:"maxMana",value:c,type:"flat_additive",scope:"global"}),typeof window<"u"&&window.useManaStore)(m=(d=window.useManaStore.getState()).resyncAfterBonusReset)==null||m.call(d);else try{(y=(p=ce.getState()).resyncAfterBonusReset)==null||y.call(p)}catch{}}return{schoolLevels:{..._g},schoolXP:{...Sg},masteryLevels:{...xg},masteryXP:{...Ig},getRequiredXP:r=>r>=99?1/0:Math.floor(100*Math.pow(1.1,r-1)),incrementSchoolLevel:r=>{a(c=>{const d=Math.min(99,(c.schoolLevels[r]||1)+1);return r==="aethermancy"&&o(d),{schoolLevels:{...c.schoolLevels,[r]:d}}})},decrementSchoolLevel:r=>{a(c=>{const d=Math.max(1,(c.schoolLevels[r]||1)-1);return r==="aethermancy"&&o(d),{schoolLevels:{...c.schoolLevels,[r]:d}}})},setSchoolLevel:(r,c)=>{a(d=>{const m=Math.min(99,Math.max(1,c));return r==="aethermancy"&&o(m),{schoolLevels:{...d.schoolLevels,[r]:m}}})},addSchoolXP:(r,c,d=!1)=>{c<=0||a(m=>{var x,T;let p=m.schoolXP[r]||0,y=m.schoolLevels[r]||1,h=y,g=0,v=p+c;for(;h<99&&v>=i().getRequiredXP(h);)v-=i().getRequiredXP(h),h++,g++;if(h===99&&(v=Math.min(v,i().getRequiredXP(98))),g>0&&!d)for(let M=0;M<g;M++)(T=(x=Le.getState()).addLevelUpNotification)==null||T.call(x,r,y+M+1);const _={...m.schoolLevels,[r]:h};return r==="aethermancy"&&h!==y&&o(h),{schoolXP:{...m.schoolXP,[r]:v},schoolLevels:_}})},removeSchoolXP:(r,c,d=!1)=>{if(c<=0){a(m=>m);return}a(m=>{const p=Ce.getState().settings.debugMode,y=m.schoolXP[r]||0,h=m.schoolLevels[r]||1,g=Math.max(0,y-c);if(g===0&&h>1){const v=h-1,_=i().getRequiredXP(v);return p&&console.log(`[progressionStore] De-leveling ${r} to level ${v}, XP set to ${_>0?_-1:0}`),r==="aethermancy"&&o(v),d||_t.getState().updateLastSaveTime(),{...m,schoolXP:{...m.schoolXP,[r]:_>0?_-1:0},schoolLevels:{...m.schoolLevels,[r]:v}}}return p&&console.log(`[progressionStore] Removed ${c} XP from ${r}, new XP: ${g}`),d||_t.getState().updateLastSaveTime(),{...m,schoolXP:{...m.schoolXP,[r]:g}}})},getRequiredMasteryXP:r=>r<1?100:Math.floor(100*Math.pow(1.1,r-1)),addMasteryXP:(r,c)=>{if(c<=0)return;const d=He.getState().calculateModifiedStat(c,"masteryXpGain",{masteryId:r});a(m=>{const p=m.masteryXP[r]??0,y=m.masteryLevels[r]??1;let h=p+d,g=y,v=i().getRequiredMasteryXP(g);for(;h>=v&&g<99;)g+=1,h-=v,v=i().getRequiredMasteryXP(g);return g>=99&&(h=Math.min(h,i().getRequiredMasteryXP(98))),{masteryXP:{...m.masteryXP,[r]:h},masteryLevels:{...m.masteryLevels,[r]:g}}})},setMasteryLevel:(r,c)=>{a(d=>({masteryLevels:{...d.masteryLevels,[r]:Math.max(1,c)}}))},setMasteryXP:(r,c)=>{a(d=>({masteryXP:{...d.masteryXP,[r]:Math.max(0,c)}}))},getEffectiveMasteryLevel:r=>{const c=i().masteryLevels[r]||1;return He.getState().calculateModifiedStat(c,"effectiveMasteryLevel",{masteryId:r})},validateAndFixProgressionState:(r=!1)=>{const c=Ce.getState().settings.debugMode,d=i();let m=!1;const p={...d.schoolLevels},y={...d.schoolXP};for(const v of Kr){let _=p[v]??1,x=y[v]??0;_<1&&(_=1,m=!0),_>99&&(_=99,m=!0);const T=i().getRequiredXP(_);x<0&&(x=0,m=!0),_===99&&x>i().getRequiredXP(98)&&(x=i().getRequiredXP(98),m=!0),_<99&&x>=T&&(x=T-1,m=!0),p[v]=_,y[v]=x}for(const v of Kr)v in p||(p[v]=1,m=!0),v in y||(y[v]=0,m=!0);const h={...d.masteryLevels},g={...d.masteryXP};for(const v of $r){let _=h[v]??1,x=g[v]??0;_<1&&(_=1,m=!0),_>99&&(_=99,m=!0);const T=i().getRequiredMasteryXP(_);x<0&&(x=0,m=!0),_===99&&x>i().getRequiredMasteryXP(98)&&(x=i().getRequiredMasteryXP(98),m=!0),_<99&&x>=T&&(x=T-1,m=!0),h[v]=_,g[v]=x}for(const v of $r)v in h||(h[v]=1,m=!0),v in g||(g[v]=0,m=!0);m&&(c&&console.log("[progressionStore] Fixed invalid school/mastery levels or XP."),a({schoolLevels:p,schoolXP:y,masteryLevels:h,masteryXP:g}),r||_t.getState().updateLastSaveTime())},resetToDefaults:()=>{He.getState().removeBonus("aethermancy-max-mana-bonus"),a({schoolLevels:{..._g},schoolXP:{...Sg},masteryLevels:{...xg},masteryXP:{...Ig}}),o(1)}}},{name:"progression-storage",partialize:a=>({schoolLevels:a.schoolLevels,schoolXP:a.schoolXP,masteryLevels:a.masteryLevels,masteryXP:a.masteryXP})})),u0={NoviceMage:{id:"NoviceMage",name:"Novice Mage",bonuses:[{requiredPieces:2,stats:[{key:"manaRegen",value:10,type:"percentage_additive",scope:"global"}],description:"2-piece bonus: +10% Mana Regeneration"},{requiredPieces:3,stats:[{key:"spellDamage",value:10,type:"flat_additive",scope:"global"},{key:"xpGain",value:5,type:"percentage_additive",scope:"global"}],description:"3-piece bonus: +10 Spell Damage, +5% XP Gain"}]}},Tg={Head:null,Chest:null,MainHand:null,OffHand:null,Amulet:null,Ring:null,Boots:null,Gloves:null,Cloak:null,Pants:null,Glyph:null},Mg={},Zn=Vt()(da((a,i)=>({equippedItems:{...Tg},equippedSetCounts:{...Mg},equipItem:o=>{const r=be.getState().inventoryItems,c=be.getState().setInventoryItems,d=r.find(y=>y.id===o);if(!d)return;const m=Ne[d.typeId];if(!m||!m.isGear)return;const p=m.equipmentSlot;a(y=>{const h=y.equippedItems[p],g=r.map(v=>v.id===o?{...v,equippedSlot:p}:v.id===h?{...v,equippedSlot:null}:v);return c(g),{equippedItems:{...y.equippedItems,[p]:o}}}),i().updateGearAndSetBonuses();try{const y=`equip-${o}-${Date.now()}`;Le.getState().addNotification({id:y,type:"custom",message:`Equipped ${m.icon?m.icon+" ":""}${m.name} to ${p}`,timestamp:Date.now(),icon:m.icon,slot:p,itemName:m.name,itemTypeId:m.typeId},3e3)}catch{}},unequipItem:o=>{const r=be.getState().inventoryItems,c=be.getState().setInventoryItems,d=i().equippedItems[o];if(!d||!r.find(g=>g.id===d))return;const p=be.getState().bankSlotLimit;if(r.length>=p){Le.getState().addNotification({id:`vault-full-unequip-${d}-${Date.now()}`,type:"vault",message:"Vault is full! Unequipped item lost.",timestamp:Date.now()},5e3),a(g=>({equippedItems:{...g.equippedItems,[o]:null}})),i().updateGearAndSetBonuses();return}const h=r.map(g=>g.id===d?{...g,equippedSlot:null}:g);c(h),a(g=>({equippedItems:{...g.equippedItems,[o]:null}})),i().updateGearAndSetBonuses()},updateGearAndSetBonuses:()=>{var m,p;const o=He.getState();o.clearBonusesBySource("gear"),o.clearBonusesBySource("gearSet");const r=i().equippedItems,c=be.getState().inventoryItems,d={};Object.values(r).forEach(y=>{if(!y)return;const h=c.find(v=>v.id===y);if(!h||h.isIdentified===!1)return;const g=Ne[h.typeId];g&&g.isGear&&g.stats&&(g.stats.forEach(v=>{const _={id:`gear_${y}_${v.key}`,source:"gear",statAffected:v.key,value:v.value,type:v.type,scope:v.scope||"global",context:v.context};v.scope==="school"&&v.context?_.schoolId=v.context:v.scope==="action"&&v.context?_.actionId=v.context:v.scope==="itemCategory"&&v.context&&(_.itemCategory=v.context),o.addBonus(_)}),g.setId&&(d[g.setId]=(d[g.setId]||0)+1))}),a({equippedSetCounts:d}),Object.entries(d).forEach(([y,h])=>{const g=u0[y];g&&g.bonuses.forEach(v=>{h>=v.requiredPieces&&v.stats.forEach(_=>{const x={id:`set_${y}_${v.requiredPieces}_${_.key}`,source:"gearSet",statAffected:_.key,value:_.value,type:_.type,scope:_.scope||"global",context:_.context};_.scope==="school"&&_.context?x.schoolId=_.context:_.scope==="action"&&_.context?x.actionId=_.context:_.scope==="itemCategory"&&_.context&&(x.itemCategory=_.context),o.addBonus(x)})})}),(p=(m=ce.getState()).resyncAfterBonusReset)==null||p.call(m)},resetToDefaults:()=>{a({equippedItems:{...Tg},equippedSetCounts:{...Mg}}),i().updateGearAndSetBonuses()}}),{name:"equipment-storage",partialize:a=>({equippedItems:a.equippedItems,equippedSetCounts:a.equippedSetCounts})})),Ag={},il=Vt()(da((a,i)=>({spellCooldowns:{...Ag},setSpellCooldown:(o,r)=>{const c=Date.now();a(d=>({spellCooldowns:{...d.spellCooldowns,[o]:c+r*1e3}}))},getSpellCooldownRemaining:o=>{const r=i().spellCooldowns,c=Date.now(),d=r[o]||0;return d<=c?0:Math.max(0,Math.round((d-c)/100)/10)},clearSpellCooldown:o=>{a(r=>{const c={...r.spellCooldowns};return delete c[o],{spellCooldowns:c}})},resetToDefaults:()=>{a({spellCooldowns:{...Ag}})}}),{name:"spell-storage",partialize:a=>({spellCooldowns:a.spellCooldowns})})),yS=typeof window<"u"&&window.location.hash&&window.location.hash.startsWith("#/")?window.location.hash.replace("#/",""):"mana",ya=Vt()(da(a=>({activeTab:yS,setActiveTab:i=>{a({activeTab:i}),typeof window<"u"&&window.location.hash!==`#/${i}`&&(window.location.hash=`#/${i}`)},resetToDefaults:()=>{const i="mana";a({activeTab:i}),typeof window<"u"&&window.location.hash!==`#/${i}`&&(window.location.hash=`#/${i}`)}}),{name:"ui-storage",partialize:a=>({activeTab:a.activeTab})}));var Vr,a0;if(typeof window<"u"){const a=(a0=(Vr=ya.persist)==null?void 0:Vr.onFinishHydration)==null?void 0:a0.call(Vr,()=>{const i=window.location.hash;if(i&&i.startsWith("#/")){const o=i.replace("#/","");o&&o!==ya.getState().activeTab&&ya.getState().setActiveTab(o)}else{const o=ya.getState().activeTab;window.location.hash=`#/${o}`}window.addEventListener("hashchange",()=>{const o=window.location.hash;if(o&&o.startsWith("#/")){const r=o.replace("#/","");r&&r!==ya.getState().activeTab&&ya.getState().setActiveTab(r)}}),a&&a()})}const vS=0;let d0=!0;function ju(a){d0=a,typeof window<"u"&&Ce.getState().settings.debugMode&&console.log(`[sessionStore] setHydrating called with: ${a}`)}const _t=Vt()(da((a,i)=>({lastSaveTime:vS,updateLastSaveTime:()=>{const o=Ce.getState().settings.debugMode;if(d0){typeof window<"u"&&o&&(console.log("[sessionStore] updateLastSaveTime called during hydration, SKIPPING update."),console.trace());return}const r=Date.now();typeof window<"u"&&o&&(console.log(`[sessionStore] updateLastSaveTime called. Setting lastSaveTime to ${new Date(r).toISOString()} (${r})`),console.trace()),a({lastSaveTime:r}),typeof window<"u"&&window.localStorage.setItem("lastSaveTime",r.toString())},resetGameToDefaults:()=>{const{debugMode:o}=Ce.getState().settings,r=ya.getState().activeTab;o&&console.log("[sessionStore] Initiating full game reset."),rt.getState().stopTraining(),ua.getState().resetToDefaults(),ce.getState().resetToDefaults(),Je.getState().resetToDefaults(),be.getState().resetToDefaults(),Zn.getState().resetToDefaults(),il.getState().resetToDefaults(),ya.getState().resetToDefaults(),Ce.getState().resetToDefaults(),Ce.getState().setDebugMode(o),ya.getState().setActiveTab(r),i().updateLastSaveTime(),Le.getState().addNotification({id:Math.random().toString(36).substring(7),type:"custom",message:"Game reset to defaults.",timestamp:Date.now(),icon:"exclamation"})},validateAndFixGlobalGameState:(o=!1)=>{Je.getState().validateAndFixProgressionState(o)}}),{name:"session-storage",partialize:a=>({lastSaveTime:a.lastSaveTime}),onRehydrateStorage:()=>(a,i)=>{i&&console.error("[sessionStore] Failed to rehydrate session-storage:",i),a&&Ce.getState().settings.debugMode&&console.log(`[sessionStore] Rehydrated lastSaveTime: ${new Date(a.lastSaveTime).toISOString()} (${a.lastSaveTime})`)}})),Ng=20,Cg=0,jg=[],Eg=1,be=Vt()(da((a,i)=>({inventoryItems:[...jg],nextItemId:Eg,bankSlotLimit:Ng,slotsPurchased:Cg,setInventoryItems:o=>{a({inventoryItems:o})},addItemToInventory:(o,r,c)=>{a(d=>{var x,T;const m=Ne[o],p=Ce.getState().settings.debugMode;if(!m)return p&&console.error(`[inventoryStore] addItemToInventory: Blueprint not found for typeId: ${o}`),d;let y=[...d.inventoryItems],h=r,g=!1,v=0,_=d.nextItemId;for(let M=0;M<y.length&&!(h<=0);M++){const I=y[M];if(I.typeId===o&&!I.isLocked&&(I.isIdentified!==!1||(!("startsUnidentified"in m)||!m.startsUnidentified))){const R=(I.maxStack||m.maxStack)-I.quantity;if(R>0){const w=Math.min(h,R);y[M]={...I,quantity:I.quantity+w},h-=w,v+=w,g=!0}}}for(;h>0;){if(y.length>=d.bankSlotLimit){Le.getState().addNotification({id:Math.random().toString(36).substring(7),type:"vault",message:"Vault is full! Cannot add more items.",timestamp:Date.now()});break}const M=m.maxStack,I=Math.min(h,M);y.push({id:_,typeId:m.typeId,name:m.name,icon:m.icon,quantity:I,category:m.category,subcategory:m.subcategory,tabId:c||1,isLocked:!1,isUsable:m.isUsable,isUpgradeable:m.isUpgradeable,description:m.description,value:m.value,maxStack:m.maxStack,isIdentified:!("startsUnidentified"in m&&m.startsUnidentified)}),h-=I,v+=I,g=!0,_++}return g&&v>0?((T=(x=Le.getState()).addItemReceivedNotification)==null||T.call(x,m.typeId,v),{inventoryItems:y,nextItemId:_}):d})},removeItemFromInventory:(o,r)=>{a(c=>{let d=r;const m=[...c.inventoryItems];for(let p=m.length-1;p>=0&&!(d<=0);p--){const y=m[p];if(y.typeId===o&&!y.isLocked&&(y.isIdentified!==!1||(!("startsUnidentified"in Ne[y.typeId])||!Ne[y.typeId].startsUnidentified))){const h=Math.min(d,y.quantity);y.quantity-=h,d-=h}}if(d>0)for(let p=m.length-1;p>=0&&!(d<=0);p--){const y=m[p];if(y.typeId===o){const h=Math.min(d,y.quantity);y.quantity-=h,d-=h}}return{inventoryItems:m.filter(p=>p.quantity>0)}})},removeSpecificItemInstance:(o,r)=>{a(c=>{const d=c.inventoryItems.findIndex(h=>h.id===o);if(d===-1)return c;const m=[...c.inventoryItems],p=m[d],y=r===void 0?p.quantity:Math.min(r,p.quantity);return p.quantity-y<=0?m.splice(d,1):m[d]={...p,quantity:p.quantity-y},{inventoryItems:m}})},getInventoryAmount:o=>i().inventoryItems.filter(r=>r.typeId===o).reduce((r,c)=>r+c.quantity,0),getNextSlotCost:()=>Math.floor(100*Math.pow(1.15,i().slotsPurchased)),purchaseBankSlot:()=>{var r,c;const o=i().getNextSlotCost();return ua.getState().gold<o?!1:(ua.getState().removeGold(o),a(d=>({bankSlotLimit:d.bankSlotLimit+1,slotsPurchased:d.slotsPurchased+1})),(c=(r=Le.getState()).addVaultSlotNotification)==null||c.call(r),_t.getState().updateLastSaveTime(),!0)},setBankSlotLimit:o=>a({bankSlotLimit:o}),setSlotsPurchased:o=>a({slotsPurchased:o}),identifyItem:o=>{a(r=>({inventoryItems:r.inventoryItems.map(c=>c.id===o?{...c,isIdentified:!0}:c)}))},resetToDefaults:()=>{a({inventoryItems:[...jg],nextItemId:Eg,bankSlotLimit:Ng,slotsPurchased:Cg})}}),{name:"inventory-storage",partialize:a=>({inventoryItems:a.inventoryItems,nextItemId:a.nextItemId,bankSlotLimit:a.bankSlotLimit,slotsPurchased:a.slotsPurchased})})),Hi=[{id:"max-mana-1",name:"Mana Pool I",description:"Increase your maximum mana by 100.",icon:"",cost:{gold:100},effect:{statAffected:"maxMana",value:100,type:"flat_additive",scope:"global",stackingRule:"additive"},maxLevel:1},{id:"max-mana-2",name:"Mana Pool II",description:"Increase your maximum mana by 200.",icon:"",cost:{gold:250},effect:{statAffected:"maxMana",value:200,type:"flat_additive",scope:"global",stackingRule:"additive"},maxLevel:1},{id:"max-mana-3",name:"Mana Pool III",description:"Increase your maximum mana by 400.",icon:"",cost:{gold:500},effect:{statAffected:"maxMana",value:400,type:"flat_additive",scope:"global",stackingRule:"additive"},maxLevel:1},{id:"max-mana-4",name:"Mana Pool IV",description:"Increase your maximum mana by 800.",icon:"",cost:{gold:1e3},effect:{statAffected:"maxMana",value:800,type:"flat_additive",scope:"global",stackingRule:"additive"},maxLevel:1},{id:"max-mana-5",name:"Mana Pool V",description:"Increase your maximum mana by 1600.",icon:"",cost:{gold:2e3},effect:{statAffected:"maxMana",value:1600,type:"flat_additive",scope:"global",stackingRule:"additive"},maxLevel:1},{id:"mana-regen-1",name:"Mana Regeneration I",description:"Gain +0.1 passive mana per second.",icon:"",cost:{gold:500},effect:{statAffected:"passiveManaPerSecond",value:.1,type:"flat_additive",scope:"global",stackingRule:"additive"},maxLevel:1},{id:"mana-cost-reduction-1",name:"Mana Efficiency I",description:"Reduce mana costs by 3%.",icon:"",cost:{gold:200,items:{charged_mana_crystal:1}},effect:{statAffected:"manaCost",value:-.03,type:"percentage_additive",scope:"global",stackingRule:"additive"},maxLevel:1}],wg=0,_n=100,Eu=0,Dg={};let Rr=null;const ce=Vt()(da((a,i)=>({mana:wg,baseMaxMana:_n,passiveManaPerSecond:Eu,manaUpgrades:{...Dg},lastPassiveManaTimestamp:Date.now(),addMana:(o,r)=>{var y,h,g,v;const c=i().getMaxMana(),d=i().mana,m=Math.min(c,d+o),p=m-d;p>0&&r!=="passive"&&((h=(y=Le.getState()).addManaNotification)==null||h.call(y,"mana",p)),m===c&&r!=="passive"&&((v=(g=Le.getState()).addManaFullNotification)==null||v.call(g)),a({mana:m})},removeMana:o=>{a(r=>{var m,p,y,h,g,v;const c=Math.max(0,r.mana-o);r.mana>0&&c===0&&((p=(m=Le.getState()).addManaEmptyNotification)==null||p.call(m));const d=i().getMaxMana();return r.mana===d&&c<d&&((h=(y=Le.getState()).removeManaFullNotification)==null||h.call(y)),r.mana===r.baseMaxMana&&c<r.baseMaxMana&&((v=(g=Le.getState()).removeManaFullNotification)==null||v.call(g)),{mana:c}})},setMana:(o,r="active")=>{var p,y,h,g;const c=i().getMaxMana(),d=i().mana,m=Math.max(0,Math.min(c,o));d<c&&m===c&&r!=="passive"&&((y=(p=Le.getState()).addManaFullNotification)==null||y.call(p)),d===c&&m<c&&((g=(h=Le.getState()).removeManaFullNotification)==null||g.call(h)),a({mana:m})},setBaseMaxMana:o=>{a(r=>({baseMaxMana:Math.max(0,o),mana:Math.min(r.mana,i().getMaxMana())}))},purchaseManaUpgrade:o=>{var p,y;const r=Hi.find(h=>h.id===o);if(!r)return!1;const c=i().manaUpgrades[o]||0;if(c>=r.maxLevel)return!1;const d=r.cost.gold||0;if(ua.getState().gold<d)return!1;if(r.cost.items)for(const[h,g]of Object.entries(r.cost.items)){const v=Number(g);if(be.getState().getInventoryAmount(h)<v)return!1}if(ua.getState().removeGold(d),r.cost.items)for(const[h,g]of Object.entries(r.cost.items)){const v=Number(g);be.getState().removeItemFromInventory(h,v)}a(h=>({manaUpgrades:{...h.manaUpgrades,[o]:c+1}})),i().reapplyManaUpgradeBonuses();const m=i().getMaxMana();return a(h=>({mana:Math.min(h.mana,m)})),i().mana!==m&&((y=(p=Le.getState()).removeManaFullNotification)==null||y.call(p)),_t.getState().updateLastSaveTime(),!0},setPassiveManaPerSecond:o=>{a({passiveManaPerSecond:o})},getMaxMana:()=>{const o=i().baseMaxMana;return He.getState().calculateModifiedStat(o,"maxMana")},getModifiedPassiveManaPerSecond:()=>{const o=i().passiveManaPerSecond;return He.getState().calculateModifiedStat(o,"passiveManaPerSecond")},startPassiveManaInterval:()=>{if(i().stopPassiveManaInterval(),typeof window>"u")return;i().simulateMissedPassiveMana();const o=Ce.getState().settings.debugMode;o&&console.log("[manaStore] Attempting to start passive mana interval."),Rr=setInterval(()=>{const r=Date.now(),c=i().lastPassiveManaTimestamp,d=i().getModifiedPassiveManaPerSecond(),m=Math.max(1,Math.floor((r-c)/1e3)),p=d*m;d>0&&p>0&&(i().addMana(p,"passive"),o&&console.log(`[manaStore] Passive mana gain: +${p} mana (rate: ${d}/s, elapsed: ${m}s)`)),a({lastPassiveManaTimestamp:r})},1e3),o&&console.log("[manaStore] Passive mana interval started.")},stopPassiveManaInterval:()=>{Rr&&(clearInterval(Rr),Rr=null,Ce.getState().settings.debugMode&&console.log("[manaStore] Stopped passive mana interval."))},reapplyManaUpgradeBonuses:()=>{const{manaUpgrades:o}=i();let r=_n,c=Eu;const m=He.getState().activeBonuses.filter(p=>!p.id.startsWith("mana-upgrade-"));He.setState({activeBonuses:m});for(const[p,y]of Object.entries(o)){const h=Hi.find(g=>g.id===p);if(!(!h||y===0))for(let g=1;g<=y;g++)h.effect.statAffected==="maxMana"?r+=h.effect.value:h.effect.statAffected==="passiveManaPerSecond"?c+=h.effect.value:He.getState().addBonus({id:`mana-upgrade-${p}-level${g}`,source:`mana-upgrade-${p}`,statAffected:h.effect.statAffected,value:h.effect.value,type:h.effect.type,scope:h.effect.scope,stackingRule:h.effect.stackingRule||"additive"})}a({baseMaxMana:r,passiveManaPerSecond:c}),a(p=>({mana:Math.min(p.mana,i().getMaxMana())}))},resetToDefaults:()=>{i().stopPassiveManaInterval(),a({mana:wg,baseMaxMana:_n,passiveManaPerSecond:Eu,manaUpgrades:{...Dg}}),i().reapplyManaUpgradeBonuses(),i().startPassiveManaInterval()},resyncAfterBonusReset:()=>{i().reapplyManaUpgradeBonuses(),a(o=>({mana:Math.min(o.mana,i().getMaxMana())}))},simulateMissedPassiveMana:()=>{var p,y;const o=Date.now(),r=i().lastPassiveManaTimestamp,c=Ce.getState().settings.debugMode;if(!r||o<=r){c&&console.log("[manaStore] No missed time for passive mana. now:",o,"lastTick:",r),a({lastPassiveManaTimestamp:o});return}const d=Math.floor((o-r)/1e3);if(d<=0){c&&console.log("[manaStore] Elapsed seconds <= 0 for passive mana. now:",o,"lastTick:",r),a({lastPassiveManaTimestamp:o});return}i().reapplyManaUpgradeBonuses();const m=i().getModifiedPassiveManaPerSecond();if(m>0){const h=i().mana,g=i().getMaxMana(),v=Math.round(m*d*1e3)/1e3;i().addMana(v,"passive");const _=i().mana;v>0&&_===g&&_>h&&((y=(p=Le.getState()).addManaFullNotification)==null||y.call(p)),c&&console.log(`[manaStore] Simulated missed passive mana: +${v} mana (rate: ${m}/s, elapsed: ${d}s)`)}else c&&console.log("[manaStore] Passive mana rate is 0, no mana added.");a({lastPassiveManaTimestamp:o})}}),{name:"mana-storage",partialize:a=>({mana:a.mana,baseMaxMana:a.baseMaxMana,passiveManaPerSecond:a.passiveManaPerSecond,manaUpgrades:a.manaUpgrades,lastPassiveManaTimestamp:a.lastPassiveManaTimestamp}),onRehydrateStorage:()=>(a,i)=>{i&&console.error("[manaStore] Failed to rehydrate mana-storage:",i),a&&Ce.getState().settings.debugMode&&console.log(`[manaStore] Rehydrated lastPassiveManaTimestamp: ${new Date(a.lastPassiveManaTimestamp).toISOString()} (${a.lastPassiveManaTimestamp})`),setTimeout(()=>{ce.getState().reapplyManaUpgradeBonuses(),ce.getState().simulateMissedPassiveMana()},0)}}));var n0;if(typeof window<"u"){const a=ce,i=()=>{if(ce.getState().reapplyManaUpgradeBonuses(),ce.getState().simulateMissedPassiveMana(),ce.getState().startPassiveManaInterval(),Ce.getState().settings.debugMode){const o=ce.getState().getModifiedPassiveManaPerSecond();console.log("[manaStore] Hydration complete. Passive mana interval started. Current rate:",o)}};(n0=a.persist)!=null&&n0.onFinishHydration?a.persist.onFinishHydration(()=>{i()}):setTimeout(()=>{if(Ce.getState().settings.debugMode){const o=ce.getState().lastPassiveManaTimestamp;console.log(`[manaStore] (Fallback) Hydration: lastPassiveManaTimestamp: ${new Date(o).toISOString()} (${o})`)}if(ce.getState().reapplyManaUpgradeBonuses(),ce.getState().simulateMissedPassiveMana(),ce.getState().startPassiveManaInterval(),Ce.getState().settings.debugMode){const o=ce.getState().getModifiedPassiveManaPerSecond();console.log("[manaStore] Hydration complete. Passive mana interval started. Current rate:",o)}},500)}const Sn=$n,rt=Vt()(da((a,i)=>({activeTraining:null,startTraining:o=>{const r=Date.now(),c=Je.getState().schoolLevels[o.schoolId]||1;if(c<o.levelRequired){Ce.getState().settings.debugMode&&console.log(`[TrainingStore] Cannot start training: ${o.name} is locked (requires level ${o.levelRequired}, you are level ${c})`);return}i().activeTraining&&i().stopTraining(),a({activeTraining:{optionId:o.id,schoolId:o.schoolId,startTime:r,lastActionTime:r,completedActions:0,lastSessionEndTime:r}}),sl()},stopTraining:()=>{const o=i();if(o.activeTraining){const r=Date.now();a({activeTraining:{...o.activeTraining,lastActionTime:r,lastSessionEndTime:r}}),a({activeTraining:null}),Zr()}},getActionProgress:()=>{var _;const o=i();if(!o.activeTraining)return null;const r=Date.now(),c=(_=Sn[o.activeTraining.schoolId])==null?void 0:_.find(x=>{var T;return x.id===((T=o.activeTraining)==null?void 0:T.optionId)});if(!c)return null;const d=He.getState(),m={schoolId:c.schoolId,actionId:c.id},p=d.calculateModifiedStat(c.actionDuration,"actionDuration",m),y=c.manaCostPerAction!==void 0?d.calculateModifiedStat(c.manaCostPerAction,"manaCost",m):void 0;if(y&&y>0&&ce.getState().mana<y)return{progress:0,timeLeft:p};if(c.reagentCosts&&c.reagentCosts.length>0){let x=!0;for(const T of c.reagentCosts)if((be.getState().getInventoryAmount(T.itemId)??0)<T.amount){x=!1;break}if(!x)return{progress:0,timeLeft:p}}const h=(r-o.activeTraining.lastActionTime)/1e3,g=Math.min(1,h/p),v=Math.max(0,p-h);return{progress:g,timeLeft:v}},resetTrainingState:()=>{a({activeTraining:null})}}),{name:"training-storage",partialize:a=>({activeTraining:a.activeTraining?{optionId:a.activeTraining.optionId,schoolId:a.activeTraining.schoolId,startTime:a.activeTraining.startTime,lastActionTime:a.activeTraining.lastActionTime,lastSessionEndTime:a.activeTraining.lastSessionEndTime}:null}),version:2,storage:{getItem:a=>{const i=localStorage.getItem(a);if(!i)return null;try{const{state:o}=JSON.parse(i);return{state:o}}catch{return null}},setItem:(a,i)=>{localStorage.setItem(a,JSON.stringify(i))},removeItem:a=>{localStorage.removeItem(a)}}}));let ao=null;const sl=()=>{ao||(ao=setInterval(()=>{var _,x,T,M,I,E,R;const a=rt.getState(),i=He.getState(),o=Ce.getState().settings;if(!a.activeTraining){o.debugMode;return}const r=Date.now(),c=(_=Sn[a.activeTraining.schoolId])==null?void 0:_.find(w=>{var O;return w.id===((O=a.activeTraining)==null?void 0:O.optionId)});if(!c)return;const d={schoolId:c.schoolId,actionId:c.id},m=i.calculateModifiedStat(c.actionDuration,"actionDuration",d),p=i.calculateModifiedStat(c.xpPerAction,"xpGain",d),y=c.manaCostPerAction!==void 0?i.calculateModifiedStat(c.manaCostPerAction,"manaCost",d):void 0,h=c.manaGeneratedPerAction!==void 0?i.calculateModifiedStat(c.manaGeneratedPerAction,"manaGeneration",d):void 0,g=typeof y=="number"?y:0,v=(r-a.activeTraining.lastActionTime)/1e3;if(o.debugMode&&v>=m&&console.log("Training tick (action completion):",{timeSinceLastAction:v,actionDuration:c.actionDuration,effectiveActionDuration:m,lastActionTime:a.activeTraining.lastActionTime,now:r}),v>=m){let w=!0;const O=ce.getState().mana;if(g>0&&(h&&h>0?O+h<g&&(w=!1):O<g&&(w=!1)),!w){o.debugMode&&console.log(`[TrainingSystem] Not enough mana for ${c.name}. Needed: ${g}, Have: ${O}. Stopping training.`),rt.getState().stopTraining(),O===0?(T=(x=Le.getState()).addManaEmptyNotification)==null||T.call(x):(I=(M=Le.getState()).addNotEnoughManaNotification)==null||I.call(M,c.name,Math.ceil(g));return}if(g>0?h&&h>0?ce.getState().setMana(O-g+h,"training"):ce.getState().removeMana(g):h&&h>0&&ce.getState().addMana(h,"training"),c.reagentCosts&&c.reagentCosts.length>0){let G=!0;for(const X of c.reagentCosts)if((be.getState().getInventoryAmount(X.itemId)??0)<X.amount){G=!1;break}if(!G){o.debugMode&&console.log(`[TrainingSystem] Not enough reagents for ${c.name}. Stopping training.`),rt.getState().stopTraining(),(R=(E=Le.getState()).addNotification)==null||R.call(E,{id:Math.random().toString(36).substring(7),type:"custom",message:`Not enough reagents for ${c.name}. Training stopped.`,timestamp:Date.now()});return}for(const X of c.reagentCosts)be.getState().removeItemFromInventory(X.itemId,X.amount)}if(Je.getState().addSchoolXP(c.schoolId,p),Je.getState().addMasteryXP(c.id,1),c.itemDrops&&c.itemDrops.length>0)for(const G of c.itemDrops){const X=`itemDropAmount_${G.itemId}`,C=i.calculateModifiedStat(G.amount,X,d);let V=!0;typeof G.chance=="number"&&(V=Math.random()<G.chance),V&&(be.getState().addItemToInventory(G.itemId,Math.floor(C)),o.debugMode&&console.log(`[TrainingSystem] Generated ${Math.floor(C)} of ${G.itemId} from ${c.name}.`))}const k=Le.getState().addXPNotification;k&&k(c.schoolId,p),o.debugMode&&console.log("Action completed:",{schoolId:c.schoolId,xpAwarded:p,timeSinceLastAction:v}),rt.setState({activeTraining:{...a.activeTraining,lastActionTime:r,completedActions:(a.activeTraining.completedActions||0)+1}})}},100))},Zr=()=>{ao&&(clearInterval(ao),ao=null)},kt=(a,i=!1)=>{if(!i)return Number.isInteger(a)?a.toLocaleString():a.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:2});if(a>=1e9){const o=Math.floor(a/1e9*10)/10;return(Number.isInteger(o)?o.toFixed(0):o.toFixed(1))+"B"}if(a>=1e6){const o=Math.floor(a/1e6*10)/10;return(Number.isInteger(o)?o.toFixed(0):o.toFixed(1))+"M"}if(a>=1e3){const o=Math.floor(a/1e3*10)/10;return(Number.isInteger(o)?o.toFixed(0):o.toFixed(1))+"k"}return Number.isInteger(a)?a.toLocaleString():a.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:2})},At=({amount:a,size:i="medium",showIcon:o=!0,style:r,truncate:c=!1,contrast:d=!1,numberStyle:m})=>{const y=(()=>{switch(i){case"small":return{padding:"0.4rem 0.8rem",fontSize:"0.9rem",iconSize:"1rem"};case"large":return{padding:"1rem 1.5rem",fontSize:"1.4rem",iconSize:"1.5rem"};default:return{padding:"0.8rem 1.2rem",fontSize:"1.2rem",iconSize:"1.2rem"}}})();return u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:y.padding,background:"rgba(100, 108, 255, 0.1)",borderRadius:"8px",border:"1px solid var(--primary-color)",...r},children:[o&&u.jsx("span",{style:{fontSize:y.iconSize},children:""}),u.jsx("span",{style:{fontSize:y.fontSize,fontWeight:"600",color:d?"var(--text-color)":"var(--primary-color)",...m},children:kt(a,c)})]})},Wu=()=>{const{mana:a,getMaxMana:i,baseMaxMana:o}=ce(),{schoolLevels:r}=Je(),{getActiveBonusesForStat:c}=He(),d=i?i():_n,m=r.aethermancy||1,p=Math.max(0,(m-1)*5),h=c("maxMana").filter(_=>_.source!=="aethermancy-level"&&!_.source.startsWith("mana-upgrade-")),g=o-_n,v=d;return u.jsxs("div",{className:"mana-tooltip",children:[u.jsxs("div",{className:"mana-tooltip-header",children:[u.jsx("span",{className:"mana-tooltip-icon",role:"img","aria-label":"Mana",children:""}),u.jsx("span",{className:"mana-tooltip-title",children:"Mana"})]}),u.jsxs("div",{className:"mana-tooltip-body",children:[u.jsxs("div",{className:"mana-tooltip-row",children:[u.jsx("span",{className:"mana-tooltip-label",children:"Current Mana:"}),u.jsxs("span",{className:"mana-tooltip-value",children:[kt(a)," / ",kt(d)]})]}),u.jsx("div",{className:"mana-tooltip-row",style:{marginBottom:8},children:u.jsx("span",{className:"mana-tooltip-label",children:"Max Mana Breakdown:"})}),u.jsxs("div",{style:{fontSize:"0.98em",marginLeft:8},children:[u.jsxs("div",{children:["Base: ",u.jsx("b",{children:kt(_n)})]}),u.jsxs("div",{children:["Aethermancy (Level ",m,"): ",u.jsxs("b",{children:["+",kt(p)]})]}),u.jsxs("div",{children:["Shop Upgrades: ",u.jsxs("b",{children:["+",kt(g)]})]}),h.length>0&&u.jsx("div",{style:{marginTop:4,fontWeight:600},children:"Other Bonuses:"}),h.map(_=>u.jsxs("div",{style:{marginLeft:8},children:[_.source&&_.source!=="gear"?`${_.source}: `:"",_.type==="flat_additive"?(_.value>0?"+":"")+kt(_.value):"",_.type==="percentage_additive"?(_.value>0?"+":"")+(_.value*100).toFixed(1)+"%":"",_.type==="percentage_multiplicative"?(_.value>0?"":"")+(1+_.value).toFixed(2):"",_.scope&&_.scope!=="global"?` (${_.scope})`:""]},_.id)),u.jsxs("div",{style:{marginTop:8,fontWeight:600},children:["Total Max Mana: ",u.jsx("span",{style:{color:"var(--mana-color, #007bff)"},children:kt(v)})]})]})]})]})};var bS=s0();const _S=i0(bS),m0=Y.createContext(void 0),SS=({children:a})=>{const[i,o]=Y.useState({visible:!1,content:null,position:{x:0,y:0},anchor:"top-left"}),r=Y.useRef(null),c=(y,h)=>{let x="top-left",T=y+12,M=h+12;if(typeof window<"u"){const I=window.innerWidth-y,E=window.innerHeight-h;I<332&&E<232?(x="bottom-right",T=y-320-12,M=h-220-12):I<332?(x="top-right",T=y-320-12,M=h+12):E<232?(x="bottom-left",T=y+12,M=h-220-12):(x="top-left",T=y+12,M=h+12),T=Math.max(8,Math.min(T,window.innerWidth-320-8)),M=Math.max(8,Math.min(M,window.innerHeight-220-8))}return{x:T,y:M,anchor:x}},d=Y.useCallback((y,h)=>{const{x:g,y:v,anchor:_}=c(h.x,h.y);o({visible:!0,content:y,position:{x:g,y:v},anchor:_})},[]),m=Y.useCallback(y=>{o(h=>{if(!h.visible)return h;const{x:g,y:v,anchor:_}=c(y.x,y.y);return{...h,position:{x:g,y:v},anchor:_}})},[]),p=Y.useCallback(()=>{o(y=>y.visible?{...y,visible:!1}:y)},[]);return u.jsxs(m0.Provider,{value:{showTooltip:d,moveTooltip:m,hideTooltip:p},children:[a,i.visible&&i.content&&_S.createPortal(u.jsx("div",{ref:r,style:{position:"fixed",left:i.position.x,top:i.position.y,zIndex:1e4,maxWidth:320,pointerEvents:"none"},children:i.content}),document.body)]})};function ol(){const a=Y.useContext(m0);if(!a)throw new Error("useTooltip must be used within a TooltipProvider");return a}const rl=({size:a="medium",showIcon:i=!0,style:o,truncate:r=!1,showMaxMana:c=!0,disableFullEffect:d=!1,numberStyle:m})=>{const{mana:p,getMaxMana:y}=ce(),h=y?y():_n,{showTooltip:g,moveTooltip:v,hideTooltip:_}=ol(),T=(()=>{switch(a){case"small":return{padding:"0.4rem 0.8rem",fontSize:"0.9rem",iconSize:"1rem"};case"large":return{padding:"1rem 1.5rem",fontSize:"1.4rem",iconSize:"1.5rem"};default:return{padding:"0.8rem 1.2rem",fontSize:"1.2rem",iconSize:"1.2rem"}}})(),M=p===h&&h>0;return u.jsxs("div",{className:M&&!d?"mana-full-effect":"",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:T.padding,background:"rgba(0, 123, 255, 0.1)",borderRadius:"8px",border:"1px solid var(--mana-color, #007bff)",...o},children:[i&&u.jsx("span",{style:{fontSize:T.iconSize},children:""}),u.jsxs("span",{style:{fontSize:T.fontSize,fontWeight:"600",color:"var(--mana-color, #007bff)",...m},onMouseEnter:I=>g(u.jsx(Wu,{}),{x:I.clientX,y:I.clientY}),onMouseMove:I=>v({x:I.clientX,y:I.clientY}),onMouseLeave:_,children:[kt(p,r),c&&` / ${kt(h,r)}`]})]})},Pr=({tabConfig:a,isActive:i,isTraining:o,isManaFull:r=!1,onClick:c,schoolLevel:d,goldAmount:m,mana:p,maxMana:y,vaultSlotsInfo:h})=>{const g=a.id==="mana",v=a.id==="shop",_=a.id==="vault",x=g&&r?" mana-full-sidebar":"";return u.jsxs("button",{className:`sidebar-tab${i?" active":""}${o?" training":""}${x}`,onClick:c,children:[u.jsx("span",{className:"sidebar-icon",children:a.icon&&(typeof a.icon=="function"?la.createElement(a.icon):a.icon)}),u.jsxs("span",{className:"sidebar-label",children:[a.name&&u.jsx("span",{className:"sidebar-name",children:a.name}),typeof d=="number"&&u.jsxs("span",{style:{marginLeft:"auto",fontSize:"0.95em",color:"var(--text-color)",background:"transparent",border:"none",padding:0,display:"flex",alignItems:"center",minWidth:0},className:"sidebar-level",children:[d,"/99"]}),v&&typeof m=="number"&&u.jsx(At,{amount:m,size:"small",truncate:!0,style:{marginLeft:"auto",fontSize:"0.95em",color:"var(--text-color)",background:"transparent",border:"none",padding:0,display:"flex",alignItems:"center",minWidth:0},numberStyle:{color:"var(--text-color)",fontSize:"0.95em"}}),g&&typeof p=="number"&&typeof y=="number"&&u.jsx(rl,{size:"small",truncate:!0,showIcon:!0,showMaxMana:!0,style:{marginLeft:"auto",fontSize:"0.95em",color:"var(--text-color)",background:"transparent",border:"none",padding:0,display:"flex",alignItems:"center",minWidth:0},disableFullEffect:!0,numberStyle:{color:"var(--text-color)",fontSize:"0.95em"}}),_&&h&&u.jsxs("span",{style:{marginLeft:"auto",fontSize:"0.95em",color:"var(--text-color)",background:"transparent",border:"none",padding:0,display:"flex",alignItems:"center",minWidth:0},className:"sidebar-vault-slots",children:[h.current,"/",h.limit]})]})]},a.id)},xS=()=>{const{activeTab:a,setActiveTab:i}=ya(),{settings:o}=Ce(),{inventoryItems:r,bankSlotLimit:c}=be(),{schoolLevels:d}=Je(),{mana:m,getMaxMana:p}=ce(),{gold:y}=ua(),{activeTraining:h}=rt(),g=Y.useRef(null),v=dS,_=[...mS,...o.debugMode?[fS]:[]],x=[...v,...va,..._],T=typeof p=="function"?p():0,M=m===T&&T>0;return Y.useEffect(()=>{const I=g.current;if(!I)return;const E=R=>{window.innerWidth>700||R.deltaY!==0&&(R.preventDefault(),I.scrollLeft+=R.deltaY)};return I.addEventListener("wheel",E,{passive:!1}),()=>I.removeEventListener("wheel",E)},[]),u.jsxs("nav",{className:"sidebar",children:[u.jsx("div",{className:"sidebar-tabs",ref:g,children:x.map(I=>{const E=va.some(R=>R.id===I.id);return u.jsx(Pr,{tabConfig:I,isActive:a===I.id,isTraining:!!(h!=null&&h.schoolId)&&h.schoolId===I.id,isManaFull:I.id==="mana"?M:void 0,onClick:()=>i(I.id),schoolLevel:E?d[I.id]:void 0,goldAmount:I.id==="shop"?y:void 0,mana:I.id==="mana"?m:void 0,maxMana:I.id==="mana"?T:void 0,vaultSlotsInfo:I.id==="vault"?{current:r.length,limit:c}:void 0},I.id)})}),u.jsxs("div",{className:"sidebar-sections-desktop",children:[u.jsxs("div",{className:"sidebar-section",children:[u.jsx("div",{className:"sidebar-section-header",children:"Main"}),v.map(I=>u.jsx(Pr,{tabConfig:I,isActive:a===I.id,isTraining:!!(h!=null&&h.schoolId)&&h.schoolId===I.id,isManaFull:I.id==="mana"?M:void 0,onClick:()=>i(I.id),goldAmount:I.id==="shop"?y:void 0,mana:I.id==="mana"?m:void 0,maxMana:I.id==="mana"?T:void 0,vaultSlotsInfo:I.id==="vault"?{current:r.length,limit:c}:void 0},I.id))]}),u.jsx("div",{className:"sidebar-divider"}),u.jsxs("div",{className:"sidebar-section",children:[u.jsx("div",{className:"sidebar-section-header",children:"Schools of Magic"}),va.map(I=>u.jsx(Pr,{tabConfig:I,isActive:a===I.id,isTraining:!!(h!=null&&h.schoolId)&&h.schoolId===I.id,onClick:()=>i(I.id),schoolLevel:d[I.id]},I.id))]}),u.jsx("div",{className:"sidebar-divider"}),u.jsxs("div",{className:"sidebar-section",children:[u.jsx("div",{className:"sidebar-section-header",children:"Utilities"}),_.map(I=>u.jsx(Pr,{tabConfig:I,isActive:a===I.id,isTraining:!!(h!=null&&h.schoolId)&&h.schoolId===I.id,onClick:()=>i(I.id)},I.id))]})]})]})},IS=()=>{const{settings:a,toggleDebugMode:i}=Ce(),[o,r]=Y.useState(!1),c=()=>{r(!0)},d=()=>{_t.getState().resetGameToDefaults(),r(!1)},m=()=>{r(!1)};return u.jsxs("div",{className:"content-center",children:[u.jsxs("div",{className:"main-card",children:[u.jsx("h2",{children:"Settings"}),u.jsx("div",{className:"settings-section",children:u.jsx("p",{children:"Adjust general game settings."})})]}),u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{children:"Reset Game"}),u.jsxs("div",{className:"settings-section",children:[u.jsx("p",{style:{marginBottom:"1rem"},children:"This will reset all your game progress, including items, gold, and school levels, to their initial default state. This action cannot be undone."}),u.jsx("button",{onClick:c,style:{padding:"0.8rem 1.5rem",background:"#dc3545",border:"1.5px solid #dc3545",borderRadius:"8px",color:"#fff",cursor:"pointer",transition:"all 0.2s",fontWeight:600,width:"auto",alignSelf:"flex-start"},onMouseEnter:p=>p.currentTarget.style.opacity="0.9",onMouseLeave:p=>p.currentTarget.style.opacity="1",children:"Reset Game to Defaults"})]})]}),o&&u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",style:{maxWidth:520},children:[u.jsx("h2",{style:{color:"#dc3545",textAlign:"center",marginBottom:16},children:"Confirm Reset"}),u.jsxs("div",{style:{marginBottom:24,color:"var(--text-secondary)",fontSize:"1.05rem",textAlign:"center"},children:[u.jsx("p",{style:{marginBottom:8},children:u.jsx("b",{children:"Are you sure you want to reset all progress?"})}),u.jsx("p",{children:"This will erase all your items, gold, and school levels."}),u.jsx("p",{style:{color:"#dc3545",fontWeight:600,marginTop:8},children:"This action cannot be undone."})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"space-between"},children:[u.jsx("button",{onClick:d,style:{padding:"0.8rem 1.5rem",background:"#dc3545",border:"1.5px solid #dc3545",borderRadius:"8px",color:"#fff",cursor:"pointer",fontWeight:600,transition:"all 0.2s",minWidth:120,textAlign:"left"},onMouseEnter:p=>p.currentTarget.style.opacity="0.9",onMouseLeave:p=>p.currentTarget.style.opacity="1",children:"Reset Game"}),u.jsx("button",{onClick:m,style:{padding:"0.8rem 1.5rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:"var(--text-color)",cursor:"pointer",transition:"all 0.2s",minWidth:120,textAlign:"right"},onMouseEnter:p=>p.currentTarget.style.borderColor="var(--primary-color)",onMouseLeave:p=>p.currentTarget.style.borderColor="var(--card-border)",children:"Cancel"})]})]})}),u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{children:"Debug"}),u.jsx("div",{className:"settings-section",children:u.jsxs("label",{className:"setting-item",children:[u.jsx("input",{type:"checkbox",checked:a.debugMode,onChange:i}),u.jsx("span",{children:"Enable Debug Mode"})]})})]})]})},TS=[10,50,100,500,1e3],MS=()=>{const{getMaxMana:a,addMana:i,removeMana:o,setMana:r,setBaseMaxMana:c}=ce(),d=a(),[m,p]=Y.useState(""),[y,h]=Y.useState(d.toString()),g=I=>{p(I)},v=()=>{const I=parseInt(m||"0");I>0&&(i(I,"active"),p(""))},_=()=>{const I=parseInt(m||"0");I>0&&(o(I),p(""))},x=()=>{const I=parseInt(m||"0");I>=0&&(r(I,"active"),p(""))},T=I=>{h(I)},M=()=>{const I=parseInt(y||"0");I>=0&&(c(I),h(I.toString()))};return u.jsxs("div",{className:"debug-tools",children:[u.jsx("div",{className:"debug-school-row",children:u.jsxs("div",{className:"debug-school-controls",children:[u.jsxs("div",{className:"debug-school-level",children:[u.jsx("button",{className:"debug-school-btn",onClick:()=>o(10),children:"-10"}),u.jsx(rl,{size:"small"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>i(10,"active"),children:"+10"})]}),u.jsxs("div",{className:"debug-school-xp",children:[u.jsx("div",{className:"debug-school-xp-presets",children:TS.map(I=>u.jsxs("button",{onClick:()=>i(I,"active"),className:"debug-school-btn debug-school-xp-preset",children:["+",I]},`mana-${I}`))}),u.jsxs("div",{className:"debug-school-xp-custom",children:[u.jsx("input",{type:"number",min:"0",value:m,onChange:I=>g(I.target.value),placeholder:"Custom Mana",className:"debug-school-xp-input"}),u.jsxs("div",{className:"debug-school-xp-buttons",children:[u.jsx("button",{className:"debug-school-btn",onClick:v,children:"Add"}),u.jsx("button",{className:"debug-school-btn",onClick:_,children:"Remove"}),u.jsx("button",{className:"debug-school-btn",onClick:x,children:"Set"})]})]})]})]})}),u.jsx("div",{className:"debug-school-row",style:{marginTop:"1rem"},children:u.jsxs("div",{className:"debug-school-controls",style:{flexDirection:"row",alignItems:"center",gap:"1rem"},children:[u.jsx("span",{style:{color:"var(--text-color)"},children:"Max Mana:"}),u.jsx("input",{type:"number",min:"0",value:y,onChange:I=>T(I.target.value),placeholder:"Set Max Mana",className:"debug-school-input",style:{width:"100px"}}),u.jsx("button",{className:"debug-school-btn",onClick:M,children:"Set Max"})]})}),u.jsx("div",{className:"debug-school-row",style:{marginTop:"1rem"},children:u.jsxs("div",{className:"debug-school-controls",style:{flexDirection:"row",alignItems:"center",gap:"1rem"},children:[u.jsx("span",{style:{color:"var(--text-color)"},children:"Passive Mana/sec:"}),u.jsx(AS,{})]})})]})},AS=()=>{const{getModifiedPassiveManaPerSecond:a}=ce(),{settings:i}=Ce(),[o,r]=Y.useState(""),c=a?a():0,d=y=>{r(y)},m=()=>{const y=parseFloat(o);isNaN(y)||i.debugMode&&console.log("[DebugTools] Set passiveManaPerSecond base value to:",y)},p=y=>{const h=c+y;i.debugMode&&console.log("[DebugTools] Adjusted passiveManaPerSecond base value to:",h)};return u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("button",{className:"debug-school-btn",onClick:()=>p(-1),children:"-1"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>p(-.1),children:"-0.1"}),u.jsx("input",{type:"number",step:"0.1",value:o,onChange:y=>d(y.target.value),style:{width:"70px"}}),u.jsx("button",{className:"debug-school-btn",onClick:m,children:"Set"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>p(.1),children:"+0.1"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>p(1),children:"+1"}),u.jsxs("span",{style:{marginLeft:"1rem",color:"var(--text-color)",fontWeight:500},children:["Base: ",c]})]})},NS=()=>{const{gold:a,addGold:i,removeGold:o,setGold:r}=ua(),[c,d]=Y.useState(""),m=g=>{d(g)},p=()=>{const g=parseInt(c||"0");g>0&&(i(g),d(""))},y=()=>{const g=parseInt(c||"0");g>0&&(o(g),d(""))},h=()=>{const g=parseInt(c||"0");g>=0&&(r(g),d(""))};return u.jsx("div",{className:"debug-tools",children:u.jsx("div",{className:"debug-school-row",children:u.jsxs("div",{className:"debug-school-controls",children:[u.jsxs("div",{className:"debug-school-level",children:[u.jsx("button",{className:"debug-school-btn",onClick:()=>o(100),children:"-100"}),u.jsx(At,{amount:a,size:"small"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>i(100),children:"+100"})]}),u.jsxs("div",{className:"debug-school-xp",children:[u.jsx("div",{className:"debug-school-xp-presets",children:[100,500,1e3,5e3,1e4].map(g=>u.jsxs("button",{onClick:()=>i(g),className:"debug-school-btn debug-school-xp-preset",children:["+",g]},g))}),u.jsxs("div",{className:"debug-school-xp-custom",children:[u.jsx("input",{type:"number",min:"0",value:c,onChange:g=>m(g.target.value),placeholder:"Custom Gold",className:"debug-school-xp-input"}),u.jsxs("div",{className:"debug-school-xp-buttons",children:[u.jsx("button",{className:"debug-school-btn",onClick:p,children:"Add"}),u.jsx("button",{className:"debug-school-btn",onClick:y,children:"Remove"}),u.jsx("button",{className:"debug-school-btn",onClick:h,children:"Set"})]})]})]})]})})})},CS=[{typeId:"health_potion",initialQuantity:10,initialTabId:1},{typeId:"ash",initialQuantity:50,initialTabId:1}];function jS(){CS.forEach(a=>{be.getState().addItemToInventory(a.typeId,a.initialQuantity,a.initialTabId)})}const ES=()=>{const{bankSlotLimit:a,slotsPurchased:i,setBankSlotLimit:o,setSlotsPurchased:r}=be(),[c,d]=Y.useState(a.toString()),[m,p]=Y.useState(i.toString()),y=x=>{d(x)},h=x=>{p(x)},g=()=>{const x=parseInt(c);!isNaN(x)&&x>=0&&o(x)},v=()=>{const x=parseInt(m);!isNaN(x)&&x>=0&&r(x)},_=()=>{o(20),r(0)};return u.jsx("div",{className:"debug-tools",children:u.jsx("div",{className:"debug-school-row",children:u.jsxs("div",{className:"debug-school-controls",style:{flexDirection:"row",gap:"2rem",flexWrap:"wrap"},children:[u.jsxs("div",{className:"debug-school-level",style:{marginTop:0},children:[u.jsx("span",{style:{marginRight:"1rem",color:"var(--text-color)"},children:"Slots Purchased:"}),u.jsx("input",{type:"number",min:"0",value:m,onChange:x=>h(x.target.value),className:"debug-school-input",style:{width:"80px",marginRight:"0.5rem"}}),u.jsx("button",{className:"debug-school-btn",onClick:v,children:"Set"})]}),u.jsxs("div",{className:"debug-school-level",style:{marginTop:0},children:[u.jsx("span",{style:{marginRight:"1rem",color:"var(--text-color)"},children:"Vault Slot Limit:"}),u.jsx("input",{type:"number",min:"0",value:c,onChange:x=>y(x.target.value),className:"debug-school-input",style:{width:"80px",marginRight:"0.5rem"}}),u.jsx("button",{className:"debug-school-btn",onClick:g,children:"Set"})]}),u.jsx("div",{className:"debug-school-level",style:{marginTop:0},children:u.jsx("button",{className:"debug-school-btn",onClick:_,children:"Reset Vault Slot Upgrades"})}),u.jsx("div",{className:"debug-school-level",style:{marginTop:0,alignItems:"center"},children:u.jsx("button",{className:"debug-school-btn",onClick:()=>jS(),children:"Add Mock Items"})})]})})})},f0=({schoolId:a})=>{const{schoolLevels:i,schoolXP:o,getRequiredXP:r}=Je(),c=i[a]||1,d=o[a]||0,m=r(c),p=d/m*100;return u.jsx("div",{className:"xp-progress-container",children:u.jsx("div",{className:"xp-progress-bar",children:u.jsx("div",{className:"xp-progress-fill",style:{width:`${p}%`}})})})},wS=va,DS=[10,50,100,500,1e3,5e3],RS=()=>{const{schoolLevels:a,schoolXP:i,incrementSchoolLevel:o,decrementSchoolLevel:r,setSchoolLevel:c,addSchoolXP:d,removeSchoolXP:m,getRequiredXP:p}=Je(),[y,h]=Y.useState({}),g=(T,M)=>{h(I=>({...I,[T]:M}))},v=T=>{const M=parseInt(y[T]||"0");M>0&&(d(T,M),h(I=>({...I,[T]:""})))},_=T=>{const M=parseInt(y[T]||"0");M>0&&(m(T,M),h(I=>({...I,[T]:""})))},x=T=>{const M=parseInt(y[T]||"0");if(M>=0){const I=i[T]||0;M>I?d(T,M-I):m(T,I-M),h(E=>({...E,[T]:""}))}};return u.jsx("div",{className:"debug-tools",children:u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem",width:"100%",padding:"1rem"},children:wS.map(T=>u.jsxs("div",{style:{background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"12px",padding:"1.2rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.1rem",color:"var(--primary-color)",fontWeight:"600"},children:[u.jsx("span",{style:{fontSize:"1.3rem"},children:typeof T.icon=="function"?u.jsx(T.icon,{}):T.icon}),u.jsx("span",{children:T.name})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center"},children:[u.jsx("button",{className:"debug-school-btn",onClick:()=>r(T.id),style:{width:"40px"},children:"-"}),u.jsx("input",{type:"number",min:1,max:99,value:a[T.id],onChange:M=>c(T.id,Number(M.target.value)),className:"debug-school-input",style:{width:"60px",textAlign:"center"}}),u.jsx("button",{className:"debug-school-btn",onClick:()=>o(T.id),style:{width:"40px"},children:"+"})]}),u.jsx(f0,{schoolId:T.id}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.3rem",justifyContent:"center"},children:DS.map(M=>u.jsxs("button",{onClick:()=>d(T.id,M),className:"debug-school-btn",style:{fontSize:"0.8rem",padding:"0.2rem 0.4rem",flex:"1",minWidth:"60px"},children:["+",M]},M))}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[u.jsx("input",{type:"number",min:"0",value:y[T.id]||"",onChange:M=>g(T.id,M.target.value),placeholder:"Custom XP",className:"debug-school-input",style:{flex:"1",minWidth:"100px"}}),u.jsxs("div",{style:{display:"flex",gap:"0.3rem",flex:"1",minWidth:"200px"},children:[u.jsx("button",{className:"debug-school-btn",onClick:()=>v(T.id),style:{flex:"1"},children:"Add"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>_(T.id),style:{flex:"1"},children:"Remove"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>x(T.id),style:{flex:"1"},children:"Set"})]})]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-color)",opacity:"0.8",textAlign:"center"},children:[i[T.id]||0," / ",p(a[T.id])," XP"]})]})]})]},T.id))})})},wu=24*60*60;function Rg(a){return Math.max(0,(a-1)*5)}function h0(a){var So;const{lastSaveTime:i,currentTime:o,activeTrainingSnapshot:r,currentMana:c,schoolXP:d,schoolLevels:m,masteryXP:p,masteryLevels:y,getRequiredXP:h,getRequiredMasteryXP:g,debugMode:v,inventoryItems:_}=a;if(v&&console.log("[OfflineService] Calculating progress with params:",a),!r){let Qe=function(){const ei=ce.getState().baseMaxMana,Ca=Rg(Be);return He.getState().calculateModifiedStat(ei+Ca,"maxMana")};const je=o-i;let Ke=je/1e3;const nt=Math.min(Ke,wu),it=ce.getState().getModifiedPassiveManaPerSecond();let Be=m.aethermancy||1,Qa=Qe();const $t=Math.floor(it*nt),Wi=Qa-c,zt=Math.max(0,Math.min($t,Wi));return v&&console.log("[OfflineService] No active training snapshot. Passive mana gain:",zt,"Time elapsed (ms):",je),zt>0||je>2e3?{noTraining:!0,xpGained:0,manaGained:zt,completedActions:0,timeElapsedMs:0,initialLevel:0,finalLevel:0,levelsGained:0,itemsGenerated:{},masteryXPGained:0,finalMasteryLevel:0,finalMasteryXP:0,consumedReagents:{},actualOfflineMs:je,trainingDurationMs:0,earlyStopReason:void 0,trainingOptionId:void 0,trainingOptionName:void 0,masteryLevelUp:void 0,passiveManaGained:zt,missedItemsDueToFullVault:{},schoolId:void 0}:null}const x=(So=Sn[r.schoolId])==null?void 0:So.find(Qe=>Qe.id===r.optionId);if(!x)return v&&console.log("[OfflineService] Training option not found for snapshot:",r),null;const T=o-i;if(T<=0)return v&&console.log("[OfflineService] totalOfflineMs <= 0, returning null."),null;const M=Math.min(T/1e3,wu);let I;r.lastKnownSessionEndTime===null?I=Math.max(i,r.lastKnownActionTime):I=Math.max(i,r.lastKnownSessionEndTime);let E=(o-I)/1e3;E<0&&(E=0);const R=Math.min(E,wu),w=He.getState(),O={schoolId:x.schoolId,actionId:x.id},k=w.calculateModifiedStat(x.actionDuration,"actionDuration",O),G=w.calculateModifiedStat(x.xpPerAction,"xpGain",O),X=x.manaCostPerAction!==void 0?w.calculateModifiedStat(x.manaCostPerAction,"manaCost",O):void 0,C=x.manaGeneratedPerAction!==void 0?w.calculateModifiedStat(x.manaGeneratedPerAction,"manaGeneration",O):void 0,V=Math.floor(R/k);let z=0,Z=0,se=0,ie=0,he=c,ue=m.aethermancy||1,q=d.aethermancy||0;({...m},{...d});function Q(){const Qe=ce.getState().baseMaxMana,ma=Rg(ue);return He.getState().calculateModifiedStat(Qe+ma,"maxMana")}let ee=Q();const me={};let N,$;const te=y[x.id]??1;let J=x.id,ae=y[J]??1,ye=p[J]??0,le={..._},W={};const re=be.getState();let ze=re.bankSlotLimit,lt={},Nt=re.inventoryItems.map(Qe=>({typeId:Qe.typeId,quantity:Qe.quantity,maxStack:Qe.maxStack??1}));v&&console.log(`[OfflineService] Simulating offline. Max possible actions: ${V}, Initial Mana: ${he}, CappedTrainingActionSeconds: ${R.toFixed(2)}, EffectiveActionDuration: ${k.toFixed(2)}`);for(let Qe=0;Qe<V;Qe++){if(x.reagentCosts&&x.reagentCosts.length>0){let je=!0;for(const Ke of x.reagentCosts){const nt=le[Ke.itemId]||0;if(nt<Ke.amount){je=!1,v&&console.log(`[OfflineService] Action ${Qe+1}/${V}: Not enough reagent ${Ke.itemId}. Needed: ${Ke.amount}, Available: ${nt}. Stopping.`),N=`Ran out of reagent: ${Ke.itemId}`;break}}if(!je)break;for(const Ke of x.reagentCosts)le[Ke.itemId]-=Ke.amount,W[Ke.itemId]||(W[Ke.itemId]=0),W[Ke.itemId]+=Ke.amount}if(X&&X>0){if(he<X){v&&console.log(`[OfflineService] Action ${Qe+1}/${V}: Ran out of mana. Current: ${he}, Cost: ${X}. Stopping.`),N="Ran out of mana";break}he-=X,ie-=X}z++,Z+=G,se+=1,ye+=1;let ma=g(ae);for(;ye>=ma&&ae<99;)ae+=1,ye-=ma,ma=g(ae);if(ae>=99&&(ye=Math.min(ye,g(98))),x.schoolId==="aethermancy"){q+=G;let je=ue;for(;je<99&&q>=h(je);)q-=h(je),je++;je!==ue&&(ue=je,ee=Q())}if(C&&C>0){const je=Math.min(C,ee-he);he+=je,ie+=je}if(x.itemDrops&&x.itemDrops.length>0)for(const je of x.itemDrops){const Ke=`itemDropAmount_${je.itemId}`,nt=w.calculateModifiedStat(je.amount,Ke,O),it=Ne[je.itemId];if(it){let Be=Math.floor(nt),Qa=0;for(let $t of Nt)if($t.typeId===je.itemId&&$t.quantity<it.maxStack){const Wi=it.maxStack-$t.quantity,zt=Math.min(Be,Wi);if($t.quantity+=zt,Be-=zt,Qa+=zt,Be<=0)break}for(;Be>0;){if(Nt.length>=ze){lt[je.itemId]||(lt[je.itemId]={quantity:0,name:it.name,icon:it.icon}),lt[je.itemId].quantity+=Be,Be=0;break}const $t=Math.min(Be,it.maxStack);Nt.push({typeId:je.itemId,quantity:$t,maxStack:it.maxStack}),Qa+=$t,Be-=$t}Qa>0&&(me[je.itemId]||(me[je.itemId]={quantity:0,name:it.name,icon:it.icon}),me[je.itemId].quantity+=Qa)}}v&&(Qe%10===0||Qe===V-1)&&console.log(`[OfflineService] Action ${Qe+1}: XP +${G.toFixed(2)}, Mana now: ${he.toFixed(2)}, Items: ${JSON.stringify(me)}`)}if(z===0)return v&&console.log("[OfflineService] No actions completed offline (e.g., due to immediate lack of mana or reagents)."),null;const qt=z*k*1e3,_e=T,De=ce.getState().getModifiedPassiveManaPerSecond(),dt=Math.floor(De*M),Ct=Q()-he,Na=Math.max(0,Math.min(dt,Ct));he+=Na;const Wn=ie+Na,Jn=Na<dt;if(v&&Na>0&&console.log(`[OfflineService] Passive mana gained during offline: ${Na} (rate: ${De}/s for ${M} seconds, manaRoom: ${Ct}, poolFilled: ${Jn})`),!N&&z<V&&qt<R*1e3-2e3&&(N="Training ended before you returned (reason unknown)"),ae>te&&($={from:te,to:ae}),N&&N.startsWith("Ran out of reagent: ")){const Qe=N.replace("Ran out of reagent: ",""),ma=Ne[Qe];ma&&(N=`Ran out of reagent: ${ma.name}`)}return v&&console.log("[OfflineService] Final Offline Report:",{schoolId:r.schoolId,totalXpGained:Z,totalMasteryXPGained:se,finalManaChange:Wn,completedActions:z,itemsGenerated:me,levelsGainedCount:z,masteryLevel:ae,masteryXPValue:ye,totalConsumedReagents:W,trainingDurationMs:qt,actualOfflineMs:_e,earlyStopReason:N,passiveManaGained:Na,manaPoolFilled:Jn,missedItemsDueToFullVault:lt}),z>0||Z>0||Wn!==0||Object.keys(me).length>0||T>2e3?{schoolId:r.schoolId,xpGained:Z,manaGained:Wn,completedActions:z,timeElapsedMs:T,initialLevel:m[r.schoolId]||1,finalLevel:ae,levelsGained:z,itemsGenerated:me,masteryXPGained:se,finalMasteryLevel:ae,finalMasteryXP:ye,consumedReagents:W,actualOfflineMs:T,trainingDurationMs:qt,earlyStopReason:N,trainingOptionId:x.id,trainingOptionName:x.name,masteryLevelUp:$,passiveManaGained:Na,missedItemsDueToFullVault:lt,manaPoolFilled:Jn}:null}function p0(a,i){const o=Ce.getState().settings,{addSchoolXP:r}=Je.getState(),{addMana:c,removeMana:d}=ce.getState(),{activeTraining:m}=rt.getState();if(o.debugMode&&console.log("[OfflineService] Applying report to stores:",a),a.xpGained>0&&r(a.schoolId,a.xpGained,!0),a.masteryXPGained&&m){const p=m.optionId;Je.setState(y=>({masteryLevels:{...y.masteryLevels,[p]:a.finalMasteryLevel??y.masteryLevels[p]??1},masteryXP:{...y.masteryXP,[p]:a.finalMasteryXP??y.masteryXP[p]??0}})),o.debugMode&&console.log(`[OfflineService] Set mastery level for ${p} to ${a.finalMasteryLevel}, XP to ${a.finalMasteryXP}`)}if(a.manaGained>0?c(a.manaGained,"active"):a.manaGained<0&&d(Math.abs(a.manaGained)),a.itemsGenerated)for(const p in a.itemsGenerated){const y=a.itemsGenerated[p];y.quantity>0&&(be.getState().addItemToInventory(p,y.quantity),o.debugMode&&console.log(`[OfflineService] Added ${y.quantity} of ${p} from offline progress.`))}if(a.consumedReagents)for(const p in a.consumedReagents){const y=a.consumedReagents[p];y>0&&(be.getState().removeItemFromInventory(p,y),o.debugMode&&console.log(`[OfflineService] Removed ${y} of ${p} as consumed reagent from offline progress.`))}m&&a.trainingOptionId&&m.optionId===a.trainingOptionId?(rt.setState({activeTraining:{...m,lastActionTime:i,lastSessionEndTime:i,completedActions:0}}),o.debugMode&&console.log(`[OfflineService] Updated trainingStore lastActionTime and lastSessionEndTime to: ${new Date(i).toISOString()} for optionId: ${m.optionId}`)):m&&o.debugMode&&console.warn("[OfflineService] Warning: Mismatch between report.trainingOptionId and activeTraining.optionId.",{reportTrainingOptionId:a.trainingOptionId,activeTrainingOptionId:m.optionId,report:a,activeTraining:m})}function Pg(){const{activeTraining:a}=rt.getState(),i=Ce.getState().settings;if(a){const o=Date.now();rt.setState({activeTraining:{...a,lastActionTime:o}}),i.debugMode&&console.log("[OfflineService] Prepared training state for offline. lastActionTime set to:",new Date(o).toISOString())}}function Du(a){let i=Math.floor(a/1e3);const o=Math.floor(i/86400);i-=o*86400;const r=Math.floor(i/3600);i-=r*3600;const c=Math.floor(i/60);i-=c*60;const d=[];return o>0&&d.push(`${o} day${o===1?"":"s"}`),(r>0||d.length>0)&&d.push(`${r} hour${r===1?"":"s"}`),(c>0||d.length>0)&&d.push(`${c} minute${c===1?"":"s"}`),d.push(`${i} second${i===1?"":"s"}`),d.join(", ")}const PS=Object.fromEntries(va.map(a=>[a.id,a])),g0=({report:a,onClose:i})=>{var r;if(!a)return null;const o=((r=PS[a.schoolId])==null?void 0:r.name)||a.schoolId;return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content offline-progress-popup",children:[u.jsx("h2",{children:"Offline Progress"}),u.jsxs("div",{className:"offline-progress-details",children:[a.actualOfflineMs&&a.trainingDurationMs&&a.actualOfflineMs!==a.trainingDurationMs?u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:["You were offline for ",Du(a.actualOfflineMs),"."]}),u.jsxs("p",{children:["Training ran for ",Du(a.trainingDurationMs)," while you were away."]})]}):u.jsxs("p",{children:["You were offline for ",Du(a.timeElapsedMs),"."]}),a.noTraining?u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"No training was active while you were away, so no progress was made."}),a.passiveManaGained!==void 0&&a.passiveManaGained>0&&u.jsxs("p",{style:{color:"#00bfff",marginLeft:"1.5em"},children:["You gained ",a.passiveManaGained.toLocaleString()," Mana from passive mana generation."]})]}):u.jsxs(u.Fragment,{children:[a.xpGained>0&&u.jsxs("p",{children:["You gained ",a.xpGained.toLocaleString()," XP in ",o,"."]}),a.masteryXPGained&&a.masteryXPGained>0&&u.jsxs("p",{children:["You gained ",a.masteryXPGained.toLocaleString()," Mastery XP",a.trainingOptionName?` in ${a.trainingOptionName}`:"",".",a.masteryLevelUp&&a.trainingOptionName&&u.jsxs(u.Fragment,{children:[u.jsx("br",{}),a.trainingOptionName," reached Mastery Level ",a.masteryLevelUp.to,"! (Advanced ",a.masteryLevelUp.to-a.masteryLevelUp.from," levels)"]})]}),a.manaGained>0&&u.jsxs(u.Fragment,{children:[u.jsxs("p",{children:["You gained ",a.manaGained.toLocaleString()," Mana."]}),a.passiveManaGained!==void 0&&a.passiveManaGained>0&&u.jsxs("p",{style:{fontSize:"0.98em",color:"#00bfff",margin:0,marginLeft:"1.5em"},children:["(Of which ",a.passiveManaGained.toLocaleString()," was from passive mana generation)"]})]}),a.manaPoolFilled&&u.jsx("p",{style:{color:"#00bfff",fontWeight:600},children:"Your mana pool filled up during offline progress!"}),a.levelsGained>0&&u.jsxs("p",{className:"level-up",children:[o," reached level ",a.finalLevel,"! (Advanced ",a.levelsGained," level",a.levelsGained===1?"":"s",")"]}),a.completedActions>0&&a.xpGained===0&&a.manaGained===0&&u.jsxs("p",{children:["You completed ",a.completedActions," actions in ",o," but gained no rewards (perhaps you were already at max level or mana)."]}),a.xpGained===0&&a.manaGained===0&&a.levelsGained===0&&u.jsx("p",{children:"No significant progress was made while you were away."}),a.itemsGenerated&&Object.keys(a.itemsGenerated).length>0&&u.jsxs(u.Fragment,{children:[u.jsx("p",{style:{marginTop:"16px",fontWeight:"bold"},children:"Items Found:"}),Object.entries(a.itemsGenerated).map(([c,d])=>d.quantity>0&&u.jsxs("p",{style:{display:"flex",alignItems:"center",gap:"0.5em"},children:[u.jsx("span",{style:{fontSize:"1.2em"},children:d.icon||""}),u.jsxs("span",{children:[d.name,": +",d.quantity.toLocaleString()]})]},c))]}),a.missedItemsDueToFullVault&&Object.keys(a.missedItemsDueToFullVault).length>0&&u.jsxs(u.Fragment,{children:[u.jsx("p",{style:{marginTop:"16px",fontWeight:"bold",color:"#ff9800"},children:"Missed Items (Vault Full):"}),u.jsx("p",{style:{marginLeft:"1.5em",color:"#ff9800"},children:"Your vault was full, so you could not collect these items:"}),Object.entries(a.missedItemsDueToFullVault).map(([c,d])=>d.quantity>0&&u.jsxs("p",{style:{display:"flex",alignItems:"center",gap:"0.5em",marginLeft:"2em"},children:[u.jsx("span",{style:{fontSize:"1.2em"},children:d.icon||""}),u.jsxs("span",{children:[d.name,": ",u.jsxs("span",{style:{color:"#ff9800"},children:["+",d.quantity.toLocaleString()]})]})]},c))]}),a.appliedBonuses&&a.appliedBonuses.length>0&&u.jsxs("div",{style:{marginTop:"16px"},children:[u.jsx("p",{style:{fontWeight:"bold"},children:"Gear Bonuses Applied During Offline Progress:"}),u.jsx("ul",{style:{marginLeft:"1em"},children:a.appliedBonuses.map((c,d)=>u.jsx("li",{children:C_(c)},c.id||d))})]}),a.earlyStopReason&&u.jsxs("p",{style:{color:"#ff9800",fontWeight:600,marginTop:12},children:["Training ended early: ",a.earlyStopReason]})]})]}),u.jsx("button",{className:"continue-button",onClick:i,children:"Continue"})]})})},US=[{label:"1 min",ms:60*1e3},{label:"10 min",ms:10*60*1e3},{label:"1 hour",ms:60*60*1e3},{label:"8 hours",ms:8*60*60*1e3},{label:"24 hours",ms:24*60*60*1e3}],OS=()=>{const[a,i]=Y.useState(""),[o,r]=Y.useState(null),[c,d]=Y.useState(!1),m=rt.getState(),p=ce.getState(),y=Je.getState(),h=be.getState(),g=_=>{const x=Date.now(),T=x-_,M=m.activeTraining;if(!M){const O=p.getModifiedPassiveManaPerSecond(),k=p.getMaxMana(),G=p.mana,X=Math.floor(O*(_/1e3)),C=k-G,V=Math.max(0,Math.min(X,C));V>0&&p.addMana(V,"passive"),r({schoolId:"",xpGained:0,manaGained:V,passiveManaGained:V,completedActions:0,timeElapsedMs:_,initialLevel:0,finalLevel:0,levelsGained:0,itemsGenerated:{},noTraining:!0}),d(!0);return}const I={optionId:M.optionId,schoolId:M.schoolId,startTime:M.startTime,lastKnownActionTime:M.lastActionTime,lastKnownSessionEndTime:M.lastSessionEndTime},E={};for(const O of h.inventoryItems)E[O.typeId]||(E[O.typeId]=0),E[O.typeId]+=O.quantity;const R={lastSaveTime:T,currentTime:x,activeTrainingSnapshot:I,trainingOptions:Sn,currentMana:p.mana,maxMana:p.getMaxMana(),schoolXP:y.schoolXP,schoolLevels:y.schoolLevels,masteryXP:y.masteryXP,masteryLevels:y.masteryLevels,getRequiredXP:y.getRequiredXP,getRequiredMasteryXP:y.getRequiredMasteryXP,debugMode:!0,inventoryItems:E},w=h0(R);w?(p0(w,x),r(w),d(!0)):(r({schoolId:M.schoolId,xpGained:0,manaGained:0,completedActions:0,timeElapsedMs:_,initialLevel:y.schoolLevels[M.schoolId]||1,finalLevel:y.schoolLevels[M.schoolId]||1,levelsGained:0,itemsGenerated:{},noTraining:!1}),d(!0))},v=_=>{_.preventDefault();const x=parseInt(a||"0");x>0&&(g(x*60*1e3),i(""))};return u.jsxs("div",{className:"debug-tools",children:[u.jsx("div",{className:"debug-school-row",children:u.jsx("div",{className:"debug-school-controls",children:u.jsxs("div",{className:"debug-school-xp",children:[u.jsx("div",{className:"debug-school-xp-presets",children:US.map(_=>u.jsxs("button",{className:"debug-school-btn debug-school-xp-preset",onClick:()=>g(_.ms),children:["Simulate ",_.label]},_.label))}),u.jsxs("form",{className:"debug-school-xp-custom",onSubmit:v,children:[u.jsx("input",{type:"number",min:1,value:a,onChange:_=>i(_.target.value),placeholder:"Custom (min)",className:"debug-school-xp-input"}),u.jsx("div",{className:"debug-school-xp-buttons",children:u.jsx("button",{className:"debug-school-btn",type:"submit",children:"Simulate"})})]})]})})}),c&&o&&u.jsx(g0,{report:o,onClose:()=>d(!1)})]})},kS=()=>{const{inventoryItems:a,setInventoryItems:i}=be(),[o,r]=Y.useState({}),c=(p,y)=>{r(h=>({...h,[p]:y}))},d=p=>{parseInt(o[p]||"1")>0&&r(h=>({...h,[p]:""}))},m=p=>{const y=parseInt(o[p]||"1");if(y>0){const h=a.find(g=>g.typeId===p);if(h)if(h.quantity<=y)i(a.filter(g=>g.typeId!==p));else{const g=a.map(v=>v.typeId===p?{...v,quantity:v.quantity-y}:v);i(g)}r(g=>({...g,[p]:""}))}};return u.jsx("div",{className:"debug-tools",children:u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem",width:"100%",padding:"1rem"},children:Object.entries(Ne).map(([p,y])=>{var h;return u.jsxs("div",{style:{background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"12px",padding:"1.2rem",display:"flex",flexDirection:"column",gap:"0.8rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.1rem",color:"var(--primary-color)",fontWeight:"600"},children:[u.jsx("span",{style:{fontSize:"1.3rem"},children:typeof y.icon=="string"&&(y.icon.startsWith("icons/")||/\.(png|jpg|jpeg|gif|svg)$/.test(y.icon))?"":y.icon}),u.jsx("span",{children:y.name})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flexWrap:"wrap"},children:[u.jsx("input",{type:"number",min:"1",value:o[p]||"",onChange:g=>c(p,g.target.value),placeholder:"Quantity",className:"debug-school-input",style:{width:"80px"}}),u.jsx("button",{className:"debug-school-btn",onClick:()=>d(p),style:{flex:"1"},children:"Add"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>m(p),style:{flex:"1"},children:"Remove"})]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-color)",opacity:"0.8",textAlign:"right"},children:["Current: ",((h=a.find(g=>g.typeId===p))==null?void 0:h.quantity)||0]})]})]},p)})})})},LS=[10,50,100,500,1e3,5e3],Ug="debugtools_mastery_expandedSchools",VS=()=>{const{masteryLevels:a,masteryXP:i,addMasteryXP:o,getRequiredMasteryXP:r,setMasteryLevel:c,setMasteryXP:d}=Je(),[m,p]=Y.useState({}),[y,h]=Y.useState(()=>{try{const R=localStorage.getItem(Ug);if(R)return JSON.parse(R)}catch{}const E={};return Object.keys($n).forEach(R=>{E[R]=!1}),E});Y.useEffect(()=>{localStorage.setItem(Ug,JSON.stringify(y))},[y]);const g=(E,R)=>{p(w=>({...w,[E]:R}))},v=E=>{const R=parseInt(m[E]||"0");R>0&&(o(E,R),p(w=>({...w,[E]:""})))},_=E=>{const R=parseInt(m[E]||"0");R>0&&(o(E,-R),p(w=>({...w,[E]:""})))},x=E=>{const R=parseInt(m[E]||"0");R>=0&&d&&(d(E,R),p(w=>({...w,[E]:""})))},T=E=>{c&&c(E,(a[E]||1)+1)},M=E=>{c&&c(E,Math.max(1,(a[E]||1)-1))},I=E=>{h(R=>({...R,[E]:!R[E]}))};return u.jsx("div",{className:"debug-tools",children:u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(340px, 1fr))",gap:"1rem",width:"100%",padding:"1rem"},children:Object.entries($n).map(([E,R])=>u.jsxs("div",{style:{background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"12px",padding:"1.2rem",display:"flex",flexDirection:"column",gap:"1.2rem",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1.1rem",color:"var(--primary-color)",fontWeight:"600",justifyContent:"space-between"},children:[u.jsx("span",{style:{fontSize:"1.3rem"},children:E.charAt(0).toUpperCase()+E.slice(1)}),u.jsx("button",{onClick:()=>I(E),"aria-expanded":y[E],style:{marginLeft:"0.5rem",fontSize:"1rem",padding:"0.3em 0.9em",borderRadius:"6px",border:"1px solid var(--primary-color)",background:y[E]?"var(--primary-color)":"var(--card-bg)",color:y[E]?"#fff":"var(--primary-color)",cursor:"pointer",fontWeight:600,outline:"none",transition:"background 0.2s, color 0.2s"},children:y[E]?"Hide":"Show"})]}),y[E]&&u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:R.map(w=>{const O=a[w.id]||1,k=i[w.id]||0,G=r(O);return u.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1.5px solid var(--card-border)",borderRadius:"8px",padding:"0.7rem 0.8rem",marginBottom:"0.7rem",boxShadow:"0 1px 4px rgba(0,0,0,0.04)",display:"flex",flexDirection:"column",gap:"0.3rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.7rem",justifyContent:"space-between"},children:[u.jsx("span",{style:{fontWeight:500},children:w.name}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("button",{className:"debug-school-btn",onClick:()=>M(w.id),style:{width:28},children:"-"}),u.jsx("input",{type:"number",min:1,value:O,onChange:X=>c&&c(w.id,Number(X.target.value)),className:"debug-school-input",style:{width:40,textAlign:"center"}}),u.jsx("button",{className:"debug-school-btn",onClick:()=>T(w.id),style:{width:28},children:"+"})]})]}),u.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.7rem",fontSize:"0.95rem",color:"var(--text-color)",opacity:.85},children:u.jsxs("span",{children:["XP: ",k," / ",G]})}),u.jsx("div",{style:{display:"flex",gap:"0.3rem",flexWrap:"wrap",alignItems:"center"},children:LS.map(X=>u.jsxs("button",{onClick:()=>o(w.id,X),className:"debug-school-btn",style:{fontSize:"0.8rem",padding:"0.2rem 0.4rem",minWidth:"48px"},children:["+",X]},X))}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",alignItems:"center",marginTop:2},children:[u.jsx("input",{type:"number",min:"0",value:m[w.id]||"",onChange:X=>g(w.id,X.target.value),placeholder:"Custom XP",className:"debug-school-input",style:{width:"90px"}}),u.jsx("button",{className:"debug-school-btn",onClick:()=>v(w.id),style:{flex:"1"},children:"Add"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>_(w.id),style:{flex:"1"},children:"Remove"}),u.jsx("button",{className:"debug-school-btn",onClick:()=>x(w.id),style:{flex:"1"},children:"Set"})]})]},w.id)})})]},E))})})},Bn=({title:a,storageKey:i,children:o,style:r})=>{const[c,d]=Y.useState(()=>localStorage.getItem(i)==="true");Y.useEffect(()=>{localStorage.setItem(i,c.toString())},[c,i]);const m=Y.useCallback(()=>d(p=>!p),[]);return u.jsxs("div",{className:"main-card",style:r,children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",width:"100%",userSelect:"none"},children:[u.jsx("h3",{style:{flex:1,margin:0},children:a}),u.jsx("button",{onClick:m,"aria-expanded":c,"aria-controls":i+"-content",style:{marginLeft:"0.5rem",fontSize:"1rem",padding:"0.4em 1em",borderRadius:"6px",border:"1px solid var(--primary-color)",background:c?"var(--primary-color)":"var(--card-bg)",color:c?"#fff":"var(--primary-color)",cursor:"pointer",fontWeight:600,outline:"none",transition:"background 0.2s, color 0.2s"},children:c?"Hide":"Show"})]}),c&&u.jsx("div",{id:i+"-content",style:{marginTop:"1.2rem",width:"100%"},children:o})]})},qS=()=>u.jsxs("div",{className:"content-center",children:[u.jsx("div",{className:"main-card",children:u.jsx("h2",{children:"Debug Tools"})}),u.jsx(Bn,{title:"Offline Progress Debug Tools",storageKey:"debugtools_offlineprogress",style:{marginTop:"2rem"},children:u.jsx(OS,{})}),u.jsx(Bn,{title:"Mana Debug Tools",storageKey:"debugtools_mana",style:{marginTop:"2rem"},children:u.jsx(MS,{})}),u.jsx(Bn,{title:"Gold Debug Tools",storageKey:"debugtools_gold",style:{marginTop:"2rem"},children:u.jsx(NS,{})}),u.jsx(Bn,{title:"Vault Debug Tools",storageKey:"debugtools_vault",style:{marginTop:"2rem"},children:u.jsx(ES,{})}),u.jsx(Bn,{title:"Item Debug Tools",storageKey:"debugtools_item",style:{marginTop:"2rem"},children:u.jsx(kS,{})}),u.jsx(Bn,{title:"Level And XP Debug Tools",storageKey:"debugtools_school",style:{marginTop:"2rem"},children:u.jsx(RS,{})}),u.jsx(Bn,{title:"Mastery Debug Tools",storageKey:"debugtools_mastery",style:{marginTop:"2rem"},children:u.jsx(VS,{})})]});function zS(a){const[i,o]=Y.useState(1),[r,c]=Y.useState("name"),[d,m]=Y.useState(null),[p,y]=Y.useState(""),[h,g]=Y.useState(""),[v,_]=Y.useState(!1),[x,T]=Y.useState(1),[M,I]=Y.useState(!1),[E,R]=Y.useState(!1),[w,O]=Y.useState(null);Y.useEffect(()=>{T(1)},[i,r,p,h,a]);function k(V){m(V)}function G(){m(null)}function X(V){O(V),R(!0)}function C(){O(null),R(!1)}return{activeTab:i,setActiveTab:o,selectedItem:d,setSelectedItem:m,searchQuery:p,setSearchQuery:y,selectedCategory:h,setSelectedCategory:g,sortBy:r,setSortBy:c,includeLockedInSort:v,setIncludeLockedInSort:_,currentPage:x,setCurrentPage:T,isSellMode:M,setIsSellMode:I,showQuantitySelector:E,setShowQuantitySelector:R,selectedItemForSell:w,setSelectedItemForSell:O,openItemDetails:k,closeItemDetails:G,openSellQuantityModal:X,closeSellQuantityModal:C}}function BS({activeTab:a,sortBy:i,searchQuery:o,selectedCategory:r,includeLockedInSort:c}){const{inventoryItems:d,setInventoryItems:m,bankSlotLimit:p,purchaseBankSlot:y,getNextSlotCost:h}=be(),{gold:g,addGold:v}=ua(),{addVaultSlotNotification:_}=Le(),x=Y.useMemo(()=>Array.from(new Set(d.map(X=>X.category))),[d]),T=Y.useMemo(()=>{const X=d.filter(ie=>{const he=ie.tabId===a,ue=ie.name.toLowerCase().includes(o.toLowerCase()),q=!r||ie.category===r;return he&&ue&&q}),C=X.filter(ie=>!ie.isLocked),V=X.filter(ie=>ie.isLocked),z=(ie,he)=>{switch(i){case"name":return ie.name.localeCompare(he.name);case"quantity":return he.quantity-ie.quantity;case"quantity-asc":return ie.quantity-he.quantity;case"value-desc":return(he.value??0)-(ie.value??0);case"value-asc":return(ie.value??0)-(he.value??0);case"stackValue-desc":{const ue=(ie.value??0)*ie.quantity;return(he.value??0)*he.quantity-ue}case"stackValue-asc":{const ue=(ie.value??0)*ie.quantity,q=(he.value??0)*he.quantity;return ue-q}case"category":return ie.category.localeCompare(he.category);default:return 0}},Z=C.sort(z),se=c?V.sort(z):V;return[...Z,...se]},[a,i,o,r,d,c]),M=X=>{const C=d.map(V=>V.id===X?{...V,isLocked:!V.isLocked}:V);m(C)},I=(X,C)=>{const V=d.find(se=>se.id===X);if(!V)return"Item not found";if(C<=0||C>V.quantity)return`Invalid quantity: ${C}`;const z=V.value?V.value*C:0;v(z);const Z=d.map(se=>{if(se.id===X){const ie=se.quantity-C;return ie>0?{...se,quantity:ie}:null}return se}).filter(Boolean);return m(Z),z},E=(X,C)=>{const V=d.map(z=>z.id===X?{...z,tabId:C}:z);m(V)},R=d.length,w=R>=p,O=h(),k=g>=O;return{inventoryItems:d,filteredAndSortedItems:T,uniqueCategories:x,handleToggleLock:M,handleSellItem:I,handleMoveToTab:E,handlePurchaseSlot:()=>{k&&!w&&y()&&(_==null||_())},bankSlotLimit:p,totalItemsCount:R,hasReachedLimit:w,nextSlotCost:O,canAffordNextSlot:k}}const Og=Array.from({length:12},(a,i)=>({id:i+1,name:`Tab ${i+1}`})),Ru=30,YS=({gold:a})=>u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Vault"}),u.jsx("p",{children:"This is where your magical items and resources are stored."})]}),u.jsx(At,{amount:a})]}),GS=({totalItems:a,bankSlotLimit:i,hasReachedLimit:o,canAffordNextSlot:r,nextSlotCost:c,onPurchaseSlot:d})=>u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"Inventory Overview"}),o&&u.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem 1.5rem",background:"rgba(255, 0, 0, 0.1)",border:"1px solid rgba(255, 0, 0, 0.3)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"1rem",justifyContent:"space-between"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-color)"},children:[u.jsx("span",{style:{fontSize:"1.5rem"},children:""}),u.jsx("span",{children:"Inventory Full  Purchase more slots to collect items"})]}),u.jsxs("button",{onClick:d,disabled:!r,style:{padding:"0.5rem 1rem",background:r?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:r?"#fff":"var(--text-color)",cursor:r?"pointer":"not-allowed",opacity:r?"1":"0.5",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:m=>{r&&(m.currentTarget.style.opacity="0.9")},onMouseLeave:m=>{r&&(m.currentTarget.style.opacity="1")},children:["Purchase Slot",u.jsx(At,{amount:c,size:"small",style:{background:"transparent",border:"none",padding:0},contrast:!0})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",padding:"0.5rem 0",gap:"1rem"},children:[u.jsx("div",{style:{flex:1,background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",padding:"0.8rem 1.2rem"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("span",{style:{fontSize:"1.2rem",color:o?"#ffc107":"var(--primary-color)"},children:""}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.2rem",flex:1},children:[u.jsxs("span",{style:{color:"var(--text-color)",fontSize:"0.95rem"},children:["Vault Slots: ",a," / ",i]}),u.jsx("div",{style:{width:"100%",height:"4px",background:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:"2px",overflow:"hidden"},children:u.jsx("div",{style:{width:`${(i>0?a/i:0)*100}%`,height:"100%",background:o?"#ffc107":"var(--primary-color)",transition:"width 0.3s ease"}})})]})]})}),!o&&u.jsxs("button",{onClick:d,disabled:!r,style:{padding:"0.5rem 1rem",background:r?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:r?"#fff":"var(--text-color)",cursor:r?"pointer":"not-allowed",opacity:r?"1":"0.5",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",whiteSpace:"nowrap"},onMouseEnter:m=>{r&&(m.currentTarget.style.opacity="0.9")},onMouseLeave:m=>{r&&(m.currentTarget.style.opacity="1")},children:["Purchase Slot",u.jsx(At,{amount:c,size:"small",style:{background:"transparent",border:"none",padding:0},contrast:!0})]})]})]}),HS=({tabs:a,activeTab:i,onTabClick:o})=>u.jsx("div",{style:{width:"100%",overflowX:"auto",marginBottom:"1.5rem",paddingBottom:"0.5rem"},children:u.jsx("div",{style:{display:"flex",gap:"0.5rem",minWidth:"min-content"},children:a.map(r=>u.jsx("button",{onClick:()=>o(r.id),style:{padding:"0.5rem 1rem",background:i===r.id?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid",borderColor:i===r.id?"var(--primary-color)":"var(--card-border)",borderRadius:"8px",color:i===r.id?"#fff":"var(--text-color)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"600",whiteSpace:"nowrap",transition:"all 0.2s ease",minWidth:"100px",textAlign:"center"},onMouseEnter:c=>{i!==r.id&&(c.currentTarget.style.background="var(--sidebar-bg)",c.currentTarget.style.borderColor="var(--primary-color)")},onMouseLeave:c=>{i!==r.id&&(c.currentTarget.style.background="var(--card-bg)",c.currentTarget.style.borderColor="var(--card-border)")},children:r.name},r.id))})}),FS=({searchQuery:a,onSearchQueryChange:i,selectedCategory:o,onSelectedCategoryChange:r,uniqueCategories:c,sortBy:d,onSortByChange:m})=>u.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[u.jsx("div",{style:{flex:1,position:"relative"},children:u.jsx("input",{type:"text",value:a,onChange:p=>i(p.target.value),placeholder:"Search items...",style:{width:"100%",padding:"0.8rem 1rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:"var(--text-color)",fontSize:"0.95rem",transition:"all 0.2s"},onFocus:p=>{p.target.style.borderColor="var(--primary-color)"},onBlur:p=>{p.target.style.borderColor="var(--card-border)"}})}),u.jsxs("div",{style:{display:"flex",gap:"1rem",minWidth:"420px"},children:[u.jsxs("div",{style:{position:"relative",minWidth:"200px"},children:[u.jsxs("select",{value:o,onChange:p=>r(p.target.value),style:{width:"100%",padding:"0.8rem 2.5rem 0.8rem 1rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:"var(--text-color)",fontSize:"0.95rem",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[u.jsx("option",{value:"",children:"All Categories"}),c.map(p=>u.jsx("option",{value:p,children:p},p))]}),u.jsx("div",{style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"var(--text-color)",opacity:"0.7"},children:""})]}),u.jsxs("div",{style:{position:"relative",minWidth:"200px"},children:[u.jsxs("select",{value:d,onChange:p=>m(p.target.value),style:{width:"100%",padding:"0.8rem 2.5rem 0.8rem 1rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:"var(--text-color)",fontSize:"0.95rem",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[u.jsx("option",{value:"name",children:"Sort by: Name (A-Z)"}),u.jsx("option",{value:"quantity",children:"Sort by: Quantity (High-Low)"}),u.jsx("option",{value:"quantity-asc",children:"Sort by: Quantity (Low-High)"}),u.jsx("option",{value:"value-desc",children:"Sort by: Value (High-Low)"}),u.jsx("option",{value:"value-asc",children:"Sort by: Value (Low-High)"}),u.jsx("option",{value:"stackValue-desc",children:"Sort by: Stack Value (High-Low)"}),u.jsx("option",{value:"stackValue-asc",children:"Sort by: Stack Value (Low-High)"}),u.jsx("option",{value:"category",children:"Sort by: Category"})]}),u.jsx("div",{style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:"var(--text-color)",opacity:"0.7"},children:""})]})]})]}),XS=({includeLockedInSort:a,onIncludeLockedInSortChange:i,isSellMode:o,onToggleSellMode:r})=>u.jsx("div",{style:{marginBottom:"1rem"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-color)",fontSize:"0.95rem",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:a,onChange:c=>i(c.target.checked),style:{width:"1rem",height:"1rem",cursor:"pointer"}}),"Include locked items in sort"]}),u.jsxs("button",{onClick:r,style:{padding:"0.5rem 1rem",background:o?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:o?"#fff":"var(--text-color)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:c=>{o||(c.currentTarget.style.borderColor="var(--primary-color)")},onMouseLeave:c=>{o||(c.currentTarget.style.borderColor="var(--card-border)")},children:[o?"Exit Sell Mode":"Enter Sell Mode",o&&""]})]})}),QS=a=>a.replace(/([A-Z])/g," $1").replace(/^./,i=>i.toUpperCase()),KS=(a,i)=>{var o;switch(a){case"SCHOOL":return`${i} School`;case"ACTION":return`${i} Action`;default:return((o=i==null?void 0:i.toString)==null?void 0:o.call(i))??""}},Ju=({typeId:a,quantity:i})=>{const{equippedItems:o}=Zn(),{inventoryItems:r,getInventoryAmount:c}=be(),d=Ne[a],m=d.isGear===!0,p=r.find(v=>v.typeId===a)||{name:(d==null?void 0:d.name)||"",icon:(d==null?void 0:d.icon)||"",quantity:i??(c==null?void 0:c(a))??0,category:(d==null?void 0:d.category)||"",subcategory:d==null?void 0:d.subcategory,isUsable:d==null?void 0:d.isUsable,isUpgradeable:d==null?void 0:d.isUpgradeable,description:d==null?void 0:d.description,value:d==null?void 0:d.value,maxStack:d==null?void 0:d.maxStack,isIdentified:!("startsUnidentified"in d&&d.startsUnidentified)},y=(d==null?void 0:d.startsUnidentified)===!0&&p.isIdentified===!1;let h=null;if(m){const v=d.equipmentSlot,_=o[v],x=_?r.find(T=>T.id===_):null;h=x?Ne[x.typeId]:null}const g=m&&d.stats?d.stats.map(v=>{let _=v.value;if(h){const x=h.stats.find(T=>T.key===v.key&&T.type===v.type&&T.scope===v.scope&&JSON.stringify(T.context)===JSON.stringify(v.context));_=x?v.value-x.value:v.value}return{...v,diff:_}}):[];return u.jsxs("div",{className:"global-item-tooltip",children:[u.jsxs("div",{className:"tooltip-header",children:[u.jsx("span",{className:"tooltip-icon",children:y?"":p.icon}),u.jsx("span",{className:"tooltip-title",children:y?"Unidentified Item":p.name}),m&&u.jsx("span",{className:"tooltip-rarity",children:d.rarity})]}),u.jsxs("div",{className:"tooltip-body",children:[u.jsx("div",{className:"tooltip-description",children:y?"This item must be identified to reveal its properties.":d.description}),u.jsxs("div",{className:"tooltip-meta",children:[u.jsxs("span",{children:["Category: ",p.category]}),u.jsxs("span",{children:["Quantity: ",i??(c==null?void 0:c(a))??0]}),typeof d.value=="number"&&u.jsxs("span",{children:["Value: ",d.value]}),typeof d.maxStack=="number"&&d.maxStack!==Number.POSITIVE_INFINITY&&u.jsxs("span",{children:["Max Stack: ",d.maxStack]})]}),m&&d.equipmentSlot&&u.jsxs("div",{className:"tooltip-gear-slot",children:["Slot: ",d.equipmentSlot]}),m&&d.stats&&d.stats.length>0&&u.jsxs("div",{className:"tooltip-stats",children:[u.jsx("div",{className:"tooltip-stats-title",children:"Stats:"}),g.map((v,_)=>u.jsxs("div",{className:"tooltip-stat-row",children:[u.jsxs("span",{className:"tooltip-stat-name",children:[QS(v.key),v.scope!=="GLOBAL"&&v.context?` (${KS(v.scope,v.context)})`:""]}),u.jsxs("span",{className:"tooltip-stat-value",children:[v.type==="PERCENTAGE"?"+":"",v.value,v.type==="PERCENTAGE"?"%":""]}),v.diff!==0&&u.jsxs("span",{className:`tooltip-stat-diff ${v.diff>0?"positive":"negative"}`,children:[v.diff>0?"+":"",v.diff,v.type==="PERCENTAGE"?"%":""]})]},_))]})]})]})},$S=({item:a,isSellMode:i,onItemClick:o,isEquipped:r})=>{const{showTooltip:c,moveTooltip:d,hideTooltip:m}=ol(),p=la.useRef(null),y=Ne[a.typeId],h=y&&"startsUnidentified"in y&&y.startsUnidentified===!0&&a.isIdentified===!1,g=x=>{c(u.jsx(Ju,{typeId:a.typeId,quantity:a.quantity}),{x:x.clientX,y:x.clientY})},v=x=>{d({x:x.clientX,y:x.clientY})},_=()=>{m()};return u.jsxs("div",{ref:p,onClick:()=>o(a),className:`item-card${h?" unidentified":""}${r?" equipped":""}`,style:{background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"12px",boxShadow:r?"0 0 0 3px rgba(100, 108, 255, 0.45), 0 2px 8px 0 #0002":"0 2px 8px 0 #0002",padding:"1rem",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"120px",height:"120px",transition:"all 0.2s ease",cursor:a.isLocked&&i?"not-allowed":"pointer",position:"relative",opacity:a.isLocked&&i?"0.5":"1"},onMouseEnter:g,onMouseMove:v,onMouseLeave:_,children:[a.isLocked&&u.jsx("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",fontSize:"1rem",color:"var(--primary-color)",opacity:"0.8",transition:"opacity 0.2s"},children:""}),i&&!a.isLocked&&u.jsx("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",fontSize:"1rem",color:"var(--primary-color)",opacity:"0.8",transition:"opacity 0.2s"},children:""}),u.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem",color:"var(--primary-color)"},children:h?"":a.icon}),u.jsx("h4",{style:{margin:"0.25rem 0",fontSize:"0.9rem",color:"var(--text-color)",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},children:h?"Unidentified Item":a.name}),u.jsx("p",{style:{margin:"0.25rem 0",fontSize:"0.8rem",color:"var(--text-color)",opacity:.8},children:kt(a.quantity,!0)}),u.jsx("p",{style:{margin:"0.25rem 0",fontSize:"0.75rem",color:"var(--primary-color)",background:"rgba(100, 108, 255, 0.1)",padding:"0.2rem 0.4rem",borderRadius:"4px",border:"1px solid var(--primary-color)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},children:a.category})]})},ZS=({items:a,isSellMode:i,onItemClick:o,hasReachedLimit:r,canAffordNextSlot:c,nextSlotCost:d,onPurchaseSlot:m})=>u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, 120px)",gap:"1rem",width:"100%",justifyContent:"center",padding:"1rem"},children:a.length>0?a.map(p=>u.jsx($S,{item:p,isSellMode:i,onItemClick:o,isEquipped:!!p.equippedSlot},p.id)):u.jsx("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"3rem",color:"var(--text-color)",opacity:"0.7",fontSize:"1.2rem"},children:r?u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[u.jsx("div",{children:"You've reached your vault slot limit"}),u.jsxs("button",{onClick:m,disabled:!c,style:{padding:"0.8rem 1.5rem",background:c?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:c?"#fff":"var(--text-color)",cursor:c?"pointer":"not-allowed",opacity:c?"1":"0.5",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:p=>{c&&(p.currentTarget.style.opacity="0.9")},onMouseLeave:p=>{c&&(p.currentTarget.style.opacity="1")},children:["Purchase Slot",u.jsx(At,{amount:d,size:"small",style:{background:"transparent",border:"none",padding:0},contrast:!0})]})]}):"No items found matching your search criteria"})}),WS=({currentPage:a,totalPages:i,onPageChange:o})=>i<=1?null:u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1.5rem 0",borderTop:"1.5px solid var(--card-border)"},children:[u.jsx("button",{onClick:()=>o(Math.max(1,a-1)),disabled:a===1,style:{padding:"0.5rem 1rem",background:a===1?"var(--card-bg)":"var(--primary-color)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:a===1?"var(--text-color)":"#fff",cursor:a===1?"not-allowed":"pointer",opacity:a===1?"0.5":"1",transition:"all 0.2s"},children:"Previous"}),u.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:Array.from({length:i},(r,c)=>c+1).map(r=>u.jsx("button",{onClick:()=>o(r),style:{padding:"0.5rem 1rem",background:a===r?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:a===r?"#fff":"var(--text-color)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:c=>{a!==r&&(c.currentTarget.style.borderColor="var(--primary-color)")},onMouseLeave:c=>{a!==r&&(c.currentTarget.style.borderColor="var(--card-border)")},children:r},r))}),u.jsx("button",{onClick:()=>o(Math.min(i,a+1)),disabled:a===i,style:{padding:"0.5rem 1rem",background:a===i?"var(--card-bg)":"var(--primary-color)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:a===i?"var(--text-color)":"#fff",cursor:a===i?"not-allowed":"pointer",opacity:a===i?"0.5":"1",transition:"all 0.2s"},children:"Next"})]}),JS=a=>{var X,C;const{selectedItem:i,onClose:o,onToggleLock:r,onSellItem:c,onUseItem:d,onUpgradeItem:m,onMoveToTab:p,tabs:y}=a,g=be(V=>V.inventoryItems).find(V=>V.id===i.id)||i,{identifyItem:v}=be(),[_,x]=Y.useState(g.quantity),[T,M]=Y.useState(""),[I,E]=Y.useState(null);Y.useEffect(()=>{E(null)},[g.id]),Y.useEffect(()=>{x(I==="all"?g.quantity:I==="allButOne"?Math.max(1,g.quantity-1):I==="half"?Math.max(1,Math.floor(g.quantity/2)):V=>Math.min(V,g.quantity)),M("")},[g.quantity]);const R=V=>{E(null);const z=parseInt(V);if(isNaN(z)){x(1),M("Please enter a valid number");return}if(z<1){x(1),M("Minimum quantity is 1");return}if(z>g.quantity){x(g.quantity),M(`Maximum quantity is ${g.quantity}`);return}x(z),M("")},w=V=>{switch(E(V),V){case"all":x(g.quantity);break;case"allButOne":x(Math.max(1,g.quantity-1));break;case"half":x(Math.max(1,Math.floor(g.quantity/2)));break}M("")},O=Ne[g.typeId],k=O&&n2(O),G=O&&"startsUnidentified"in O&&O.startsUnidentified===!0&&g.isIdentified===!1;return u.jsx("div",{className:"item-details-panel",children:u.jsxs("div",{className:"item-details-content",children:[u.jsxs("div",{className:"item-details-header",children:[u.jsx("h3",{className:"item-details-title",children:"Item Details"}),u.jsx("button",{onClick:o,className:"item-details-close",children:""})]}),u.jsxs("div",{className:"item-details-main",children:[u.jsx("div",{className:"item-details-icon",children:G?"":g.icon}),u.jsx("h4",{className:"item-details-name",children:G?"Unidentified Item":g.name}),u.jsx("p",{className:"item-details-description",children:G?"This item must be identified to reveal its properties.":g.description}),u.jsxs("div",{className:"item-details-meta",children:[u.jsxs("span",{className:"item-details-quantity",children:["Quantity: ",g.quantity]}),u.jsx("span",{className:"item-details-category",children:g.category}),g.equippedSlot&&u.jsxs("span",{className:"item-details-equipped",children:["Equipped",g.equippedSlot?` (${g.equippedSlot})`:""]})]}),u.jsxs("span",{className:"item-details-value",children:["Value: ",u.jsx(At,{amount:g.value??0})]}),G&&u.jsx("button",{className:"identify-button",onClick:()=>v(g.id),children:"Identify"}),k&&!G&&u.jsxs("div",{className:"gear-details",children:[u.jsxs("div",{className:"gear-slot",children:["Slot: ",k?O.equipmentSlot:""]}),u.jsxs("div",{className:"gear-rarity",children:["Rarity: ",k?O.rarity:""]}),u.jsxs("div",{className:"gear-stats",children:[u.jsx("h4",{children:"Stats:"}),u.jsx("ul",{children:k&&((C=(X=O.stats)==null?void 0:X.map)==null?void 0:C.call(X,(V,z)=>u.jsxs("li",{children:[V.type==="percentage_additive"||V.type==="percentage_multiplicative"?"+":"",V.value,V.type==="percentage_additive"||V.type==="percentage_multiplicative"?"%":""," ",t2(V.key),V.scope!=="GLOBAL"&&V.context?` (${a2(V.scope??"",V.context)})`:""]},z)))})]}),k&&O.setId&&u.jsxs("div",{className:"gear-set",children:["Set: ",O.setId]}),u.jsx(e2,{itemId:g.id,slot:k?O.equipmentSlot:void 0})]})]}),u.jsxs("div",{className:"item-details-sell-card",children:[u.jsx("h4",{className:"item-details-sell-title",children:"Select Quantity"}),u.jsxs("p",{className:"item-details-sell-available",children:["You have ",g.quantity," available"]}),u.jsxs("div",{className:"item-details-sell-quickselect",children:[u.jsx("button",{onClick:()=>w("all"),className:"item-details-sell-quickbtn",children:"All"}),u.jsx("button",{onClick:()=>w("allButOne"),className:"item-details-sell-quickbtn",children:"All but 1"}),u.jsx("button",{onClick:()=>w("half"),className:"item-details-sell-quickbtn",children:"Half"})]}),u.jsxs("div",{className:"item-details-sell-inputbox",children:[u.jsx("input",{type:"number",value:_,onChange:V=>R(V.target.value),min:1,max:g.quantity,className:"item-details-sell-input"}),T&&u.jsx("p",{className:"item-details-sell-error",children:T})]}),u.jsxs("div",{className:"item-details-sell-value",children:[u.jsx("span",{children:"Sell Value:"}),u.jsx(At,{amount:(g.value??0)*_,size:"small",style:{background:"transparent",border:"none",padding:0}})]}),u.jsx("button",{onClick:()=>c(g.id,_),disabled:g.isLocked||!!T||g.quantity===0,className:"item-details-sell-btn",children:"Sell Item"})]}),u.jsxs("div",{className:"item-details-actions",children:[g.isUsable&&u.jsx("button",{onClick:()=>d(g.id),disabled:g.isLocked,className:"item-details-action-btn",children:"Use Item"}),g.isUpgradeable&&u.jsx("button",{onClick:()=>m(g.id),disabled:g.isLocked,className:"item-details-action-btn",children:"Upgrade Item"}),u.jsx("button",{onClick:()=>r(g.id),className:`item-details-lock-btn${g.isLocked?" locked":""}`,children:g.isLocked?"Unlock Item":"Lock Item"})]}),u.jsxs("div",{className:"item-details-move-card",children:[u.jsx("h4",{className:"item-details-move-title",children:"Move to Tab"}),u.jsxs("div",{className:"item-details-move-selectbox",children:[u.jsx("select",{value:g.tabId,onChange:V=>p(g.id,Number(V.target.value)),className:"item-details-move-select",children:y.map(V=>u.jsx("option",{value:V.id,disabled:V.id===g.tabId,className:V.id===g.tabId?"item-details-move-option-selected":"",children:V.name},V.id))}),u.jsx("div",{className:"item-details-move-arrow",children:""})]})]})]})})},e2=({itemId:a,slot:i})=>{const{equipItem:o,unequipItem:r}=Zn(),d=be(y=>y.inventoryItems).find(y=>y.id===a),m=d==null?void 0:d.equippedSlot;return!!(m&&i&&m===i)&&i?u.jsx("button",{className:"equip-button",onClick:()=>r(i),style:{marginTop:"0.7rem",padding:"0.8rem",background:"#e74c3c",color:"#fff",border:"none",borderRadius:"8px",fontWeight:600,fontSize:"1rem",cursor:"pointer",boxShadow:"0 2px 8px 0 #0001",transition:"background 0.2s",width:"100%"},children:"Unequip"}):u.jsx("button",{className:"equip-button",onClick:()=>o(a),style:{marginTop:"0.7rem",padding:"0.8rem",background:"var(--primary-color)",color:"#fff",border:"none",borderRadius:"8px",fontWeight:600,fontSize:"1rem",cursor:"pointer",boxShadow:"0 2px 8px 0 #0001",transition:"background 0.2s",width:"100%"},children:"Equip"})},t2=a=>a.replace(/([A-Z])/g," $1").replace(/^./,i=>i.toUpperCase()),a2=(a,i)=>{var o;switch(a){case"SCHOOL":return`${i} School`;case"ACTION":return`${i} Action`;default:return((o=i==null?void 0:i.toString)==null?void 0:o.call(i))??""}};function n2(a){return a.isGear===!0}const i2=({maxQuantity:a,onConfirm:i,onClose:o,item:r})=>{const[c,d]=Y.useState(a),[m,p]=Y.useState(""),y=g=>{const v=parseInt(g);if(isNaN(v)){d(0),p("Please enter a valid number");return}if(v<1){d(1),p("Minimum quantity is 1");return}if(a!==1/0&&v>a){d(a),p(`Maximum quantity is ${a}`);return}d(v),p("")},h=g=>{switch(g){case"all":d(a===1/0?999999:a);break;case"allButOne":d(a===1/0?999998:Math.max(1,a-1));break;case"half":d(a===1/0?5e5:Math.max(1,Math.floor(a/2)));break}p("")};return u.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"12px",padding:"1.5rem",width:"300px",zIndex:1100,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"},children:[u.jsx("h3",{style:{color:"var(--text-color)",margin:"0 0 1rem 0",fontSize:"1.2rem"},children:"Select Quantity"}),u.jsxs("p",{style:{color:"var(--text-color)",opacity:"0.8",margin:"0 0 1rem 0",fontSize:"0.95rem"},children:["You have ",a===1/0?"infinite":a," available"]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsx("button",{onClick:()=>h("all"),style:{flex:1,padding:"0.5rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"6px",color:"var(--text-color)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.borderColor="var(--primary-color)"},onMouseLeave:g=>{g.currentTarget.style.borderColor="var(--card-border)"},children:"All"}),u.jsx("button",{onClick:()=>h("allButOne"),style:{flex:1,padding:"0.5rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"6px",color:"var(--text-color)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.borderColor="var(--primary-color)"},onMouseLeave:g=>{g.currentTarget.style.borderColor="var(--card-border)"},children:"All but 1"}),u.jsx("button",{onClick:()=>h("half"),style:{flex:1,padding:"0.5rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"6px",color:"var(--text-color)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.borderColor="var(--primary-color)"},onMouseLeave:g=>{g.currentTarget.style.borderColor="var(--card-border)"},children:"Half"})]}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("input",{type:"number",value:c,onChange:g=>y(g.target.value),min:1,max:a===1/0?void 0:a,style:{width:"100%",padding:"0.8rem 1rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:"var(--text-color)",fontSize:"0.95rem"}}),m&&u.jsx("p",{style:{color:"#ff4444",margin:"0.5rem 0 0 0",fontSize:"0.9rem"},children:m}),u.jsxs("div",{style:{marginTop:"0.75rem",color:"var(--text-color)",fontSize:"0.95rem",background:"var(--card-bg)",borderRadius:"6px",padding:"0.5rem 0.75rem",border:"1px solid var(--card-border)",opacity:.95},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[u.jsx("span",{children:"Gold per item:"}),u.jsx(At,{amount:r.value??0,size:"small"})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("span",{children:"Total gold:"}),u.jsx(At,{amount:(r.value??0)*c,size:"small"})]})]})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[u.jsx("button",{onClick:o,style:{padding:"0.8rem 1.5rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:"var(--text-color)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.borderColor="var(--primary-color)"},onMouseLeave:g=>{g.currentTarget.style.borderColor="var(--card-border)"},children:"Cancel"}),u.jsx("button",{onClick:()=>i(c),style:{padding:"0.8rem 1.5rem",background:"var(--primary-color)",border:"1.5px solid var(--primary-color)",borderRadius:"8px",color:"#fff",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:g=>{g.currentTarget.style.opacity="0.9"},onMouseLeave:g=>{g.currentTarget.style.opacity="1"},children:"Confirm"})]})]})},s2=()=>{const{inventoryItems:a,bankSlotLimit:i}=be(),{gold:o}=ua(),r=zS(a),{activeTab:c,setActiveTab:d,selectedItem:m,setSelectedItem:p,searchQuery:y,setSearchQuery:h,selectedCategory:g,setSelectedCategory:v,sortBy:_,setSortBy:x,includeLockedInSort:T,setIncludeLockedInSort:M,currentPage:I,setCurrentPage:E,isSellMode:R,setIsSellMode:w,showQuantitySelector:O,openItemDetails:k,closeItemDetails:G,openSellQuantityModal:X,closeSellQuantityModal:C,selectedItemForSell:V}=r,z=BS({activeTab:c,sortBy:_,searchQuery:y,selectedCategory:g,includeLockedInSort:T}),{filteredAndSortedItems:Z,uniqueCategories:se,handleToggleLock:ie,handleSellItem:he,handleMoveToTab:ue,handlePurchaseSlot:q,bankSlotLimit:Q,totalItemsCount:ee,hasReachedLimit:me,nextSlotCost:N,canAffordNextSlot:$}=z,te=Math.ceil(Z.length/Ru),J=(I-1)*Ru,ae=J+Ru,ye=Z.slice(J,ae);function le(_e){R?_e.isLocked||X(_e):k(_e)}function W(_e,De){const dt=he(_e,De);if(typeof dt=="number"&&dt>0){const wt=a.find(Ct=>Ct.id===_e);!wt||wt.quantity===0?G():p(wt)}}function re(_e){if(ie(_e),m&&m.id===_e){const De=a.find(dt=>dt.id===_e);De&&p(De)}}function ze(_e,De){if(ue(_e,De),m&&m.id===_e){const dt=a.find(wt=>wt.id===_e);dt?p(dt):G()}}function lt(_e){if(m&&m.id===_e){const De=a.find(dt=>dt.id===_e);De?p(De):G()}}function Nt(_e){if(m&&m.id===_e){const De=a.find(dt=>dt.id===_e);De?p(De):G()}}Y.useEffect(()=>{if(m){const _e=a.find(De=>De.id===m.id);!_e||_e.quantity===0?G():(_e.quantity!==m.quantity||_e.isLocked!==m.isLocked||_e.tabId!==m.tabId)&&p(_e)}},[a,m,G,p]);function qt(_e){V&&(W(V.id,_e),C())}return u.jsxs("div",{className:"content-center",children:[u.jsx("div",{className:"main-card",children:u.jsx(YS,{gold:o})}),u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx(GS,{totalItems:ee,bankSlotLimit:Q,hasReachedLimit:me,canAffordNextSlot:$,nextSlotCost:N,onPurchaseSlot:q}),u.jsx(HS,{tabs:Og,activeTab:c,onTabClick:d}),u.jsx(FS,{searchQuery:y,onSearchQueryChange:h,selectedCategory:g,onSelectedCategoryChange:v,uniqueCategories:se,sortBy:_,onSortByChange:x}),u.jsx(XS,{includeLockedInSort:T,onIncludeLockedInSortChange:M,isSellMode:R,onToggleSellMode:()=>w(!R)}),u.jsx(ZS,{items:ye,isSellMode:R,onItemClick:le,hasReachedLimit:me&&a.length>=i,canAffordNextSlot:$,nextSlotCost:N,onPurchaseSlot:q}),u.jsx(WS,{currentPage:I,totalPages:te,onPageChange:E})]}),m&&u.jsxs(u.Fragment,{children:[u.jsx("div",{onClick:G,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:999}}),u.jsx(JS,{selectedItem:m,onClose:G,onToggleLock:re,onSellItem:W,onUseItem:lt,onUpgradeItem:Nt,onMoveToTab:ze,tabs:Og})]}),O&&V&&u.jsxs(u.Fragment,{children:[u.jsx("div",{onClick:C,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:999}}),u.jsx(i2,{maxQuantity:V.maxStack===0?Number.POSITIVE_INFINITY:V.quantity,item:V,onConfirm:qt,onClose:C})]})]})},Pu=({upgrade:a,currentLevel:i,onPurchase:o,canAfford:r,isMaxed:c})=>u.jsxs("div",{className:`school-card training-option${c?" locked":""}`,style:{position:"relative",filter:c?"grayscale(0.85) brightness(0.85)":void 0,opacity:c?.7:1,pointerEvents:"auto",transition:"filter 0.2s, opacity 0.2s, box-shadow 0.2s, border-color 0.2s, background 0.2s",background:c?"linear-gradient(135deg, rgba(100,108,255,0.08) 0%, rgba(40,44,80,0.95) 100%)":"var(--card-bg)",border:c?"2.5px solid #aaa":"1.5px solid var(--card-border)",boxShadow:c?"0 4px 24px 0 rgba(100,108,255,0.08), 0 1.5px 8px 0 #0001":void 0,borderRadius:"12px",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontSize:"2rem"},children:a.icon}),u.jsxs("div",{children:[u.jsx("h4",{style:{margin:0,color:"var(--text-color)",fontSize:"1.2rem"},children:a.name}),u.jsx("p",{style:{margin:"0.3rem 0 0 0",color:"var(--text-color)",opacity:.8,fontSize:"0.95rem"},children:a.description})]})]}),u.jsx("div",{style:{color:"var(--text-color)",fontSize:"0.98rem",marginBottom:"0.5rem"},children:c?u.jsx("span",{style:{color:"#4caf50",fontWeight:600},children:"Maxed"}):u.jsx(u.Fragment,{children:u.jsxs("span",{style:{color:"#90caf9"},children:["Level: ",i," / ",a.maxLevel]})})}),u.jsxs("div",{style:{color:"var(--text-color)",fontSize:"0.98rem",marginBottom:"0.5rem"},children:[u.jsx("b",{children:"Effect:"})," ",a.effect.statAffected==="maxMana"&&"+",a.effect.value,a.effect.statAffected==="maxMana"&&" Max Mana",a.effect.statAffected==="manaRegen"&&" Mana Regen Rate",a.effect.statAffected==="manaCost"&&" Mana Cost Reduction"]}),u.jsx("button",{className:"training-button",onClick:o,disabled:!r||c,style:{marginTop:"auto",width:"100%",padding:"0.8rem 1.5rem",fontSize:"1rem",background:r&&!c?"var(--primary-color)":"var(--card-bg)",color:r&&!c?"#fff":"var(--text-color)",border:"1.5px solid var(--card-border)",borderRadius:"8px",cursor:r&&!c?"pointer":"not-allowed",opacity:r&&!c?1:.5,transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"center"},onMouseEnter:d=>{r&&!c&&(d.currentTarget.style.opacity="0.9")},onMouseLeave:d=>{r&&!c&&(d.currentTarget.style.opacity="1")},children:c?"Maxed":u.jsxs(u.Fragment,{children:["Purchase for",a.cost.gold?u.jsx(At,{amount:a.cost.gold,size:"small",style:{background:"transparent",border:"none",padding:0},contrast:!0}):null,a.cost.items&&Object.entries(a.cost.items).map(([d,m])=>{const p=Ne[d];return p?u.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,marginLeft:8},children:[u.jsx("span",{style:{fontSize:"1.2em"},children:p.icon})," ",m," ",p.name]},d):u.jsxs("span",{style:{marginLeft:8},children:[m," ",d]},d)})]})})]}),o2=()=>{const a=be(x=>x.bankSlotLimit),i=be(x=>x.purchaseBankSlot),o=be(x=>x.inventoryItems),r=be(x=>x.getNextSlotCost),{manaUpgrades:c,purchaseManaUpgrade:d}=ce(),{gold:m}=ua(),p=Le(x=>x.addVaultSlotNotification),y=Le(x=>x.addNotification),h=r(),g=m>=h,v=()=>{i()&&p&&p()},_=x=>{const{gold:T,items:M}=x.cost;if(T&&m<T)return!1;if(M)for(const[I,E]of Object.entries(M)){const R=Number(E);if(o.filter(O=>O.typeId===I).reduce((O,k)=>O+k.quantity,0)<R)return!1}return!0};return u.jsxs("div",{className:"content-center",children:[u.jsx("div",{className:"main-card",children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[u.jsxs("div",{children:[u.jsx("h2",{children:"Shop"}),u.jsx("p",{children:"Browse and purchase magical items, reagents, and resources."})]}),u.jsx(At,{amount:m})]})}),u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{style:{marginBottom:"0.5rem"},children:"Available Items"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",padding:"1.5rem"},children:u.jsxs("div",{style:{background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"12px",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsx("div",{style:{fontSize:"2rem",color:"var(--primary-color)"},children:""}),u.jsxs("div",{children:[u.jsx("h4",{style:{margin:0,color:"var(--text-color)",fontSize:"1.2rem"},children:"Vault Slot Upgrade"}),u.jsx("p",{style:{margin:"0.5rem 0 0 0",color:"var(--text-color)",opacity:"0.8",fontSize:"0.95rem"},children:"Increase your vault storage capacity by 1 slot"})]})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"auto"},children:[u.jsxs("div",{style:{color:"var(--text-color)",opacity:"0.8",fontSize:"0.95rem"},children:["Current Limit: ",a," slots"]}),u.jsxs("button",{onClick:v,disabled:!g,style:{padding:"0.8rem 1.5rem",background:g?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:g?"#fff":"var(--text-color)",cursor:g?"pointer":"not-allowed",opacity:g?"1":"0.5",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.5rem",width:"100%",justifyContent:"center"},onMouseEnter:x=>{g&&(x.currentTarget.style.opacity="0.9")},onMouseLeave:x=>{g&&(x.currentTarget.style.opacity="1")},children:["Purchase for ",u.jsx(At,{amount:h,size:"small",style:{background:"transparent",border:"none",padding:0},contrast:!0})]})]})]})}),u.jsx("h3",{style:{marginTop:"2.5rem",marginBottom:"0.5rem"},children:"Mana Upgrades"}),u.jsxs("div",{className:"shop-upgrades-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",width:"100%",padding:"1.5rem",margin:0},children:[(()=>{const x=Hi.filter(I=>I.id.startsWith("max-mana-")),T=x.find(I=>(c[I.id]||0)<I.maxLevel),M=!T&&x.length>0?x[x.length-1]:null;return T?u.jsx(Pu,{upgrade:T,currentLevel:c[T.id]||0,onPurchase:()=>{typeof d=="function"&&d(T.id)&&y&&y({id:Math.random().toString(36).substring(7),type:"custom",message:`${T.name} purchased!`,timestamp:Date.now(),icon:T.icon})},canAfford:_(T),isMaxed:!1},T.id):M?u.jsx(Pu,{upgrade:M,currentLevel:c[M.id]||1,onPurchase:()=>{},canAfford:!1,isMaxed:!0},M.id):null})(),Hi.filter(x=>!x.id.startsWith("max-mana-")).map(x=>{const T=c[x.id]||0,M=T>=x.maxLevel;return u.jsx(Pu,{upgrade:x,currentLevel:T,onPurchase:()=>{typeof d=="function"&&d(x.id)&&y&&y({id:Math.random().toString(36).substring(7),type:"custom",message:`${x.name} purchased!`,timestamp:Date.now(),icon:x.icon})},canAfford:_(x),isMaxed:M},x.id)})]})]})]})},r2=()=>{const{mana:a,getMaxMana:i}=ce(),o=i?i():_n,r=o>0?a/o*100:0;return u.jsxs("div",{className:"xp-progress-container",children:[" ",u.jsxs("div",{className:"xp-progress-bar",children:[" ",u.jsx("div",{className:"xp-progress-fill",style:{width:`${r}%`,backgroundColor:"var(--mana-color, #007bff)"}})]})]})},kg={"fire-bolt":u.jsx(iS,{color:"#ff7043"}),"ice-spike":u.jsx(sS,{color:"#42a5f5"}),lightning:u.jsx(W_,{color:"#ffd600"}),"alter-self":u.jsx(cS,{color:"#ab47bc"}),"alter-object":u.jsx(yg,{color:"#90caf9"}),"alter-mass":u.jsx(yg,{color:"#bdbdbd"}),"summon-minor":u.jsx(Td,{color:"#fff176"}),"summon-major":u.jsx(lo,{color:"#ba68c8"}),teleport:u.jsx(lo,{color:"#64b5f6"}),"animate-minor":u.jsx(Qr,{color:"#bdbdbd"}),"animate-major":u.jsx(Qr,{color:"#616161"}),"soul-tap":u.jsx(Id,{color:"#00bcd4"}),"heal-minor":u.jsx(Ha,{color:"#81c784"}),"heal-major":u.jsx(Ha,{color:"#388e3c"}),ward:u.jsx(Nd,{color:"#90caf9"}),"enchant-minor":u.jsx(Ha,{color:"#ffd54f"}),"enchant-major":u.jsx(Ha,{color:"#ffb300"}),disenchant:u.jsx(Ha,{color:"#bdbdbd"}),"carve-minor":u.jsx(Js,{color:"#ffb300"}),"carve-major":u.jsx(Js,{color:"#ff7043"}),"rune-ward":u.jsx(Js,{color:"#90caf9"}),"brew-minor":u.jsx(Xr,{color:"#81c784"}),"brew-major":u.jsx(Xr,{color:"#388e3c"}),transmute:u.jsx(Ad,{color:"#ffd600"}),"scribe-minor":u.jsx(eo,{color:"#fff176"}),"scribe-major":u.jsx(eo,{color:"#ffd600"}),"ward-scroll":u.jsx(eo,{color:"#90caf9"}),"bind-minor":u.jsx(Xn,{color:"#ab47bc"}),"bind-major":u.jsx(Xn,{color:"#7e57c2"}),"soul-ward":u.jsx(Xn,{color:"#00bcd4"})};function l2(a){if(kg[a.id])return kg[a.id];const i=va.find(o=>o.id===a.schoolId);return i?u.jsx(i.icon,{}):null}const y0=({option:a})=>{const{activeTraining:i,startTraining:o,stopTraining:r,getActionProgress:c}=rt(),d=(i==null?void 0:i.optionId)===a.id,[m,p]=Y.useState(0),{getInventoryAmount:y}=be(),{mana:h,addMana:g}=ce(),v=He(),_=Le(),x={schoolId:a.schoolId,actionId:a.id},{schoolLevels:T,masteryLevels:M,masteryXP:I,getRequiredMasteryXP:E}=Je(),R=v.calculateModifiedStat(a.xpPerAction,"xpGain",x),w=v.calculateModifiedStat(a.actionDuration,"actionDuration",x),O=a.manaCostPerAction!==void 0?v.calculateModifiedStat(a.manaCostPerAction,"manaCost",x):void 0,k=a.manaGeneratedPerAction!==void 0?v.calculateModifiedStat(a.manaGeneratedPerAction,"manaGeneration",x):void 0,X=(T[a.schoolId]||1)<a.levelRequired,C=!(a.manaCostPerAction&&a.manaCostPerAction>0&&h<a.manaCostPerAction),V=W=>y(W)||0;let z=!0,Z=[];if(a.reagentCosts&&a.reagentCosts.length>0)for(const W of a.reagentCosts){const re=V(W.itemId);re<W.amount&&(z=!1,Z.push({itemId:W.itemId,required:W.amount,owned:re}))}Y.useEffect(()=>{if(!d){p(0);return}const W=()=>{const ze=c();ze&&p(ze.progress)};W();const re=setInterval(W,100);return()=>clearInterval(re)},[d,c,a.actionDuration]),Y.useEffect(()=>{var W;d&&!C&&(r(),(W=_.addNotification)==null||W.call(_,{id:Math.random().toString(36).substring(7),type:"manaEmpty",message:`Stopped training ${a.name}. Not enough mana.`,timestamp:Date.now()},3e3))},[d,C,r]),Y.useEffect(()=>{var W;if(d&&!z&&(r(),Z.length>0)){const re=Z.map(ze=>{const lt=Ne[ze.itemId];return lt?lt.name:ze.itemId}).join(", ");(W=_.addNotification)==null||W.call(_,{id:Math.random().toString(36).substring(7),type:"manaEmpty",message:`Stopped training ${a.name}. Missing ${re}.`,timestamp:Date.now()},3e3)}},[d,z,r]);const se=()=>{d?r():X||o(a)},ie=a.type==="cast"&&typeof a.cooldownSeconds=="number",he=ie?a.cooldownSeconds:0,{getSpellCooldownRemaining:ue,setSpellCooldown:q}=il(),[Q,ee]=Y.useState(()=>ue(a.id));Y.useEffect(()=>{if(!ie)return;let W;const re=()=>{const ze=ue(a.id);ee(ze),ze>0&&(W=requestAnimationFrame(re))};return re(),()=>{W&&cancelAnimationFrame(W)}},[ie,a.id,Q]);const me=()=>{Q>0||X||!C||!z||(a.manaGeneratedPerAction&&g(a.manaGeneratedPerAction,"active"),a.xpPerAction&&a.xpPerAction>0&&Je.getState().addSchoolXP(a.schoolId,a.xpPerAction),q(a.id,he),ee(he))},N=(M==null?void 0:M[a.id])??1,$=(I==null?void 0:I[a.id])??0,te=E?E(N):100,J=Math.min(1,$/te),{showTooltip:ae,moveTooltip:ye,hideTooltip:le}=ol();return u.jsxs("div",{className:`training-option-card${X?" locked":""}${d&&!X?" active":""}`,children:[X&&u.jsxs("div",{className:"training-option-card__lock-overlay",children:[u.jsx(bg,{size:38,color:"#bdbdbd",style:{marginBottom:8}}),u.jsx("span",{style:{color:"#fff",fontWeight:700,fontSize:"1.1rem",textShadow:"0 1px 4px #222"},children:"Locked"}),u.jsxs("span",{style:{color:"#ffd600",fontWeight:600,fontSize:"1rem",marginTop:2,textShadow:"0 1px 4px #222"},children:["Requires Level ",a.levelRequired]})]}),u.jsxs("div",{className:"training-main-row",children:[u.jsx("div",{className:"training-option-card__icon-box",children:l2(a)}),u.jsxs("div",{style:{flex:1},children:[u.jsx("h3",{style:{margin:0},children:a.name}),u.jsx("p",{style:{margin:0,color:"#ccc",fontSize:"1rem"},children:a.description})]})]}),X&&u.jsxs("div",{style:{margin:"0.3rem 0 0.2rem 0",fontWeight:600,color:"#ffd600",fontSize:"1rem",display:"flex",alignItems:"center",gap:6},children:[u.jsx(bg,{style:{marginRight:4}}),u.jsxs("span",{children:["Requires Level ",a.levelRequired," ",a.schoolId.charAt(0).toUpperCase()+a.schoolId.slice(1)]})]}),a.itemDrops&&a.itemDrops.length>0||a.manaGeneratedPerAction&&a.manaGeneratedPerAction>0?u.jsxs("div",{className:"training-drops-box",style:{margin:"0.5rem 0",background:"rgba(100,108,255,0.05)",border:"1.5px solid var(--card-border)",borderRadius:6,padding:"0.5rem 0.8rem",display:"flex",flexWrap:"wrap",gap:"1.2rem",fontWeight:500,alignItems:"center",justifyContent:"center",width:"100%",visibility:"hidden"},children:[a.itemDrops&&a.itemDrops.length>0&&a.itemDrops.filter(W=>!W.hidden).map(W=>{const re=Ne[W.itemId];if(!re)return null;const ze=`itemDropAmount_${W.itemId}`,lt=v.calculateModifiedStat(W.amount,ze,x),Nt=typeof W.chance=="number"&&W.chance!==void 0&&W.chance<1,qt=Nt&&W.chance!==void 0?Math.round(W.chance*100):100,_e=wt=>{ae(u.jsx(Ju,{typeId:W.itemId}),{x:wt.clientX,y:wt.clientY})},De=wt=>{ye({x:wt.clientX,y:wt.clientY})},dt=()=>{le()};return u.jsxs("div",{style:{background:"var(--card-bg)",border:"1.5px solid #90caf9",borderRadius:"12px",boxShadow:"0 2px 8px 0 #0002",padding:"0.5rem",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"120px",height:"120px",minWidth:"120px",minHeight:"120px",maxWidth:"120px",maxHeight:"120px",transition:"all 0.2s ease",position:"relative",fontWeight:500,fontSize:"1.05em",margin:"0 auto",visibility:"visible",cursor:"pointer"},onMouseEnter:_e,onMouseMove:De,onMouseLeave:dt,children:[u.jsx("div",{style:{fontSize:"3.5rem",margin:"0 auto",color:"var(--primary-color)",display:"flex",alignItems:"center",justifyContent:"center",height:"4.5rem"},children:re.icon}),u.jsx("div",{style:{fontSize:"1.05rem",fontWeight:600,color:"var(--text-color)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",marginTop:4},children:re.name}),u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.1rem",color:"#6c7a89",margin:"0.3rem 0 0.1rem 0",fontWeight:700},children:["+",Math.floor(lt)!==W.amount?u.jsxs(u.Fragment,{children:[u.jsx("b",{children:Math.floor(lt)})," ",u.jsx("span",{style:{textDecoration:"line-through",color:"#aaa",marginLeft:2},children:W.amount})]}):W.amount,Nt&&u.jsxs("span",{style:{color:"#ffd600",fontWeight:500,fontSize:"0.95em",marginLeft:8},children:["(",qt,"%)"]})]})]},W.itemId)}),a.manaGeneratedPerAction&&a.manaGeneratedPerAction>0&&u.jsxs("div",{style:{background:"var(--card-bg)",border:"1.5px solid #90caf9",borderRadius:"12px",boxShadow:"0 2px 8px 0 #0002",padding:"0.5rem",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"120px",height:"120px",minWidth:"120px",minHeight:"120px",maxWidth:"120px",maxHeight:"120px",transition:"all 0.2s ease",position:"relative",fontWeight:500,fontSize:"1.05em",margin:"0 auto",visibility:"visible",cursor:"pointer"},onMouseEnter:W=>ae(u.jsx(Wu,{}),{x:W.clientX,y:W.clientY}),onMouseMove:W=>ye({x:W.clientX,y:W.clientY}),onMouseLeave:le,children:[u.jsx("div",{style:{fontSize:"3.5rem",margin:"0 auto",color:"#90caf9",display:"flex",alignItems:"center",justifyContent:"center",height:"4.5rem"},children:""}),u.jsx("div",{style:{fontSize:"1.05rem",fontWeight:600,color:"var(--text-color)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%",marginTop:4},children:"Mana"}),u.jsxs("div",{style:{fontSize:"1.1rem",color:"#6c7a89",margin:"0.3rem 0 0.1rem 0",fontWeight:700},children:["+",(k??0)!==a.manaGeneratedPerAction?u.jsxs(u.Fragment,{children:[u.jsx("b",{children:Math.round((k??0)*100)/100})," ",u.jsx("span",{style:{textDecoration:"line-through",color:"#aaa",marginLeft:2},children:a.manaGeneratedPerAction})]}):a.manaGeneratedPerAction]})]})]}):null,(a.manaCostPerAction&&a.manaCostPerAction>0||a.reagentCosts&&a.reagentCosts.length>0)&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.7rem",margin:"0.5rem 0",justifyContent:"center",width:"100%"},children:[a.manaCostPerAction&&a.manaCostPerAction>0&&u.jsxs("div",{className:`training-option-card__cost-box${C?"":" not-enough"}`,onMouseEnter:W=>ae(u.jsx(Wu,{}),{x:W.clientX,y:W.clientY}),onMouseMove:W=>ye({x:W.clientX,y:W.clientY}),onMouseLeave:le,children:["-",(O??0)!==a.manaCostPerAction?u.jsxs(u.Fragment,{children:[u.jsx("b",{children:Math.round((O??0)*100)/100})," ",u.jsx("span",{style:{textDecoration:"line-through",color:"#aaa",marginLeft:4},children:a.manaCostPerAction})]}):a.manaCostPerAction," "]}),a.reagentCosts&&a.reagentCosts.length>0&&a.reagentCosts.map(W=>{const re=Ne[W.itemId],lt=V(W.itemId)<W.amount,Nt=De=>{re&&ae(u.jsx(Ju,{typeId:W.itemId}),{x:De.clientX,y:De.clientY})},qt=De=>{re&&ye({x:De.clientX,y:De.clientY})},_e=()=>{re&&le()};return u.jsxs("div",{className:`training-option-card__cost-box${lt?" not-enough":""}`,onMouseEnter:Nt,onMouseMove:qt,onMouseLeave:_e,children:["-",W.amount," ",re?u.jsx("span",{style:{fontSize:"1.2em"},children:re.icon}):null]},W.itemId)})]}),u.jsxs("div",{style:{margin:"0.5rem 0",display:"flex",gap:"1.5rem",fontWeight:500,color:"#90caf9",alignItems:"center",justifyContent:"center",width:"100%"},children:[u.jsxs("span",{children:["XP: ",R!==a.xpPerAction?u.jsxs(u.Fragment,{children:[u.jsx("b",{children:Math.round(R*100)/100})," ",u.jsx("span",{style:{textDecoration:"line-through",color:"#aaa",marginLeft:4},children:a.xpPerAction})]}):a.xpPerAction]}),ie?u.jsxs("span",{children:["Cooldown: ",he," s"]}):u.jsxs("span",{children:["Duration: ",w!==a.actionDuration?u.jsxs(u.Fragment,{children:[u.jsx("b",{children:Math.round(w*100)/100})," ",u.jsx("span",{style:{textDecoration:"line-through",color:"#aaa",marginLeft:4},children:a.actionDuration})]}):a.actionDuration," s"]})]}),ie?u.jsx("div",{className:"training-option-card__progress-container","aria-label":"Cooldown bar",children:u.jsx("div",{className:"training-option-card__progress-bar",style:{width:`${Q>0?Q/he*100:0}%`,background:Q>0?"var(--primary-color)":"rgba(100, 108, 255, 0.2)",height:"100%",transition:"width 0.1s linear, background 0.2s"}})}):u.jsx("div",{className:"training-option-card__progress-container",children:u.jsx("div",{className:`training-option-card__progress-bar${d?" active":""}`,style:{width:`${m*100}%`}})}),ie?u.jsx("button",{className:`training-option-card__button${Q>0?" disabled":""}`,onClick:me,disabled:X||Q>0||!C||!z,style:X?{opacity:.5,cursor:"not-allowed"}:Q>0||!C||!z?{opacity:.5,cursor:"not-allowed"}:{},title:X?`Requires Level ${a.levelRequired} in ${a.schoolId.charAt(0).toUpperCase()+a.schoolId.slice(1)}`:Q>0?`On Cooldown (${Q.toFixed(1)}s left)`:C?z?"Cast spell (instant/cooldown)":`Missing required items: ${Z.map(W=>{const re=Ne[W.itemId];return`${re?re.name:W.itemId} (${W.owned}/${W.required})`}).join(", ")}`:"Not enough mana",children:Q>0?`On Cooldown (${Q.toFixed(1)}s)`:z?"Cast":"Missing Items"}):u.jsx("button",{className:`training-option-card__button${d?" active":""}`,onClick:se,disabled:X||!d&&(!C||!z),style:X?{opacity:.5,cursor:"not-allowed"}:!d&&(!C||!z)?{opacity:.5,cursor:"not-allowed"}:{},title:X?`Requires Level ${a.levelRequired} in ${a.schoolId.charAt(0).toUpperCase()+a.schoolId.slice(1)}`:!d&&!C?"Not enough mana":!d&&!z?`Missing required items: ${Z.map(W=>{const re=Ne[W.itemId];return`${re?re.name:W.itemId} (${W.owned}/${W.required})`}).join(", ")}`:a.type==="train"?"Begin training (continuous)":a.type==="cast"?"Cast spell (instant/cooldown)":a.type==="craft"?"Craft item":"",children:d?"Stop":X?"Locked":C?z?a.type==="train"?"Train":a.type==="cast"?"Cast":a.type==="craft"?"Craft":"Train":"Missing Items":"Not Enough Mana"}),u.jsxs("div",{style:{width:"100%",marginTop:"0.7rem",display:"flex",alignItems:"center"},children:[u.jsx("div",{style:{flex:1},children:u.jsx("div",{className:"training-option-card__progress-container",style:{height:5,margin:0,background:"rgba(100,108,255,0.08)",border:"none"},"aria-label":"Mastery XP bar",children:u.jsx("div",{className:"training-option-card__progress-bar",style:{width:`${J*100}%`,background:"var(--primary-color)",height:"100%",boxShadow:"none",borderRadius:3,transition:"width 100ms linear, background-color 0.2s ease"}})})}),u.jsx("div",{style:{minWidth:38,textAlign:"right",fontWeight:700,color:"#90caf9",marginLeft:12,fontSize:"1.08rem"},children:N})]})]})},c2=()=>{const a=be(O=>O.inventoryItems),{schoolLevels:i}=Je(),{manaUpgrades:o,purchaseManaUpgrade:r,getModifiedPassiveManaPerSecond:c}=ce(),d=ua(O=>O.gold),{addNotification:m}=Le(),p=Object.values(Sn).flat().filter(O=>O.manaGeneratedPerAction&&O.manaGeneratedPerAction>0).filter(O=>(i[O.schoolId]||1)>=(O.levelRequired||1)),y=O=>{const{gold:k,items:G}=O.cost;if(k&&d<k)return!1;if(G)for(const[X,C]of Object.entries(G)){const V=Number(C);if(a.filter(Z=>Z.typeId===X).reduce((Z,se)=>Z+se.quantity,0)<V)return!1}return!0},g=Hi.filter(O=>O.id.startsWith("max-mana-")).find(O=>(o[O.id]||0)<O.maxLevel),v=!g,_=g?y(g):!1,x=()=>{if(!g)return;r(g.id)&&m&&m({id:Math.random().toString(36).substring(7),type:"custom",message:`${g.name} purchased!`,timestamp:Date.now(),icon:g.icon})},T=Hi.find(O=>O.id==="mana-regen-1"),I=(o["mana-regen-1"]||0)>=((T==null?void 0:T.maxLevel)||1),E=T?y(T):!1,R=()=>{if(!T||I)return;r("mana-regen-1")&&m&&m({id:Math.random().toString(36).substring(7),type:"custom",message:`${T.name} purchased!`,timestamp:Date.now(),icon:T.icon})},w=c?c():0;return u.jsxs("div",{className:"content-center",children:[u.jsxs("div",{className:"main-card",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[u.jsx("h2",{children:"Mana"}),u.jsx(rl,{size:"medium"})]}),u.jsxs("div",{className:"settings-section",style:{marginTop:"1rem"},children:[u.jsx(r2,{}),u.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[u.jsx("p",{style:{margin:0},children:"Mana is the primary resource for casting spells."}),g&&u.jsxs("button",{onClick:x,disabled:!_,style:{padding:"0.7rem 1.2rem",background:_?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:_?"#fff":"var(--text-color)",cursor:_?"pointer":"not-allowed",opacity:_?"1":"0.5",display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"1rem",transition:"all 0.2s"},onMouseEnter:O=>{_&&(O.currentTarget.style.opacity="0.9")},onMouseLeave:O=>{_&&(O.currentTarget.style.opacity="1")},children:["Purchase +",g.effect.value," Max Mana",u.jsx(At,{amount:g.cost.gold||0,size:"small",style:{background:"transparent",border:"none",padding:0},contrast:!0})]}),v&&u.jsx("span",{style:{color:"var(--text-color)",opacity:.7,marginLeft:"1rem",fontSize:"0.95rem"},children:"All Mana Pool upgrades purchased"})]})]})]}),u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{style:{marginBottom:"0.75rem"},children:"Sources of Mana"}),u.jsxs("div",{className:"passive-mana-row",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[u.jsx("span",{className:"passive-mana-label",children:"Passive Mana Generation:"}),u.jsxs("span",{className:"passive-mana-rate",children:["+",w," mana/sec"]}),u.jsx("div",{style:{marginLeft:"auto"},children:T&&u.jsx("button",{onClick:R,disabled:I||!E,style:{padding:"0.7rem 1.2rem",background:E&&!I?"var(--primary-color)":"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"8px",color:E&&!I?"#fff":"var(--text-color)",cursor:E&&!I?"pointer":"not-allowed",opacity:E&&!I?1:.5,display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"1rem",transition:"all 0.2s"},onMouseEnter:O=>{E&&!I&&(O.currentTarget.style.opacity="0.9")},onMouseLeave:O=>{E&&!I&&(O.currentTarget.style.opacity="1")},children:I?"Purchased":u.jsxs(u.Fragment,{children:["Purchase +1 Passive Mana/sec",T.cost.gold?u.jsx(At,{amount:T.cost.gold,size:"small",style:{background:"transparent",border:"none",padding:0},contrast:!0}):null]})})})]}),u.jsx("div",{className:"training-options-grid",style:{marginTop:"1rem"},children:p.length>0?p.map(O=>u.jsx(y0,{option:O},O.id)):u.jsxs("div",{className:"school-card training-option placeholder-card",style:{minWidth:260,opacity:.6,textAlign:"center",padding:"2rem 1rem"},children:[u.jsx("h4",{children:"No mana sources unlocked yet!"}),u.jsx("p",{children:"Unlock training options to generate mana."})]})})]})]})};function Lg(a){return a&&a.isGear===!0&&typeof a.equipmentSlot=="string"&&typeof a.rarity=="string"}const u2=({slot:a,onClose:i})=>{const{inventoryItems:o}=be(),{equippedItems:r,equipItem:c,unequipItem:d}=Zn(),m=Y.useRef(null);Y.useEffect(()=>{function g(v){m.current&&!m.current.contains(v.target)&&i()}return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[i]);const p=r[a],y=o.filter(g=>{const v=Ne[g.typeId];return Lg(v)&&v.equipmentSlot===a}),h=g=>{if(g===p){d(a),i();return}c(g),i()};return u.jsx("div",{className:"modal gear-selection-modal",children:u.jsxs("div",{className:"modal-content",ref:m,children:[u.jsxs("div",{className:"modal-header",children:[u.jsxs("h3",{children:["Select ",a," Item"]}),u.jsx("button",{className:"close-button",onClick:i,children:""})]}),u.jsx("div",{className:"modal-body",children:y.length>0?u.jsx("div",{className:"item-grid",children:y.map(g=>{const v=Ne[g.typeId];if(!Lg(v))return null;const _=g.id===p;return u.jsxs("div",{className:`item-card${_?" equipped":""}`,onClick:()=>h(g.id),style:_?{border:"2.5px solid var(--primary-color)",position:"relative"}:{},children:[u.jsx("span",{style:{fontSize:48},children:v.icon}),u.jsx("div",{className:"item-name",children:v.name}),u.jsx("div",{className:"item-rarity",children:v.rarity}),_&&u.jsx("div",{style:{position:"absolute",top:6,right:6,background:"var(--primary-color)",color:"#fff",borderRadius:"50%",width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:700,boxShadow:"0 1px 4px #0006"},children:""})]},g.id)})}):u.jsx("div",{className:"no-items-message",children:"No compatible items in your inventory."})})]})})},d2=({slot:a,itemId:i})=>{const{inventoryItems:o}=be(),[r,c]=Y.useState(!1),d=i?o.find(y=>y.id===i):null,m=d?Ne[d.typeId]:null,p=()=>{c(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"equipment-slot",onClick:p,style:{cursor:"pointer",border:"1px solid #333",borderRadius:8,padding:12,margin:8,minWidth:100,textAlign:"center"},children:[u.jsx("div",{className:"slot-label",style:{fontWeight:"bold",marginBottom:8},children:a}),d&&m?u.jsxs("div",{className:"equipped-item",children:[u.jsx("span",{style:{fontSize:32},children:m.icon}),u.jsx("div",{className:"item-name",style:{marginTop:4},children:m.name})]}):u.jsx("div",{className:"empty-slot",style:{color:"#888"},children:"Empty"})]}),r&&u.jsx(u2,{slot:a,onClose:()=>c(!1)})]})},m2=()=>{const{activeBonuses:a}=He(),i=a.filter(c=>c.source==="gear"||c.source==="gearSet"),o={};i.forEach(c=>{const d=c.statAffected,m=c.scope;o[d]||(o[d]={}),o[d][m]||(o[d][m]=[]),o[d][m].push(c)});const r=c=>c.reduce((d,m)=>(m.type==="flat_additive"?d.flat+=m.value:(m.type==="percentage_additive"||m.type==="percentage_multiplicative")&&(d.percentage+=m.value*(m.type==="percentage_multiplicative"?100:1)),d),{flat:0,percentage:0});return u.jsxs("div",{className:"gear-stats-display",children:[u.jsx("h3",{children:"Active Gear Bonuses"}),Object.entries(o).map(([c,d])=>u.jsxs("div",{className:"stat-group",children:[u.jsx("h4",{children:f2(c)}),d.global&&u.jsxs("div",{className:"global-bonus",children:[u.jsx("div",{className:"bonus-label",children:"Global:"}),u.jsx("div",{className:"bonus-value",children:Uu(r(d.global))})]}),d.school&&Object.entries(Vg(d.school)).map(([m,p])=>u.jsxs("div",{className:"school-bonus",children:[u.jsxs("div",{className:"bonus-label",children:[m," School:"]}),u.jsx("div",{className:"bonus-value",children:Uu(r(p))})]},m)),d.action&&Object.entries(Vg(d.action)).map(([m,p])=>u.jsxs("div",{className:"action-bonus",children:[u.jsxs("div",{className:"bonus-label",children:[h2(m),":"]}),u.jsx("div",{className:"bonus-value",children:Uu(r(p))})]},m))]},c))]})},f2=a=>a.replace(/([A-Z])/g," $1").replace(/^./,i=>i.toUpperCase()),h2=a=>a.replace(/([A-Z])/g," $1").replace(/^./,i=>i.toUpperCase()),Vg=a=>{const i={};return a.forEach(o=>{var c;const r=((c=o.context)==null?void 0:c.toString())||"unknown";i[r]||(i[r]=[]),i[r].push(o)}),i},Uu=a=>{const i=[];return a.flat!==0&&i.push(u.jsxs("span",{className:a.flat>0?"positive":"negative",children:[a.flat>0?"+":"",a.flat]},"flat")),a.percentage!==0&&i.push(u.jsxs("span",{className:a.percentage>0?"positive":"negative",children:[a.percentage>0?"+":"",a.percentage,"%"]},"percentage")),u.jsx("div",{className:"bonus-values",children:i.map((o,r)=>u.jsxs(la.Fragment,{children:[r>0&&", ",o]},r))})},p2=()=>{const{equippedItems:a,equippedSetCounts:i}=Zn(),{inventoryItems:o}=be(),r=()=>Object.entries(i).map(([c,d])=>{const m=u0[c];return m?u.jsxs("div",{className:"set-bonus-container",style:{marginBottom:"1.2rem",background:"var(--card-bg)",border:"1.5px solid var(--card-border)",borderRadius:"12px",padding:"1.2rem",boxShadow:"0 2px 8px 0 #0002"},children:[u.jsxs("h4",{style:{margin:0,color:"var(--primary-color)",fontWeight:700,fontSize:"1.1rem"},children:[m.name," Set ",u.jsxs("span",{style:{color:"#888",fontWeight:500},children:["(",d,"/",m.bonuses[m.bonuses.length-1].requiredPieces,")"]})]}),u.jsx("div",{style:{marginTop:"0.7rem"},children:m.bonuses.map((p,y)=>{const h=d>=p.requiredPieces;return u.jsxs("div",{className:`set-bonus ${h?"active":"inactive"}`,style:{margin:"8px 0",padding:"10px 14px",borderRadius:"8px",background:h?"rgba(76, 175, 80, 0.10)":"var(--card-bg)",color:h?"#2e7d32":"var(--text-color)",fontWeight:h?600:400,borderLeft:h?"4px solid #4caf50":"4px solid var(--card-border)",display:"flex",flexDirection:"column",transition:"background 0.2s, color 0.2s"},children:[u.jsxs("div",{className:"bonus-requirement",style:{fontSize:"0.98em",fontWeight:500,marginBottom:2},children:[p.requiredPieces,"-piece bonus:"]}),u.jsx("div",{className:"bonus-description",style:{fontSize:"0.98em",marginLeft:8},children:p.description})]},y)})})]},c):null});return u.jsxs("div",{className:"content-center",children:[u.jsxs("div",{className:"main-card",style:{marginBottom:"2rem"},children:[u.jsx("h2",{style:{marginBottom:"0.5rem"},children:"Gear"}),u.jsx("p",{style:{color:"#ccc",marginBottom:0,fontSize:"1.15rem"},children:"Equip powerful gear to boost your stats, specialize in magic schools, and unlock set bonuses. Click a slot to equip or unequip items. Gear stats and bonuses are shown on the right."})]}),u.jsx("div",{className:"main-card",children:u.jsxs("div",{className:"gear-tab-columns",style:{width:"100%",display:"flex",gap:"2.5rem",alignItems:"flex-start",flexWrap:"wrap"},children:[u.jsxs("div",{className:"gear-slots-column",style:{flex:2,minWidth:320},children:[u.jsx("h3",{style:{marginBottom:"1rem",color:"var(--primary-color)"},children:"Equipment Slots"}),u.jsx("div",{className:"equipment-slots",style:{display:"flex",flexWrap:"wrap",gap:20},children:Object.keys(a).map(c=>{const d=o.find(m=>m.equippedSlot===c);return u.jsx(d2,{slot:c,itemId:d?d.id:null},c)})})]}),u.jsx("div",{className:"gear-stats-column",style:{flex:1,minWidth:260},children:u.jsx(m2,{})})]})}),Object.keys(i).length>0&&u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{style:{color:"var(--primary-color)",marginBottom:"1rem"},children:"Set Bonuses"}),r()]})]})},g2=({schoolId:a,schoolName:i})=>{const{schoolLevels:o,schoolXP:r,getRequiredXP:c}=Je(),d=r[a]||0,m=o[a]||1,p=c(m);return u.jsxs("div",{className:"school-header",children:[u.jsxs("div",{className:"school-header-top",children:[u.jsx("h2",{children:i}),u.jsxs("div",{className:"school-stats",children:[u.jsxs("span",{className:"school-stat-box school-level",children:["Level ",o[a]," / 99"]}),u.jsxs("span",{className:"school-stat-box school-xp",children:["XP ",m===99?d:`${d} / ${p}`]})]})]}),u.jsx("div",{className:"school-header-xp",children:u.jsx(f0,{schoolId:a})})]})},y2=({schoolId:a})=>{const i=Sn[a]||[];return i.length===0?u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{children:"Training Options"}),u.jsx("p",{children:"No training options available for this school yet."})]}):u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{children:"Training Options"}),u.jsx("div",{className:"training-options-grid",children:i.map(o=>u.jsx(y0,{option:o},o.id))})]})},v2=Object.fromEntries(va.map(a=>[a.id,a])),b2=({schoolId:a})=>{const i=v2[a];return Y.useEffect(()=>{sl()},[]),u.jsxs("div",{className:"content-center",children:[u.jsxs("div",{className:"main-card",children:[u.jsx(g2,{schoolId:a,schoolName:i.name}),u.jsx("div",{style:{width:"100%"},children:u.jsx("p",{children:i.description})})]}),u.jsx(y2,{schoolId:a})]})},Ou=()=>({isActive:!1,trialId:null,enemies:[],combatLog:[],playerTargetId:null,pendingRewards:{gold:0,xp:[],items:[]},lastCombatEndReason:null});function _2(a="enemy"){return`${a}_${Math.random().toString(36).substr(2,9)}_${Date.now()}`}const Wr=Vt((a,i)=>({...Ou(),startCombat:(o,r)=>{const c=r.map(d=>({id:_2(d.id),blueprintId:d.id,name:d.name,icon:d.icon,currentHp:d.stats.maxHp,maxHp:d.stats.maxHp,activeDebuffs:[],nextAttackTime:Date.now()+Math.floor(1e3/(d.stats.attackSpeed||1)),abilityCooldowns:(d.abilities||[]).reduce((m,p)=>(m[p.id]=0,m),{})}));a({isActive:!0,trialId:o,enemies:c,combatLog:[],playerTargetId:c.length>0?c[0].id:null,pendingRewards:{gold:0,xp:[],items:[]}})},endCombat:o=>{const r=o==="victory"?i().pendingRewards:null;return a({...Ou(),lastCombatEndReason:o}),{rewards:r}},enemyTakesDamage:(o,r,c)=>{let d=!1,m;return a(p=>({enemies:p.enemies.map(h=>{if(h.id!==o)return h;const g=Math.max(0,h.currentHp-r);return h.currentHp>0&&g===0&&(d=!0,m=Math.abs(g)),{...h,currentHp:g}})})),{didDie:d,overkillDamage:m}},setEnemyAttackTime:(o,r)=>{a(c=>({enemies:c.enemies.map(d=>d.id===o?{...d,nextAttackTime:Date.now()+r}:d)}))},addEnemyDebuff:(o,r)=>{a(c=>({enemies:c.enemies.map(d=>d.id===o?{...d,activeDebuffs:[...d.activeDebuffs,r]}:d)}))},updateEnemyDebuffDurations:o=>{a(r=>({enemies:r.enemies.map(c=>({...c,activeDebuffs:c.activeDebuffs.map(d=>({...d,durationRemainingMs:Math.max(0,d.durationRemainingMs-o)})).filter(d=>d.durationRemainingMs>0)}))}))},addCombatLogEntry:(o,r)=>{a(c=>({combatLog:[...c.combatLog,{timestamp:Date.now(),message:o,type:r}]}))},clearCombatLog:()=>{a({combatLog:[]})},setPlayerTarget:o=>{a({playerTargetId:o})},addPendingRewards:(o,r,c)=>{a(d=>({pendingRewards:{gold:d.pendingRewards.gold+o,xp:[...d.pendingRewards.xp,...r],items:[...d.pendingRewards.items,...c]}}))},setCombatEndReason:o=>{a({lastCombatEndReason:o})},resetActiveCombatState:()=>{a(Ou())}})),ku=Array(5).fill(null).map(()=>({spellId:null,autoCast:!1})),Lu=Array(2).fill(null).map(()=>({itemId:null,quantity:0})),ed=Vt()(da((a,i)=>({currentHp:0,maxHp:0,activeBuffs:[],activeDebuffs:[],spellSlots:[...ku],potionSlots:[...Lu],initializeCombatState:(o,r,c)=>{a({maxHp:o,currentHp:o,activeBuffs:[],activeDebuffs:[],spellSlots:r?r.map(d=>({...d})):[...ku],potionSlots:c?c.map(d=>({itemId:d.itemId,quantity:d.quantity})):[...Lu]})},takeDamage:o=>{const{currentHp:r}=i(),c=Math.max(0,r-o);return a({currentHp:c}),{isDefeated:c===0}},heal:o=>{const{currentHp:r,maxHp:c}=i();a({currentHp:Math.min(r+o,c)})},addBuff:o=>{a(r=>({activeBuffs:[...r.activeBuffs,o]}))},addDebuff:o=>{a(r=>({activeDebuffs:[...r.activeDebuffs,o]}))},updateBuffDebuffDurations:o=>{const c=i().activeBuffs.filter(d=>d.durationRemainingMs-o<=0);c.length>0&&c.forEach(d=>{He.getState().removeBonus(d.id)}),a(d=>({activeBuffs:d.activeBuffs.filter(m=>m.durationRemainingMs-o>0).map(m=>({...m,durationRemainingMs:Math.max(0,m.durationRemainingMs-o)})),activeDebuffs:d.activeDebuffs.filter(m=>m.durationRemainingMs-o>0).map(m=>({...m,durationRemainingMs:Math.max(0,m.durationRemainingMs-o)}))}))},setSpellInSlot:(o,r,c)=>{a(d=>{const m=[...d.spellSlots];return m[o]&&(m[o]={spellId:r,autoCast:c}),{spellSlots:m}})},setPotionInSlot:(o,r,c,d)=>{a(m=>{const p=[...m.potionSlots];return p[o]&&(p[o]={...p[o],itemId:r,quantity:c,...d!==void 0?{autoUseThresholdPercent:d}:{}}),{potionSlots:p}})},setAutoCast:(o,r)=>{a(c=>{const d=[...c.spellSlots];return d[o]&&(d[o]={...d[o],autoCast:r}),{spellSlots:d}})},consumePotionFromSlot:o=>{const{potionSlots:r}=i();if(!r[o]||!r[o].itemId||r[o].quantity<=0)return{itemId:null};const c=r[o].itemId;return a(d=>{const m=[...d.potionSlots];return m[o]={...m[o],quantity:Math.max(0,m[o].quantity-1)},m[o].quantity===0&&(m[o].itemId=null),{potionSlots:m}}),{itemId:c}},resetCombatPlayerState:()=>{a({currentHp:0,maxHp:0,activeBuffs:[],activeDebuffs:[],spellSlots:[...ku],potionSlots:[...Lu]})}}),{name:"combat-player-state-storage"})),qr={test_dummy_weak:{id:"test_dummy_weak",name:"Weak Training Dummy",icon:"",stats:{maxHp:50,attackPower:5,attackSpeed:.5,defense:0,primaryDamageType:Kt.PHYSICAL},goldDrop:{min:1,max:3},xpValue:{schoolId:"elemental",amount:10},lootTableId:"lt_dummy_common"},goblin_archer:{id:"goblin_archer",name:"Goblin Archer",icon:"",stats:{maxHp:35,attackPower:8,attackSpeed:.8,defense:1,primaryDamageType:Kt.PHYSICAL},goldDrop:{min:2,max:6},xpValue:{schoolId:"elemental",amount:12},lootTableId:"lt_goblin_archer",abilities:[{id:"poison_arrow",name:"Poison Arrow",type:"special_attack",baseDamage:6,damageType:Kt.PHYSICAL,effect:{type:"debuff_target",details:{stat:"defense",value:-2,durationMs:5e3}},cooldownMs:12e3,priority:2,aiTrigger:{condition:"random_chance",value:.2}}]},dire_wolf:{id:"dire_wolf",name:"Dire Wolf",icon:"",stats:{maxHp:70,attackPower:14,attackSpeed:.6,defense:2,primaryDamageType:Kt.PHYSICAL},goldDrop:{min:4,max:10},xpValue:{schoolId:"abjuration",amount:18},lootTableId:"lt_dire_wolf"},arcane_sentinel:{id:"arcane_sentinel",name:"Arcane Sentinel",icon:"",stats:{maxHp:90,attackPower:10,attackSpeed:.5,defense:5,primaryDamageType:Kt.ARCANE,resistances:{[Kt.ARCANE]:.3},weaknesses:{[Kt.PHYSICAL]:.2}},goldDrop:{min:8,max:15},xpValue:{schoolId:"arcane",amount:25},lootTableId:"lt_arcane_sentinel"},goblin_shaman:{id:"goblin_shaman",name:"Goblin Shaman",icon:"",stats:{maxHp:40,attackPower:6,attackSpeed:.7,defense:1,primaryDamageType:Kt.ARCANE},goldDrop:{min:3,max:7},xpValue:{schoolId:"elemental",amount:15},lootTableId:"lt_goblin_shaman",abilities:[{id:"minor_heal",name:"Minor Heal",type:"spell",effect:{type:"heal_self",details:{amount:10}},cooldownMs:8e3,priority:1,aiTrigger:{condition:"hp_below_percent",value:50}}]},fire_elemental:{id:"fire_elemental",name:"Fire Elemental",icon:"",stats:{maxHp:60,attackPower:12,attackSpeed:.6,defense:2,primaryDamageType:Kt.FIRE,resistances:{[Kt.FIRE]:.5},weaknesses:{[Kt.ICE]:.5}},goldDrop:{min:5,max:12},xpValue:{schoolId:"elemental",amount:20},lootTableId:"lt_fire_elemental",abilities:[{id:"fire_nova",name:"Fire Nova",type:"spell",baseDamage:18,damageType:Kt.FIRE,cooldownMs:1e4,priority:1,aiTrigger:{condition:"on_cooldown"}}]}},S2={lt_dummy_common:{id:"lt_dummy_common",drops:[{itemId:"ash",quantity:{min:1,max:2},chance:.8},{itemId:"health_potion",quantity:{min:1,max:1},chance:.1}]},lt_goblin_archer:{id:"lt_goblin_archer",drops:[{itemId:"arrow",quantity:{min:2,max:5},chance:.7},{itemId:"health_potion",quantity:{min:1,max:1},chance:.15},{itemId:"gold_coin",quantity:{min:3,max:8},chance:.5}]},lt_dire_wolf:{id:"lt_dire_wolf",drops:[{itemId:"wolf_pelt",quantity:{min:1,max:2},chance:.8},{itemId:"health_potion",quantity:{min:1,max:1},chance:.2},{itemId:"gold_coin",quantity:{min:5,max:12},chance:.6}]},lt_arcane_sentinel:{id:"lt_arcane_sentinel",drops:[{itemId:"arcane_core",quantity:{min:1,max:1},chance:.5},{itemId:"mana_potion",quantity:{min:1,max:2},chance:.3},{itemId:"gold_coin",quantity:{min:10,max:20},chance:.8}]}};function x2(a){const i=S2[a];if(!i)return[];const o=[];for(const r of i.drops)if(Math.random()<r.chance){const c=r.quantity.min,d=r.quantity.max,m=c===d?c:Math.floor(Math.random()*(d-c+1))+c;o.push({itemId:r.itemId,quantity:m})}return o}function I2(){var v,_,x,T;const a=Wr.getState(),i=ed.getState(),o=ce.getState(),r=il.getState(),c=He.getState(),d=Je.getState(),m=be.getState();if(!a.isActive)return;let p=!1;for(let M=0;M<i.potionSlots.length&&!p;M++){const I=i.potionSlots[M];if(I&&I.itemId&&I.quantity>0&&I.autoUseThresholdPercent){const E=Ne[I.itemId];if(!E||!E.effects)continue;for(const R of E.effects)if(R.type==="heal"){if(i.currentHp/i.maxHp*100<I.autoUseThresholdPercent){const{itemId:O}=i.consumePotionFromSlot(M);if(!O)continue;i.heal(R.value),a.addCombatLogEntry(`Auto-used ${E.name} and healed ${R.value} HP.`,"player_action"),p=!0;break}}else R.type}}let y=!1;for(let M=0;M<i.spellSlots.length&&!y;M++){const I=i.spellSlots[M];if(I&&I.spellId&&I.autoCast){const E=I.spellId,R=Object.values($n).flat().find(Z=>Z.id===E);if(!R)continue;const w=R.manaCostPerAction||0,O=R.type==="cast"?R.cooldownSeconds||0:R.actionDuration;if(r.getSpellCooldownRemaining(E)>0||o.mana<w)continue;let G=!0;if(R.reagentCosts){for(const Z of R.reagentCosts)if(m.getInventoryAmount(Z.itemId)<Z.amount){G=!1,a.addCombatLogEntry(`Auto-cast ${R.name} failed: missing reagents.`,"info");break}}if(!G)continue;if(o.removeMana(w),R.reagentCosts)for(const Z of R.reagentCosts)m.removeItemFromInventory(Z.itemId,Z.amount);r.setSpellCooldown(E,O),d.addSchoolXP(R.schoolId,R.xpPerAction),d.addMasteryXP(R.id,1);const X=a.playerTargetId,C=a.enemies.find(Z=>Z.id===X);if(!C)continue;let V=`Player auto-casts ${R.name}.`,z=0;if(R.combatBaseDamage&&R.combatDamageType){let Z=R.combatBaseDamage;const se=R.combatDamageType,ie=c.calculateModifiedStat(0,"criticalHitChance"),he=c.calculateModifiedStat(1.5,"criticalHitDamageMultiplier");let ue=!1;Math.random()<ie&&(Z*=he,ue=!0);const q=qr[C.blueprintId];if(q&&q.stats){const Q=((v=q.stats.resistances)==null?void 0:v[se])||0;Q>0&&(Z*=1-Q);const ee=((_=q.stats.weaknesses)==null?void 0:_[se])||0;ee>0&&(Z*=1+ee)}Z=Math.max(0,Math.round(Z)),z=Z,a.enemyTakesDamage(C.id,Z,se),V+=ue?` CRIT! Deals ${Z} damage to ${C.name}.`:` Deals ${Z} damage to ${C.name}.`}if(R.manaGeneratedPerAction&&(o.addMana(R.manaGeneratedPerAction,"active"),V+=` Generates ${R.manaGeneratedPerAction} mana.`),R.combatEffects)for(const Z of R.combatEffects)Z.type==="buff"&&Z.target==="self"&&(i.activeBuffs.find(ie=>ie.id===Z.buffId)||(i.addBuff({id:Z.buffId,name:Z.buffName,source:E,description:Z.buffName,durationRemainingMs:Z.durationMs,icon:Z.buffIcon}),c.addBonus({id:Z.buffId,source:E,statAffected:Z.statAffected,value:Z.value,type:Z.bonusType,scope:"GLOBAL",durationSeconds:Z.durationMs/1e3}),V+=` Gains buff: ${Z.buffName}.`));if(a.addCombatLogEntry(V,"player_action"),C.currentHp-z<=0){const Z=qr[C.blueprintId];if(!Z)continue;const se=Math.floor(Math.random()*(Z.goldDrop.max-Z.goldDrop.min+1))+Z.goldDrop.min;a.addPendingRewards(se,[Z.xpValue],[]);const ie=x2(Z.lootTableId);ie.length>0&&a.addPendingRewards(0,[],ie);const he=a.enemies.filter(ue=>ue.id!==C.id);if(Wr.setState({enemies:he}),a.enemies.length===1){a.endCombat("victory"),a.addCombatLogEntry("Victory! All enemies defeated.","info"),y=!0;break}a.enemies.length>1&&a.setPlayerTarget(a.enemies[0].id)}y=!0;break}}const h=Date.now();for(const M of a.enemies)if(h>=M.nextAttackTime){const I=qr[M.blueprintId];if(!I)continue;let E=!1;if(I.abilities&&I.abilities.length>0&&M.abilityCooldowns){const R=[...I.abilities].sort((w,O)=>(w.priority??99)-(O.priority??99));for(const w of R){const O=M.abilityCooldowns[w.id]||0;if(h<O)continue;let k=!1;if(w.aiTrigger?w.aiTrigger.condition==="hp_below_percent"?M.currentHp/M.maxHp*100<(w.aiTrigger.value??100)&&(k=!0):(w.aiTrigger.condition==="on_cooldown"||w.aiTrigger.condition==="random_chance"&&Math.random()<(w.aiTrigger.value??1))&&(k=!0):k=!0,k){if(w.type==="spell"&&((x=w.effect)==null?void 0:x.type)==="heal_self")M.currentHp=Math.min(M.maxHp,M.currentHp+(w.effect.details.amount||0)),a.addCombatLogEntry(`${M.name} uses ${w.name} and heals for ${w.effect.details.amount}.`,"enemy_action");else if(w.type==="spell"||w.type==="special_attack"){let G=w.baseDamage??I.stats.attackPower;w.damageType,i.takeDamage(G),a.addCombatLogEntry(`${M.name} uses ${w.name} on player for ${G} damage.`,"enemy_action"),((T=w.effect)==null?void 0:T.type)==="debuff_target"&&a.addCombatLogEntry(`Player is afflicted with ${w.name} debuff.`,"enemy_action")}M.abilityCooldowns[w.id]=h+w.cooldownMs,a.setEnemyAttackTime(M.id,h+1e3/I.stats.attackSpeed),E=!0;break}}}if(!E){const R=I.stats.attackPower,w=I.stats.primaryDamageType,O=c.calculateModifiedStat(0,"defense"),k=c.calculateModifiedStat(0,"defensePct"),G=`resistance${w.charAt(0)+w.slice(1).toLowerCase()}`,X=c.calculateModifiedStat(0,G),C=R*(1-X),V=Math.max(0,C*(1-k)-O);if(i.takeDamage(V),a.addCombatLogEntry(`${M.name} attacks player for ${V.toFixed(1)} damage. (raw: ${R}, resist: ${X}, def%: ${k}, def: ${O})`,"enemy_action"),i.currentHp<=0){a.endCombat("defeat"),a.addCombatLogEntry("Defeat! Player has been defeated.","info");return}a.setEnemyAttackTime(M.id,h+1e3/I.stats.attackSpeed)}}const g=1;i.updateBuffDebuffDurations(g),a.updateEnemyDebuffDurations(g*1e3)}const T2={trial_test_dummy:{id:"trial_test_dummy",name:"Training Dummy",description:"Practice your spells on a harmless dummy.",category:"Duels",enemyBlueprintIds:["test_dummy_weak"],recommendedLevel:1,icon:""},trial_goblin_archer:{id:"trial_goblin_archer",name:"Goblin Ambush",description:"Face off against a sneaky goblin archer in the woods.",category:"Duels",enemyBlueprintIds:["goblin_archer"],recommendedLevel:2,icon:""},trial_wolf_and_sentinel:{id:"trial_wolf_and_sentinel",name:"Wolf and Sentinel",description:"Survive a dire wolf attack and an arcane sentinel guardian.",category:"Dungeons",enemyBlueprintIds:["dire_wolf","arcane_sentinel"],recommendedLevel:4,icon:""}},M2=({open:a,onClose:i,onSelectSpell:o,slotIndex:r})=>{if(!a)return null;const{schoolLevels:c}=Je.getState(),d={};return Object.entries($n).forEach(([m,p])=>{const y=p.filter(h=>(h.type==="cast"||h.type==="train")&&(c[h.schoolId]||1)>=h.levelRequired);y.length>0&&(d[m]=y)}),u.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.55)",zIndex:1200,display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{style:{background:"var(--card-bg)",border:"2px solid var(--card-border)",borderRadius:14,padding:"2rem",minWidth:480,maxHeight:"80vh",overflowY:"auto",boxShadow:"0 6px 32px rgba(0,0,0,0.25)",position:"relative"},children:[u.jsx("button",{onClick:i,style:{position:"absolute",top:16,right:16,fontSize:20,background:"none",border:"none",color:"#fff",cursor:"pointer"},children:""}),u.jsxs("h2",{style:{color:"var(--primary-color)",marginBottom:16},children:["Select Spell for Slot ",r+1]}),Object.entries(d).map(([m,p])=>{const y=va.find(h=>h.id===m);return u.jsxs("div",{style:{marginBottom:24},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[y&&u.jsx(y.icon,{style:{fontSize:22}}),u.jsx("span",{style:{fontWeight:600,fontSize:18},children:y?y.name:m})]}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:p.map(h=>u.jsxs("div",{style:{background:"#23232a",border:"1.5px solid #444",borderRadius:8,padding:"1rem",minWidth:180,maxWidth:220,cursor:"pointer",transition:"border 0.2s"},onClick:()=>o(h.id),children:[u.jsx("div",{style:{fontWeight:600,color:"#fff",fontSize:16,marginBottom:4},children:h.name}),u.jsxs("div",{style:{color:"#90caf9",fontSize:13},children:["Mana: ",h.manaCostPerAction??0]}),u.jsxs("div",{style:{color:"#ffd700",fontSize:12},children:[h.type==="cast"?"CD":"Cast",": ",h.type==="cast"?h.cooldownSeconds??0:h.actionDuration,"s"]}),u.jsxs("div",{style:{color:"#a7ee70",fontSize:12},children:["XP: ",h.xpPerAction]}),u.jsx("div",{style:{color:"#ccc",fontSize:13,marginTop:4},children:h.description}),h.combatBaseDamage!==void 0&&u.jsxs("div",{style:{color:"#ff5252",fontSize:13,marginTop:2},children:["Damage: ",h.combatBaseDamage]}),h.manaGeneratedPerAction!==void 0&&h.manaGeneratedPerAction>0&&u.jsxs("div",{style:{color:"#66ccff",fontSize:13,marginTop:2},children:["Mana Gen: +",h.manaGeneratedPerAction]}),h.reagentCosts&&h.reagentCosts.length>0&&u.jsxs("div",{style:{marginTop:4},children:[u.jsx("div",{style:{color:"#ffcc80",fontSize:13,fontWeight:500},children:"Reagents:"}),h.reagentCosts.map(g=>{var v,_;return u.jsxs("div",{style:{color:"#ffebd7",fontSize:12,marginLeft:8},children:[(v=Ne[g.itemId])==null?void 0:v.icon," ",g.amount," ",((_=Ne[g.itemId])==null?void 0:_.name)||g.itemId]},g.itemId)})]})]},h.id))})]},m)})]})})},A2=()=>{const a=Wr(),i=ed(),o=ce(),r=il(),c=Wr(),d=ed(),m=ua(),p=Je(),y=be(),h=Zn(),g=Le(),v=He(),{showTooltip:_,hideTooltip:x}=ol(),T=Y.useRef(a.isActive),M=a.enemies&&a.enemies.length>0?a.enemies[0]:null;Y.useEffect(()=>{const C=setInterval(()=>{I2()},300);return()=>clearInterval(C)},[]),Y.useEffect(()=>{if(T.current&&!a.isActive){const C=a.pendingRewards,V=C.gold>0||C.xp&&C.xp.length>0||C.items&&C.items.length>0;if(a.lastCombatEndReason==="victory")V&&(C.gold>0&&m.addGold(C.gold),C.xp&&C.xp.length>0&&C.xp.forEach(z=>{z.schoolId&&z.amount&&p.addSchoolXP(z.schoolId,z.amount)}),C.items&&C.items.length>0&&C.items.forEach(z=>{z.itemId&&z.quantity&&y.addItemToInventory(z.itemId,z.quantity)}),c.addCombatLogEntry("Victory!","info"),C.items&&C.items.length>0&&C.items.forEach(z=>{const Z=Ne[z.itemId],se=Z?Z.name:z.itemId;c.addCombatLogEntry(`Loot: ${se} x${z.quantity}`,"info")}));else if(a.lastCombatEndReason==="defeat"){o.setMana(0);const z=h.equippedItems;Object.keys(z).forEach(Z=>{z[Z]&&h.unequipItem(Z)}),g.addNotification({id:`defeat-${Date.now()}`,type:"custom",message:"You have been defeated! Your gear has been unequipped and mana lost.",timestamp:Date.now()},5e3),c.addCombatLogEntry("Defeated!","info")}else a.lastCombatEndReason==="flee"&&c.addCombatLogEntry("You fled the combat.","info");d.resetCombatPlayerState(),c.resetActiveCombatState(),c.setCombatEndReason(null)}T.current=a.isActive},[a.isActive,a.lastCombatEndReason,a.pendingRewards,c,d,h,m,y,o,g,p]);const I=Y.useCallback(()=>{c.endCombat("defeat")},[c]),E=Y.useCallback(()=>{c.addCombatLogEntry("Player fled the combat.","info"),c.endCombat("flee")},[c]),[R,w]=Y.useState(!1),[O,k]=Y.useState(null),G=C=>{O!==null&&(d.setSpellInSlot(O,C,!1),w(!1),k(null))},X=Y.useCallback(C=>{const{itemId:V}=d.consumePotionFromSlot(C);if(!V)return;const z=Ne[V];!z||!z.effects||z.effects.forEach(Z=>{Z.type==="heal"?(d.heal(Z.value),c.addCombatLogEntry(`Player uses ${z.name} and heals ${Z.value} HP.`,"player_action")):Z.type==="mana_restore"&&(o.addMana?o.addMana(Z.value,"active"):o.setMana(o.mana+Z.value),c.addCombatLogEntry(`Player uses ${z.name} and restores ${Z.value} mana.`,"player_action"))})},[d,c,o]);return u.jsxs("div",{className:"content-center",children:[u.jsxs("div",{className:"main-card",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[u.jsx("h2",{children:"Trials"}),u.jsx(At,{amount:m.gold})]}),u.jsx("p",{style:{marginTop:"1rem",color:"#ccc",fontSize:"1.15rem"},children:"Engage in magical combat trials to earn loot, XP, and test your spell mastery. Select a trial below to begin combat."})]}),!a.isActive&&u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsx("h3",{style:{color:"var(--primary-color)",fontSize:"1.3rem",marginBottom:"1rem"},children:"Available Trials"}),u.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:Object.values(T2).map(C=>u.jsxs("button",{className:"training-option-card__button",style:{display:"flex",alignItems:"center",gap:"1.2rem",padding:"1rem",fontSize:"1.1rem",justifyContent:"flex-start"},onClick:()=>{d.initializeCombatState(100),c.startCombat(C.id,C.enemyBlueprintIds.map(V=>qr[V]))},children:[u.jsx("span",{style:{fontSize:"2rem"},children:C.icon??""}),u.jsxs("div",{style:{textAlign:"left"},children:[u.jsx("div",{style:{fontWeight:600,color:"var(--primary-color)"},children:C.name}),u.jsx("div",{style:{color:"#ccc",fontSize:"1rem"},children:C.description}),C.recommendedLevel&&u.jsxs("div",{style:{color:"#aaa",fontSize:"0.95rem",marginTop:2},children:["Recommended Level: ",C.recommendedLevel]})]})]},C.id))})]}),a.isActive&&u.jsxs("div",{className:"main-card",style:{marginTop:"2rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[u.jsx("h3",{style:{color:"var(--primary-color)",fontSize:"1.5rem",margin:0},children:"Combat"}),u.jsx("div",{style:{color:"#aaa",fontSize:"1.1rem",fontWeight:500,alignSelf:"center"},children:a.isActive?"Combat Active":"No Combat"})]}),u.jsxs("div",{style:{display:"flex",gap:"2rem",marginTop:"2rem",flexWrap:"wrap"},children:[u.jsx("div",{style:{flex:1,minWidth:220},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.7rem"},children:[u.jsx("span",{style:{fontSize:"2rem"},children:""}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:600,color:"var(--primary-color)"},children:"Player"}),u.jsxs("div",{style:{color:"#ccc",fontSize:"1rem"},children:["HP: ",i.currentHp," / ",i.maxHp]}),u.jsx(rl,{size:"small"}),u.jsxs("div",{style:{color:"#ffd700",fontSize:"0.98rem",marginTop:2},children:["Crit Chance: ",(v.calculateModifiedStat(0,"criticalHitChance")*100).toFixed(1),"%",u.jsx("br",{}),"Crit Multiplier: ",v.calculateModifiedStat(1.5,"criticalHitDamageMultiplier").toFixed(2),"x"]}),(i.activeBuffs.length>0||i.activeDebuffs.length>0)&&u.jsxs("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:2},children:[i.activeBuffs.length>0&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[u.jsx("span",{style:{color:"#90ee90",fontWeight:600,fontSize:13},children:"Buffs:"}),i.activeBuffs.map(C=>u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2,background:"#234d23",borderRadius:4,padding:"2px 6px",cursor:"pointer"},onMouseEnter:V=>_(u.jsxs("div",{style:{maxWidth:260},children:[u.jsx("div",{style:{fontWeight:600,color:"#90ee90",marginBottom:2},children:C.name}),u.jsx("div",{style:{color:"#ccc",fontSize:13},children:C.description})]}),{x:V.clientX,y:V.clientY}),onMouseMove:V=>_(u.jsxs("div",{style:{maxWidth:260},children:[u.jsx("div",{style:{fontWeight:600,color:"#90ee90",marginBottom:2},children:C.name}),u.jsx("div",{style:{color:"#ccc",fontSize:13},children:C.description})]}),{x:V.clientX,y:V.clientY}),onMouseLeave:x,children:[C.icon&&u.jsx("span",{style:{fontSize:18,marginRight:2},children:C.icon}),u.jsx("span",{style:{fontWeight:500},children:C.name}),u.jsxs("span",{style:{color:"#b2ffb2",fontSize:12,marginLeft:4},children:[kt(C.durationRemainingMs/1e3),"s"]})]},C.id))]}),i.activeDebuffs.length>0&&u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginTop:2},children:[u.jsx("span",{style:{color:"#ff5252",fontWeight:600,fontSize:13},children:"Debuffs:"}),i.activeDebuffs.map(C=>u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2,background:"#4d2323",borderRadius:4,padding:"2px 6px",cursor:"pointer"},onMouseEnter:V=>_(u.jsxs("div",{style:{maxWidth:260},children:[u.jsx("div",{style:{fontWeight:600,color:"#ff5252",marginBottom:2},children:C.name}),u.jsx("div",{style:{color:"#ccc",fontSize:13},children:C.description})]}),{x:V.clientX,y:V.clientY}),onMouseMove:V=>_(u.jsxs("div",{style:{maxWidth:260},children:[u.jsx("div",{style:{fontWeight:600,color:"#ff5252",marginBottom:2},children:C.name}),u.jsx("div",{style:{color:"#ccc",fontSize:13},children:C.description})]}),{x:V.clientX,y:V.clientY}),onMouseLeave:x,children:[C.icon&&u.jsx("span",{style:{fontSize:18,marginRight:2},children:C.icon}),u.jsx("span",{style:{fontWeight:500},children:C.name}),u.jsxs("span",{style:{color:"#ffb2b2",fontSize:12,marginLeft:4},children:[kt(C.durationRemainingMs/1e3),"s"]})]},C.id))]})]})]})]})}),a.isActive&&M&&u.jsx("div",{style:{flex:1,minWidth:220},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.7rem"},children:[u.jsx("span",{style:{fontSize:"2rem"},children:M.icon}),u.jsxs("div",{children:[u.jsx("div",{style:{fontWeight:600,color:"#ff5252"},children:M.name}),u.jsxs("div",{style:{color:"#ccc",fontSize:"1rem"},children:["HP: ",M.currentHp," / ",M.maxHp]}),M.activeDebuffs&&M.activeDebuffs.length>0&&u.jsxs("div",{style:{marginTop:8,display:"flex",alignItems:"center",gap:6},children:[u.jsx("span",{style:{color:"#ff5252",fontWeight:600,fontSize:13},children:"Debuffs:"}),M.activeDebuffs.map(C=>u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:2,background:"#4d2323",borderRadius:4,padding:"2px 6px",cursor:"pointer"},onMouseEnter:V=>_(u.jsxs("div",{style:{maxWidth:260},children:[u.jsx("div",{style:{fontWeight:600,color:"#ff5252",marginBottom:2},children:C.name}),u.jsx("div",{style:{color:"#ccc",fontSize:13},children:C.description})]}),{x:V.clientX,y:V.clientY}),onMouseMove:V=>_(u.jsxs("div",{style:{maxWidth:260},children:[u.jsx("div",{style:{fontWeight:600,color:"#ff5252",marginBottom:2},children:C.name}),u.jsx("div",{style:{color:"#ccc",fontSize:13},children:C.description})]}),{x:V.clientX,y:V.clientY}),onMouseLeave:x,children:[C.icon&&u.jsx("span",{style:{fontSize:18,marginRight:2},children:C.icon}),u.jsx("span",{style:{fontWeight:500},children:C.name}),u.jsxs("span",{style:{color:"#ffb2b2",fontSize:12,marginLeft:4},children:[kt(C.durationRemainingMs/1e3),"s"]})]},C.id))]})]})]})})]}),u.jsxs("div",{style:{marginTop:"2.5rem",width:"100%"},children:[u.jsx("div",{style:{fontWeight:600,color:"var(--primary-color)",marginBottom:8},children:"Spell Slot Bar"}),u.jsxs("div",{style:{display:"flex",gap:"1.2rem",alignItems:"center"},children:[i.spellSlots.map((C,V)=>{const z=C.spellId?Object.values($n).flat().find(ue=>ue.id===C.spellId):void 0;let Z=0,se=0,ie=0;z&&(Z=z.manaCostPerAction||0,z.type==="cast"?se=z.cooldownSeconds||0:se=z.actionDuration,ie=C.spellId?r.getSpellCooldownRemaining(C.spellId):0);const he=z?`${z.name}
Mana Cost: ${Z}
${z.type==="cast"?"Cooldown":"Cast Time"}: ${se}s
XP: ${z.xpPerAction}${z.reagentCosts&&z.reagentCosts.length>0?`
Reagents: ${z.reagentCosts.map(ue=>{var q;return`${ue.amount} ${((q=Ne[ue.itemId])==null?void 0:q.name)||ue.itemId}`}).join(", ")}`:""}${z.combatBaseDamage?`
Damage: ${z.combatBaseDamage}`:""}${z.manaGeneratedPerAction?`
Mana Gen: ${z.manaGeneratedPerAction}`:""}`:"Empty Slot";return u.jsx("div",{style:{position:"relative",minWidth:90,textAlign:"center",background:"#222",borderRadius:8,padding:8,border:"1px solid #444"},title:he,children:C.spellId&&z?u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{cursor:ie===0?"pointer":"not-allowed",opacity:ie>0?.6:1},onClick:()=>{if(ie===0&&a.isActive&&M&&z){const ue=z.manaCostPerAction||0,q=z.type==="cast"?z.cooldownSeconds||0:z.actionDuration;if(o.mana<ue){c.addCombatLogEntry(`Not enough mana to cast ${z.name}.`,"info");return}let Q=!0;if(z.reagentCosts){for(const me of z.reagentCosts)if(y.getInventoryAmount(me.itemId)<me.amount){Q=!1,c.addCombatLogEntry(`Missing reagents for ${z.name}.`,"info");break}}if(!Q)return;if(o.removeMana(ue),z.reagentCosts)for(const me of z.reagentCosts)y.removeItemFromInventory(me.itemId,me.amount);r.setSpellCooldown(C.spellId,q),p.addSchoolXP(z.schoolId,z.xpPerAction),p.addMasteryXP(z.id,1);let ee=`Player casts ${z.name}.`;z.combatBaseDamage&&z.combatDamageType&&M&&(c.enemyTakesDamage(M.id,z.combatBaseDamage,z.combatDamageType),ee+=` Deals ${z.combatBaseDamage} ${z.combatDamageType} damage to ${M.name}.`),z.manaGeneratedPerAction&&(o.addMana(z.manaGeneratedPerAction,"active"),ee+=` Generates ${z.manaGeneratedPerAction} mana.`),c.addCombatLogEntry(ee,"player_action")}},children:[u.jsx("div",{style:{fontSize:32,marginBottom:4},children:""}),u.jsx("div",{style:{fontWeight:600,color:"#fff",fontSize:14},children:z.name}),ie>0&&u.jsxs("div",{style:{position:"absolute",top:8,left:8,right:8,bottom:8,background:"rgba(0,0,0,0.6)",color:"#ff5252",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:8,fontWeight:700,fontSize:16},children:[ie.toFixed(1),"s"]})]}),u.jsxs("div",{style:{color:"#90caf9",fontSize:13,marginTop:2},children:["Mana: ",Z]}),u.jsxs("div",{style:{color:"#ffd700",fontSize:12,marginTop:1},children:[z.type==="cast"?"CD":"Cast",": ",se,"s"]}),u.jsxs("label",{style:{display:"block",marginTop:4,fontSize:12,color:"#ccc"},children:[u.jsx("input",{type:"checkbox",checked:C.autoCast,onChange:ue=>d.setAutoCast(V,ue.target.checked),style:{marginRight:4}}),"Auto-Cast"]})]}):u.jsx("div",{style:{color:"#888",fontSize:13,padding:"18px 0",cursor:"pointer"},onClick:()=>{k(V),w(!0)},children:"Empty Slot"})},V)}),u.jsx("button",{style:{marginLeft:16,padding:"8px 16px",borderRadius:6,background:"#333",color:"#fff",border:"1px solid #555",fontWeight:500},onClick:()=>{k(0),w(!0)},children:"Assign Spells to Slots"})]}),u.jsx(M2,{open:R,onClose:()=>{w(!1),k(null)},onSelectSpell:G,slotIndex:O??0})]}),u.jsxs("div",{style:{marginTop:"2rem",width:"100%"},children:[u.jsx("div",{style:{fontWeight:600,color:"var(--primary-color)",marginBottom:8},children:"Consumables"}),u.jsxs("div",{style:{display:"flex",gap:"1.2rem",alignItems:"center"},children:[i.potionSlots.map((C,V)=>{const z=C.itemId?Ne[C.itemId]:null;return u.jsx("div",{style:{minWidth:80,textAlign:"center",background:"#222",borderRadius:8,padding:8,border:"1px solid #444",position:"relative"},children:z?u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{cursor:C.quantity>0?"pointer":"not-allowed",opacity:C.quantity>0?1:.5},onClick:()=>C.quantity>0&&X(V),title:z.name,children:[u.jsx("div",{style:{fontSize:32},children:z.icon}),u.jsx("div",{style:{fontWeight:600,color:"#fff",fontSize:14},children:z.name}),u.jsxs("div",{style:{color:"#90caf9",fontSize:13},children:["x",C.quantity]})]}),u.jsx("div",{style:{marginTop:6},children:u.jsxs("label",{style:{color:"#ccc",fontSize:12},children:["Auto-Use Threshold (% HP):",u.jsx("input",{type:"number",min:1,max:100,value:C.autoUseThresholdPercent??"",onChange:Z=>{const se=parseInt(Z.target.value,10);d.setPotionInSlot(V,C.itemId,C.quantity,isNaN(se)?void 0:se)},style:{width:48,marginLeft:4}})]})})]}):u.jsx("div",{style:{color:"#888",fontSize:13,padding:"18px 0"},children:"Empty Slot"})},V)}),u.jsx("button",{style:{marginLeft:16,padding:"8px 16px",borderRadius:6,background:"#333",color:"#fff",border:"1px solid #555",fontWeight:500},onClick:()=>{},children:"Assign Potions"})]})]}),u.jsxs("div",{style:{marginTop:"2.5rem",width:"100%"},children:[u.jsx("div",{style:{fontWeight:600,color:"var(--primary-color)",marginBottom:8},children:"Combat Log"}),u.jsxs("div",{style:{background:"var(--card-bg)",border:"1px solid var(--card-border)",borderRadius:8,minHeight:80,maxHeight:180,overflowY:"auto",padding:"0.7rem 1rem",fontSize:"0.98rem",color:"#ccc"},children:[a.combatLog.length===0&&u.jsx("div",{style:{color:"#666"},children:"No combat events yet."}),a.combatLog.slice(-20).map((C,V)=>{let z="#ccc";return C.type==="info"?z="#90caf9":C.type==="enemy_action"?z="#ff5252":C.type==="player_action"?z="#90ee90":C.type==="loot"&&(z="#ffd700"),C.message.startsWith("CRIT!")&&(z="#ffd700"),u.jsxs("div",{style:{color:z,fontWeight:C.message.startsWith("CRIT!")?700:400},children:[new Date(C.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})," - ",C.message]},C.timestamp+"-"+V)})]})]}),u.jsxs("div",{style:{marginTop:"2.5rem",width:"100%",display:"flex",gap:"1rem"},children:[u.jsx("button",{className:"training-option-card__button",onClick:I,style:{background:"#dc3545",color:"#fff",borderColor:"#dc3545"},children:"End Combat (DEBUG)"}),a.isActive&&u.jsx("button",{className:"training-option-card__button",onClick:E,style:{background:"#6c757d",color:"#fff",borderColor:"#6c757d"},children:"Flee"})]})]})]})},v0={settings:IS,vault:s2,shop:o2,mana:c2,debug:function(){const{settings:i}=Ce();return i.debugMode?u.jsx(qS,{}):null},gear:p2,trials:A2};va.forEach(a=>{v0[a.id]=()=>u.jsx(b2,{schoolId:a.id})});const N2=Object.fromEntries(va.map(a=>[a.id,a])),C2=()=>{const{activeTab:a}=ya(),{settings:i}=Ce();if(a==="debug"&&!i.debugMode)return null;const o=v0[a];if(o)return u.jsx(o,{});const r=hS[a]||N2[a];return r?u.jsx("div",{className:"content-center",children:u.jsxs("div",{className:"main-card",children:[u.jsx("h2",{children:r.name}),u.jsx("div",{style:{width:"100%"},children:u.jsx("p",{children:r.description})})]})}):u.jsx("div",{className:"content-center",children:u.jsxs("div",{className:"main-card",children:[u.jsx("h2",{children:"Unknown Tab"}),u.jsx("p",{children:"The selected tab does not exist."})]})})},Cd=Y.createContext({});function jd(a){const i=Y.useRef(null);return i.current===null&&(i.current=a()),i.current}const Ed=typeof window<"u",b0=Ed?Y.useLayoutEffect:Y.useEffect,ll=Y.createContext(null);function wd(a,i){a.indexOf(i)===-1&&a.push(i)}function Dd(a,i){const o=a.indexOf(i);o>-1&&a.splice(o,1)}const Fa=(a,i,o)=>o>i?i:o<a?a:o;let Rd=()=>{};const Xa={},_0=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function S0(a){return typeof a=="object"&&a!==null}const x0=a=>/^0[^.\s]+$/u.test(a);function Pd(a){let i;return()=>(i===void 0&&(i=a()),i)}const ca=a=>a,j2=(a,i)=>o=>i(a(o)),yo=(...a)=>a.reduce(j2),co=(a,i,o)=>{const r=i-a;return r===0?1:(o-a)/r};class Ud{constructor(){this.subscriptions=[]}add(i){return wd(this.subscriptions,i),()=>Dd(this.subscriptions,i)}notify(i,o,r){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](i,o,r);else for(let d=0;d<c;d++){const m=this.subscriptions[d];m&&m(i,o,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ta=a=>a*1e3,Ma=a=>a/1e3;function I0(a,i){return i?a*(1e3/i):0}const T0=(a,i,o)=>(((1-3*o+3*i)*a+(3*o-6*i))*a+3*i)*a,E2=1e-7,w2=12;function D2(a,i,o,r,c){let d,m,p=0;do m=i+(o-i)/2,d=T0(m,r,c)-a,d>0?o=m:i=m;while(Math.abs(d)>E2&&++p<w2);return m}function vo(a,i,o,r){if(a===i&&o===r)return ca;const c=d=>D2(d,0,1,a,o);return d=>d===0||d===1?d:T0(c(d),i,r)}const M0=a=>i=>i<=.5?a(2*i)/2:(2-a(2*(1-i)))/2,A0=a=>i=>1-a(1-i),N0=vo(.33,1.53,.69,.99),Od=A0(N0),C0=M0(Od),j0=a=>(a*=2)<1?.5*Od(a):.5*(2-Math.pow(2,-10*(a-1))),kd=a=>1-Math.sin(Math.acos(a)),E0=A0(kd),w0=M0(kd),R2=vo(.42,0,1,1),P2=vo(0,0,.58,1),D0=vo(.42,0,.58,1),U2=a=>Array.isArray(a)&&typeof a[0]!="number",R0=a=>Array.isArray(a)&&typeof a[0]=="number",O2={linear:ca,easeIn:R2,easeInOut:D0,easeOut:P2,circIn:kd,circInOut:w0,circOut:E0,backIn:Od,backInOut:C0,backOut:N0,anticipate:j0},k2=a=>typeof a=="string",qg=a=>{if(R0(a)){Rd(a.length===4);const[i,o,r,c]=a;return vo(i,o,r,c)}else if(k2(a))return O2[a];return a},Ur=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],zg={value:null};function L2(a,i){let o=new Set,r=new Set,c=!1,d=!1;const m=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1},y=0;function h(v){m.has(v)&&(g.schedule(v),a()),y++,v(p)}const g={schedule:(v,_=!1,x=!1)=>{const M=x&&c?o:r;return _&&m.add(v),M.has(v)||M.add(v),v},cancel:v=>{r.delete(v),m.delete(v)},process:v=>{if(p=v,c){d=!0;return}c=!0,[o,r]=[r,o],o.forEach(h),i&&zg.value&&zg.value.frameloop[i].push(y),y=0,o.clear(),c=!1,d&&(d=!1,g.process(v))}};return g}const V2=40;function P0(a,i){let o=!1,r=!0;const c={delta:0,timestamp:0,isProcessing:!1},d=()=>o=!0,m=Ur.reduce((w,O)=>(w[O]=L2(d,i?O:void 0),w),{}),{setup:p,read:y,resolveKeyframes:h,preUpdate:g,update:v,preRender:_,render:x,postRender:T}=m,M=()=>{const w=Xa.useManualTiming?c.timestamp:performance.now();o=!1,Xa.useManualTiming||(c.delta=r?1e3/60:Math.max(Math.min(w-c.timestamp,V2),1)),c.timestamp=w,c.isProcessing=!0,p.process(c),y.process(c),h.process(c),g.process(c),v.process(c),_.process(c),x.process(c),T.process(c),c.isProcessing=!1,o&&i&&(r=!1,a(M))},I=()=>{o=!0,r=!0,c.isProcessing||a(M)};return{schedule:Ur.reduce((w,O)=>{const k=m[O];return w[O]=(G,X=!1,C=!1)=>(o||I(),k.schedule(G,X,C)),w},{}),cancel:w=>{for(let O=0;O<Ur.length;O++)m[Ur[O]].cancel(w)},state:c,steps:m}}const{schedule:Xe,cancel:xn,state:bt,steps:Vu}=P0(typeof requestAnimationFrame<"u"?requestAnimationFrame:ca,!0);let zr;function q2(){zr=void 0}const Lt={now:()=>(zr===void 0&&Lt.set(bt.isProcessing||Xa.useManualTiming?bt.timestamp:performance.now()),zr),set:a=>{zr=a,queueMicrotask(q2)}},U0=a=>i=>typeof i=="string"&&i.startsWith(a),Ld=U0("--"),z2=U0("var(--"),Vd=a=>z2(a)?B2.test(a.split("/*")[0].trim()):!1,B2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qi={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},uo={...Qi,transform:a=>Fa(0,1,a)},Or={...Qi,default:1},no=a=>Math.round(a*1e5)/1e5,qd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Y2(a){return a==null}const G2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zd=(a,i)=>o=>!!(typeof o=="string"&&G2.test(o)&&o.startsWith(a)||i&&!Y2(o)&&Object.prototype.hasOwnProperty.call(o,i)),O0=(a,i,o)=>r=>{if(typeof r!="string")return r;const[c,d,m,p]=r.match(qd);return{[a]:parseFloat(c),[i]:parseFloat(d),[o]:parseFloat(m),alpha:p!==void 0?parseFloat(p):1}},H2=a=>Fa(0,255,a),qu={...Qi,transform:a=>Math.round(H2(a))},Hn={test:zd("rgb","red"),parse:O0("red","green","blue"),transform:({red:a,green:i,blue:o,alpha:r=1})=>"rgba("+qu.transform(a)+", "+qu.transform(i)+", "+qu.transform(o)+", "+no(uo.transform(r))+")"};function F2(a){let i="",o="",r="",c="";return a.length>5?(i=a.substring(1,3),o=a.substring(3,5),r=a.substring(5,7),c=a.substring(7,9)):(i=a.substring(1,2),o=a.substring(2,3),r=a.substring(3,4),c=a.substring(4,5),i+=i,o+=o,r+=r,c+=c),{red:parseInt(i,16),green:parseInt(o,16),blue:parseInt(r,16),alpha:c?parseInt(c,16)/255:1}}const td={test:zd("#"),parse:F2,transform:Hn.transform},bo=a=>({test:i=>typeof i=="string"&&i.endsWith(a)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${a}`}),bn=bo("deg"),Aa=bo("%"),ge=bo("px"),X2=bo("vh"),Q2=bo("vw"),Bg={...Aa,parse:a=>Aa.parse(a)/100,transform:a=>Aa.transform(a*100)},qi={test:zd("hsl","hue"),parse:O0("hue","saturation","lightness"),transform:({hue:a,saturation:i,lightness:o,alpha:r=1})=>"hsla("+Math.round(a)+", "+Aa.transform(no(i))+", "+Aa.transform(no(o))+", "+no(uo.transform(r))+")"},Tt={test:a=>Hn.test(a)||td.test(a)||qi.test(a),parse:a=>Hn.test(a)?Hn.parse(a):qi.test(a)?qi.parse(a):td.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Hn.transform(a):qi.transform(a)},K2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $2(a){var i,o;return isNaN(a)&&typeof a=="string"&&(((i=a.match(qd))==null?void 0:i.length)||0)+(((o=a.match(K2))==null?void 0:o.length)||0)>0}const k0="number",L0="color",Z2="var",W2="var(",Yg="${}",J2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mo(a){const i=a.toString(),o=[],r={color:[],number:[],var:[]},c=[];let d=0;const p=i.replace(J2,y=>(Tt.test(y)?(r.color.push(d),c.push(L0),o.push(Tt.parse(y))):y.startsWith(W2)?(r.var.push(d),c.push(Z2),o.push(y)):(r.number.push(d),c.push(k0),o.push(parseFloat(y))),++d,Yg)).split(Yg);return{values:o,split:p,indexes:r,types:c}}function V0(a){return mo(a).values}function q0(a){const{split:i,types:o}=mo(a),r=i.length;return c=>{let d="";for(let m=0;m<r;m++)if(d+=i[m],c[m]!==void 0){const p=o[m];p===k0?d+=no(c[m]):p===L0?d+=Tt.transform(c[m]):d+=c[m]}return d}}const ex=a=>typeof a=="number"?0:a;function tx(a){const i=V0(a);return q0(a)(i.map(ex))}const In={test:$2,parse:V0,createTransformer:q0,getAnimatableNone:tx};function zu(a,i,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?a+(i-a)*6*o:o<1/2?i:o<2/3?a+(i-a)*(2/3-o)*6:a}function ax({hue:a,saturation:i,lightness:o,alpha:r}){a/=360,i/=100,o/=100;let c=0,d=0,m=0;if(!i)c=d=m=o;else{const p=o<.5?o*(1+i):o+i-o*i,y=2*o-p;c=zu(y,p,a+1/3),d=zu(y,p,a),m=zu(y,p,a-1/3)}return{red:Math.round(c*255),green:Math.round(d*255),blue:Math.round(m*255),alpha:r}}function Jr(a,i){return o=>o>0?i:a}const Fe=(a,i,o)=>a+(i-a)*o,Bu=(a,i,o)=>{const r=a*a,c=o*(i*i-r)+r;return c<0?0:Math.sqrt(c)},nx=[td,Hn,qi],ix=a=>nx.find(i=>i.test(a));function Gg(a){const i=ix(a);if(!i)return!1;let o=i.parse(a);return i===qi&&(o=ax(o)),o}const Hg=(a,i)=>{const o=Gg(a),r=Gg(i);if(!o||!r)return Jr(a,i);const c={...o};return d=>(c.red=Bu(o.red,r.red,d),c.green=Bu(o.green,r.green,d),c.blue=Bu(o.blue,r.blue,d),c.alpha=Fe(o.alpha,r.alpha,d),Hn.transform(c))},ad=new Set(["none","hidden"]);function sx(a,i){return ad.has(a)?o=>o<=0?a:i:o=>o>=1?i:a}function ox(a,i){return o=>Fe(a,i,o)}function Bd(a){return typeof a=="number"?ox:typeof a=="string"?Vd(a)?Jr:Tt.test(a)?Hg:cx:Array.isArray(a)?z0:typeof a=="object"?Tt.test(a)?Hg:rx:Jr}function z0(a,i){const o=[...a],r=o.length,c=a.map((d,m)=>Bd(d)(d,i[m]));return d=>{for(let m=0;m<r;m++)o[m]=c[m](d);return o}}function rx(a,i){const o={...a,...i},r={};for(const c in o)a[c]!==void 0&&i[c]!==void 0&&(r[c]=Bd(a[c])(a[c],i[c]));return c=>{for(const d in r)o[d]=r[d](c);return o}}function lx(a,i){const o=[],r={color:0,var:0,number:0};for(let c=0;c<i.values.length;c++){const d=i.types[c],m=a.indexes[d][r[d]],p=a.values[m]??0;o[c]=p,r[d]++}return o}const cx=(a,i)=>{const o=In.createTransformer(i),r=mo(a),c=mo(i);return r.indexes.var.length===c.indexes.var.length&&r.indexes.color.length===c.indexes.color.length&&r.indexes.number.length>=c.indexes.number.length?ad.has(a)&&!c.values.length||ad.has(i)&&!r.values.length?sx(a,i):yo(z0(lx(r,c),c.values),o):Jr(a,i)};function B0(a,i,o){return typeof a=="number"&&typeof i=="number"&&typeof o=="number"?Fe(a,i,o):Bd(a)(a,i)}const ux=a=>{const i=({timestamp:o})=>a(o);return{start:(o=!0)=>Xe.update(i,o),stop:()=>xn(i),now:()=>bt.isProcessing?bt.timestamp:Lt.now()}},Y0=(a,i,o=10)=>{let r="";const c=Math.max(Math.round(i/o),2);for(let d=0;d<c;d++)r+=a(d/(c-1))+", ";return`linear(${r.substring(0,r.length-2)})`},el=2e4;function Yd(a){let i=0;const o=50;let r=a.next(i);for(;!r.done&&i<el;)i+=o,r=a.next(i);return i>=el?1/0:i}function dx(a,i=100,o){const r=o({...a,keyframes:[0,i]}),c=Math.min(Yd(r),el);return{type:"keyframes",ease:d=>r.next(c*d).value/i,duration:Ma(c)}}const mx=5;function G0(a,i,o){const r=Math.max(i-mx,0);return I0(o-a(r),i-r)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fg=.001;function fx({duration:a=We.duration,bounce:i=We.bounce,velocity:o=We.velocity,mass:r=We.mass}){let c,d,m=1-i;m=Fa(We.minDamping,We.maxDamping,m),a=Fa(We.minDuration,We.maxDuration,Ma(a)),m<1?(c=h=>{const g=h*m,v=g*a,_=g-o,x=nd(h,m),T=Math.exp(-v);return Fg-_/x*T},d=h=>{const v=h*m*a,_=v*o+o,x=Math.pow(m,2)*Math.pow(h,2)*a,T=Math.exp(-v),M=nd(Math.pow(h,2),m);return(-c(h)+Fg>0?-1:1)*((_-x)*T)/M}):(c=h=>{const g=Math.exp(-h*a),v=(h-o)*a+1;return-.001+g*v},d=h=>{const g=Math.exp(-h*a),v=(o-h)*(a*a);return g*v});const p=5/a,y=px(c,d,p);if(a=Ta(a),isNaN(y))return{stiffness:We.stiffness,damping:We.damping,duration:a};{const h=Math.pow(y,2)*r;return{stiffness:h,damping:m*2*Math.sqrt(r*h),duration:a}}}const hx=12;function px(a,i,o){let r=o;for(let c=1;c<hx;c++)r=r-a(r)/i(r);return r}function nd(a,i){return a*Math.sqrt(1-i*i)}const gx=["duration","bounce"],yx=["stiffness","damping","mass"];function Xg(a,i){return i.some(o=>a[o]!==void 0)}function vx(a){let i={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...a};if(!Xg(a,yx)&&Xg(a,gx))if(a.visualDuration){const o=a.visualDuration,r=2*Math.PI/(o*1.2),c=r*r,d=2*Fa(.05,1,1-(a.bounce||0))*Math.sqrt(c);i={...i,mass:We.mass,stiffness:c,damping:d}}else{const o=fx(a);i={...i,...o,mass:We.mass},i.isResolvedFromDuration=!0}return i}function tl(a=We.visualDuration,i=We.bounce){const o=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:i}:a;let{restSpeed:r,restDelta:c}=o;const d=o.keyframes[0],m=o.keyframes[o.keyframes.length-1],p={done:!1,value:d},{stiffness:y,damping:h,mass:g,duration:v,velocity:_,isResolvedFromDuration:x}=vx({...o,velocity:-Ma(o.velocity||0)}),T=_||0,M=h/(2*Math.sqrt(y*g)),I=m-d,E=Ma(Math.sqrt(y/g)),R=Math.abs(I)<5;r||(r=R?We.restSpeed.granular:We.restSpeed.default),c||(c=R?We.restDelta.granular:We.restDelta.default);let w;if(M<1){const k=nd(E,M);w=G=>{const X=Math.exp(-M*E*G);return m-X*((T+M*E*I)/k*Math.sin(k*G)+I*Math.cos(k*G))}}else if(M===1)w=k=>m-Math.exp(-E*k)*(I+(T+E*I)*k);else{const k=E*Math.sqrt(M*M-1);w=G=>{const X=Math.exp(-M*E*G),C=Math.min(k*G,300);return m-X*((T+M*E*I)*Math.sinh(C)+k*I*Math.cosh(C))/k}}const O={calculatedDuration:x&&v||null,next:k=>{const G=w(k);if(x)p.done=k>=v;else{let X=k===0?T:0;M<1&&(X=k===0?Ta(T):G0(w,k,G));const C=Math.abs(X)<=r,V=Math.abs(m-G)<=c;p.done=C&&V}return p.value=p.done?m:G,p},toString:()=>{const k=Math.min(Yd(O),el),G=Y0(X=>O.next(k*X).value,k,30);return k+"ms "+G},toTransition:()=>{}};return O}tl.applyToOptions=a=>{const i=dx(a,100,tl);return a.ease=i.ease,a.duration=Ta(i.duration),a.type="keyframes",a};function id({keyframes:a,velocity:i=0,power:o=.8,timeConstant:r=325,bounceDamping:c=10,bounceStiffness:d=500,modifyTarget:m,min:p,max:y,restDelta:h=.5,restSpeed:g}){const v=a[0],_={done:!1,value:v},x=C=>p!==void 0&&C<p||y!==void 0&&C>y,T=C=>p===void 0?y:y===void 0||Math.abs(p-C)<Math.abs(y-C)?p:y;let M=o*i;const I=v+M,E=m===void 0?I:m(I);E!==I&&(M=E-v);const R=C=>-M*Math.exp(-C/r),w=C=>E+R(C),O=C=>{const V=R(C),z=w(C);_.done=Math.abs(V)<=h,_.value=_.done?E:z};let k,G;const X=C=>{x(_.value)&&(k=C,G=tl({keyframes:[_.value,T(_.value)],velocity:G0(w,C,_.value),damping:c,stiffness:d,restDelta:h,restSpeed:g}))};return X(0),{calculatedDuration:null,next:C=>{let V=!1;return!G&&k===void 0&&(V=!0,O(C),X(C)),k!==void 0&&C>=k?G.next(C-k):(!V&&O(C),_)}}}function bx(a,i,o){const r=[],c=o||Xa.mix||B0,d=a.length-1;for(let m=0;m<d;m++){let p=c(a[m],a[m+1]);if(i){const y=Array.isArray(i)?i[m]||ca:i;p=yo(y,p)}r.push(p)}return r}function _x(a,i,{clamp:o=!0,ease:r,mixer:c}={}){const d=a.length;if(Rd(d===i.length),d===1)return()=>i[0];if(d===2&&i[0]===i[1])return()=>i[1];const m=a[0]===a[1];a[0]>a[d-1]&&(a=[...a].reverse(),i=[...i].reverse());const p=bx(i,r,c),y=p.length,h=g=>{if(m&&g<a[0])return i[0];let v=0;if(y>1)for(;v<a.length-2&&!(g<a[v+1]);v++);const _=co(a[v],a[v+1],g);return p[v](_)};return o?g=>h(Fa(a[0],a[d-1],g)):h}function Sx(a,i){const o=a[a.length-1];for(let r=1;r<=i;r++){const c=co(0,i,r);a.push(Fe(o,1,c))}}function xx(a){const i=[0];return Sx(i,a.length-1),i}function Ix(a,i){return a.map(o=>o*i)}function Tx(a,i){return a.map(()=>i||D0).splice(0,a.length-1)}function io({duration:a=300,keyframes:i,times:o,ease:r="easeInOut"}){const c=U2(r)?r.map(qg):qg(r),d={done:!1,value:i[0]},m=Ix(o&&o.length===i.length?o:xx(i),a),p=_x(m,i,{ease:Array.isArray(c)?c:Tx(i,c)});return{calculatedDuration:a,next:y=>(d.value=p(y),d.done=y>=a,d)}}const Mx=a=>a!==null;function Gd(a,{repeat:i,repeatType:o="loop"},r,c=1){const d=a.filter(Mx),p=c<0||i&&o!=="loop"&&i%2===1?0:d.length-1;return!p||r===void 0?d[p]:r}const Ax={decay:id,inertia:id,tween:io,keyframes:io,spring:tl};function H0(a){typeof a.type=="string"&&(a.type=Ax[a.type])}class Hd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,o){return this.finished.then(i,o)}}const Nx=a=>a/100;class Fd extends Hd{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(o=!0)=>{var r,c;if(o){const{motionValue:d}=this.options;d&&d.updatedAt!==Lt.now()&&this.tick(Lt.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(c=(r=this.options).onStop)==null||c.call(r))},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;H0(i);const{type:o=io,repeat:r=0,repeatDelay:c=0,repeatType:d,velocity:m=0}=i;let{keyframes:p}=i;const y=o||io;y!==io&&typeof p[0]!="number"&&(this.mixKeyframes=yo(Nx,B0(p[0],p[1])),p=[0,100]);const h=y({...i,keyframes:p});d==="mirror"&&(this.mirroredGenerator=y({...i,keyframes:[...p].reverse(),velocity:-m})),h.calculatedDuration===null&&(h.calculatedDuration=Yd(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+c,this.totalDuration=this.resolvedDuration*(r+1)-c,this.generator=h}updateTime(i){const o=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(i,o=!1){const{generator:r,totalDuration:c,mixKeyframes:d,mirroredGenerator:m,resolvedDuration:p,calculatedDuration:y}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:x,type:T,onUpdate:M,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-c/this.speed,this.startTime)),o?this.currentTime=i:this.updateTime(i);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?E<0:E>c;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let w=this.currentTime,O=r;if(v){const C=Math.min(this.currentTime,c)/p;let V=Math.floor(C),z=C%1;!z&&C>=1&&(z=1),z===1&&V--,V=Math.min(V,v+1),!!(V%2)&&(_==="reverse"?(z=1-z,x&&(z-=x/p)):_==="mirror"&&(O=m)),w=Fa(0,1,z)*p}const k=R?{done:!1,value:g[0]}:O.next(w);d&&(k.value=d(k.value));let{done:G}=k;!R&&y!==null&&(G=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return X&&T!==id&&(k.value=Gd(g,this.options,I,this.speed)),M&&M(k.value),X&&this.finish(),k}then(i,o){return this.finished.then(i,o)}get duration(){return Ma(this.calculatedDuration)}get time(){return Ma(this.currentTime)}set time(i){var o;i=Ta(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),(o=this.driver)==null||o.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(Lt.now());const o=this.playbackSpeed!==i;this.playbackSpeed=i,o&&(this.time=Ma(this.currentTime))}play(){var c,d;if(this.isStopped)return;const{driver:i=ux,startTime:o}=this.options;this.driver||(this.driver=i(m=>this.tick(m))),(d=(c=this.options).onPlay)==null||d.call(c);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=o??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var i,o;this.notifyFinished(),this.teardown(),this.state="finished",(o=(i=this.options).onComplete)==null||o.call(i)}cancel(){var i,o;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(o=(i=this.options).onCancel)==null||o.call(i)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){var o;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(o=this.driver)==null||o.stop(),i.observe(this)}}function Cx(a){for(let i=1;i<a.length;i++)a[i]??(a[i]=a[i-1])}const Fn=a=>a*180/Math.PI,sd=a=>{const i=Fn(Math.atan2(a[1],a[0]));return od(i)},jx={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:sd,rotateZ:sd,skewX:a=>Fn(Math.atan(a[1])),skewY:a=>Fn(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},od=a=>(a=a%360,a<0&&(a+=360),a),Qg=sd,Kg=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),$g=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),Ex={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kg,scaleY:$g,scale:a=>(Kg(a)+$g(a))/2,rotateX:a=>od(Fn(Math.atan2(a[6],a[5]))),rotateY:a=>od(Fn(Math.atan2(-a[2],a[0]))),rotateZ:Qg,rotate:Qg,skewX:a=>Fn(Math.atan(a[4])),skewY:a=>Fn(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function rd(a){return a.includes("scale")?1:0}function ld(a,i){if(!a||a==="none")return rd(i);const o=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,c;if(o)r=Ex,c=o;else{const p=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=jx,c=p}if(!c)return rd(i);const d=r[i],m=c[1].split(",").map(Dx);return typeof d=="function"?d(m):m[d]}const wx=(a,i)=>{const{transform:o="none"}=getComputedStyle(a);return ld(o,i)};function Dx(a){return parseFloat(a.trim())}const Ki=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$i=new Set(Ki),Zg=a=>a===Qi||a===ge,Rx=new Set(["x","y","z"]),Px=Ki.filter(a=>!Rx.has(a));function Ux(a){const i=[];return Px.forEach(o=>{const r=a.getValue(o);r!==void 0&&(i.push([o,r.get()]),r.set(o.startsWith("scale")?1:0))}),i}const Qn={width:({x:a},{paddingLeft:i="0",paddingRight:o="0"})=>a.max-a.min-parseFloat(i)-parseFloat(o),height:({y:a},{paddingTop:i="0",paddingBottom:o="0"})=>a.max-a.min-parseFloat(i)-parseFloat(o),top:(a,{top:i})=>parseFloat(i),left:(a,{left:i})=>parseFloat(i),bottom:({y:a},{top:i})=>parseFloat(i)+(a.max-a.min),right:({x:a},{left:i})=>parseFloat(i)+(a.max-a.min),x:(a,{transform:i})=>ld(i,"x"),y:(a,{transform:i})=>ld(i,"y")};Qn.translateX=Qn.x;Qn.translateY=Qn.y;const Kn=new Set;let cd=!1,ud=!1,dd=!1;function F0(){if(ud){const a=Array.from(Kn).filter(r=>r.needsMeasurement),i=new Set(a.map(r=>r.element)),o=new Map;i.forEach(r=>{const c=Ux(r);c.length&&(o.set(r,c),r.render())}),a.forEach(r=>r.measureInitialState()),i.forEach(r=>{r.render();const c=o.get(r);c&&c.forEach(([d,m])=>{var p;(p=r.getValue(d))==null||p.set(m)})}),a.forEach(r=>r.measureEndState()),a.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ud=!1,cd=!1,Kn.forEach(a=>a.complete(dd)),Kn.clear()}function X0(){Kn.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(ud=!0)})}function Ox(){dd=!0,X0(),F0(),dd=!1}class Xd{constructor(i,o,r,c,d,m=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=o,this.name=r,this.motionValue=c,this.element=d,this.isAsync=m}scheduleResolve(){this.state="scheduled",this.isAsync?(Kn.add(this),cd||(cd=!0,Xe.read(X0),Xe.resolveKeyframes(F0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:o,element:r,motionValue:c}=this;if(i[0]===null){const d=c==null?void 0:c.get(),m=i[i.length-1];if(d!==void 0)i[0]=d;else if(r&&o){const p=r.readValue(o,m);p!=null&&(i[0]=p)}i[0]===void 0&&(i[0]=m),c&&d===void 0&&c.set(i[0])}Cx(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),Kn.delete(this)}cancel(){this.state==="scheduled"&&(Kn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kx=a=>a.startsWith("--");function Lx(a,i,o){kx(i)?a.style.setProperty(i,o):a.style[i]=o}const Vx=Pd(()=>window.ScrollTimeline!==void 0),qx={};function zx(a,i){const o=Pd(a);return()=>qx[i]??o()}const Q0=zx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ws=([a,i,o,r])=>`cubic-bezier(${a}, ${i}, ${o}, ${r})`,Wg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ws([0,.65,.55,1]),circOut:Ws([.55,0,1,.45]),backIn:Ws([.31,.01,.66,-.59]),backOut:Ws([.33,1.53,.69,.99])};function K0(a,i){if(a)return typeof a=="function"?Q0()?Y0(a,i):"ease-out":R0(a)?Ws(a):Array.isArray(a)?a.map(o=>K0(o,i)||Wg.easeOut):Wg[a]}function Bx(a,i,o,{delay:r=0,duration:c=300,repeat:d=0,repeatType:m="loop",ease:p="easeOut",times:y}={},h=void 0){const g={[i]:o};y&&(g.offset=y);const v=K0(p,c);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:c,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:d+1,direction:m==="reverse"?"alternate":"normal"};return h&&(_.pseudoElement=h),a.animate(g,_)}function $0(a){return typeof a=="function"&&"applyToOptions"in a}function Yx({type:a,...i}){return $0(a)&&Q0()?a.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class Gx extends Hd{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,!i)return;const{element:o,name:r,keyframes:c,pseudoElement:d,allowFlatten:m=!1,finalKeyframe:p,onComplete:y}=i;this.isPseudoElement=!!d,this.allowFlatten=m,this.options=i,Rd(typeof i.type!="string");const h=Yx(i);this.animation=Bx(o,r,c,h,d),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!d){const g=Gd(c,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(g):Lx(o,r,g),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var i,o;(o=(i=this.animation).finish)==null||o.call(i)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var i,o;this.isPseudoElement||(o=(i=this.animation).commitStyles)==null||o.call(i)}get duration(){var o,r;const i=((r=(o=this.animation.effect)==null?void 0:o.getComputedTiming)==null?void 0:r.call(o).duration)||0;return Ma(Number(i))}get time(){return Ma(Number(this.animation.currentTime)||0)}set time(i){this.finishedTime=null,this.animation.currentTime=Ta(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(i){this.animation.startTime=i}attachTimeline({timeline:i,observe:o}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,i&&Vx()?(this.animation.timeline=i,ca):o(this)}}const Z0={anticipate:j0,backInOut:C0,circInOut:w0};function Hx(a){return a in Z0}function Fx(a){typeof a.ease=="string"&&Hx(a.ease)&&(a.ease=Z0[a.ease])}const Jg=10;class Xx extends Gx{constructor(i){Fx(i),H0(i),super(i),i.startTime&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:o,onUpdate:r,onComplete:c,element:d,...m}=this.options;if(!o)return;if(i!==void 0){o.set(i);return}const p=new Fd({...m,autoplay:!1}),y=Ta(this.finishedTime??this.time);o.setWithVelocity(p.sample(y-Jg).value,p.sample(y).value,Jg),p.stop()}}const ey=(a,i)=>i==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(In.test(a)||a==="0")&&!a.startsWith("url("));function Qx(a){const i=a[0];if(a.length===1)return!0;for(let o=0;o<a.length;o++)if(a[o]!==i)return!0}function Kx(a,i,o,r){const c=a[0];if(c===null)return!1;if(i==="display"||i==="visibility")return!0;const d=a[a.length-1],m=ey(c,i),p=ey(d,i);return!m||!p?!1:Qx(a)||(o==="spring"||$0(o))&&r}function Qd(a){return S0(a)&&"offsetHeight"in a}const $x=new Set(["opacity","clipPath","filter","transform"]),Zx=Pd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Wx(a){var h;const{motionValue:i,name:o,repeatDelay:r,repeatType:c,damping:d,type:m}=a;if(!Qd((h=i==null?void 0:i.owner)==null?void 0:h.current))return!1;const{onUpdate:p,transformTemplate:y}=i.owner.getProps();return Zx()&&o&&$x.has(o)&&(o!=="transform"||!y)&&!p&&!r&&c!=="mirror"&&d!==0&&m!=="inertia"}const Jx=40;class eI extends Hd{constructor({autoplay:i=!0,delay:o=0,type:r="keyframes",repeat:c=0,repeatDelay:d=0,repeatType:m="loop",keyframes:p,name:y,motionValue:h,element:g,...v}){var T;super(),this.stop=()=>{var M,I;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Lt.now();const _={autoplay:i,delay:o,type:r,repeat:c,repeatDelay:d,repeatType:m,name:y,motionValue:h,element:g,...v},x=(g==null?void 0:g.KeyframeResolver)||Xd;this.keyframeResolver=new x(p,(M,I,E)=>this.onKeyframesResolved(M,I,_,!E),y,h,g),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(i,o,r,c){this.keyframeResolver=void 0;const{name:d,type:m,velocity:p,delay:y,isHandoff:h,onUpdate:g}=r;this.resolvedAt=Lt.now(),Kx(i,d,m,p)||((Xa.instantAnimations||!y)&&(g==null||g(Gd(i,r,o))),i[0]=i[i.length-1],r.duration=0,r.repeat=0);const _={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>Jx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...r,keyframes:i},x=!h&&Wx(_)?new Xx({..._,element:_.motionValue.owner.current}):new Fd(_);x.finished.then(()=>this.notifyFinished()).catch(ca),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(i,o){return this.finished.finally(i).then(()=>{})}get animation(){var i;return this._animation||((i=this.keyframeResolver)==null||i.resume(),Ox()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var i;this._animation&&this.animation.cancel(),(i=this.keyframeResolver)==null||i.cancel()}}const tI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aI(a){const i=tI.exec(a);if(!i)return[,];const[,o,r,c]=i;return[`--${o??r}`,c]}function W0(a,i,o=1){const[r,c]=aI(a);if(!r)return;const d=window.getComputedStyle(i).getPropertyValue(r);if(d){const m=d.trim();return _0(m)?parseFloat(m):m}return Vd(c)?W0(c,i,o+1):c}function Kd(a,i){return(a==null?void 0:a[i])??(a==null?void 0:a.default)??a}const J0=new Set(["width","height","top","left","right","bottom",...Ki]),nI={test:a=>a==="auto",parse:a=>a},ev=a=>i=>i.test(a),tv=[Qi,ge,Aa,bn,Q2,X2,nI],ty=a=>tv.find(ev(a));function iI(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||x0(a):!0}const sI=new Set(["brightness","contrast","saturate","opacity"]);function oI(a){const[i,o]=a.slice(0,-1).split("(");if(i==="drop-shadow")return a;const[r]=o.match(qd)||[];if(!r)return a;const c=o.replace(r,"");let d=sI.has(i)?1:0;return r!==o&&(d*=100),i+"("+d+c+")"}const rI=/\b([a-z-]*)\(.*?\)/gu,md={...In,getAnimatableNone:a=>{const i=a.match(rI);return i?i.map(oI).join(" "):a}},ay={...Qi,transform:Math.round},lI={rotate:bn,rotateX:bn,rotateY:bn,rotateZ:bn,scale:Or,scaleX:Or,scaleY:Or,scaleZ:Or,skew:bn,skewX:bn,skewY:bn,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:uo,originX:Bg,originY:Bg,originZ:ge},$d={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge,...lI,zIndex:ay,fillOpacity:uo,strokeOpacity:uo,numOctaves:ay},cI={...$d,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:md,WebkitFilter:md},av=a=>cI[a];function nv(a,i){let o=av(a);return o!==md&&(o=In),o.getAnimatableNone?o.getAnimatableNone(i):void 0}const uI=new Set(["auto","none","0"]);function dI(a,i,o){let r=0,c;for(;r<a.length&&!c;){const d=a[r];typeof d=="string"&&!uI.has(d)&&mo(d).values.length&&(c=a[r]),r++}if(c&&o)for(const d of i)a[d]=nv(o,c)}class mI extends Xd{constructor(i,o,r,c,d){super(i,o,r,c,d,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:o,name:r}=this;if(!o||!o.current)return;super.readKeyframes();for(let y=0;y<i.length;y++){let h=i[y];if(typeof h=="string"&&(h=h.trim(),Vd(h))){const g=W0(h,o.current);g!==void 0&&(i[y]=g),y===i.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!J0.has(r)||i.length!==2)return;const[c,d]=i,m=ty(c),p=ty(d);if(m!==p)if(Zg(m)&&Zg(p))for(let y=0;y<i.length;y++){const h=i[y];typeof h=="string"&&(i[y]=parseFloat(h))}else Qn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:o}=this,r=[];for(let c=0;c<i.length;c++)(i[c]===null||iI(i[c]))&&r.push(c);r.length&&dI(i,r,o)}measureInitialState(){const{element:i,unresolvedKeyframes:o,name:r}=this;if(!i||!i.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qn[r](i.measureViewportBox(),window.getComputedStyle(i.current)),o[0]=this.measuredOrigin;const c=o[o.length-1];c!==void 0&&i.getValue(r,c).jump(c,!1)}measureEndState(){var p;const{element:i,name:o,unresolvedKeyframes:r}=this;if(!i||!i.current)return;const c=i.getValue(o);c&&c.jump(this.measuredOrigin,!1);const d=r.length-1,m=r[d];r[d]=Qn[o](i.measureViewportBox(),window.getComputedStyle(i.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),(p=this.removedTransforms)!=null&&p.length&&this.removedTransforms.forEach(([y,h])=>{i.getValue(y).set(h)}),this.resolveNoneKeyframes()}}function fI(a,i,o){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let r=document;const c=(o==null?void 0:o[a])??r.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a)}const ny=30,hI=a=>!isNaN(parseFloat(a));class pI{constructor(i,o={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,c=!0)=>{var m,p;const d=Lt.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((m=this.events.change)==null||m.notify(this.current),this.dependents))for(const y of this.dependents)y.dirty();c&&((p=this.events.renderRequest)==null||p.notify(this.current))},this.hasAnimated=!1,this.setCurrent(i),this.owner=o.owner}setCurrent(i){this.current=i,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=hI(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,o){this.events[i]||(this.events[i]=new Ud);const r=this.events[i].add(o);return i==="change"?()=>{r(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,o){this.passiveEffect=i,this.stopPassiveEffect=o}set(i,o=!0){!o||!this.passiveEffect?this.updateAndNotify(i,o):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,o,r){this.set(o),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-r}jump(i,o=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var i;(i=this.events.change)==null||i.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>ny)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,ny);return I0(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(i){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=i(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var i,o;(i=this.dependents)==null||i.clear(),(o=this.events.destroy)==null||o.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fi(a,i){return new pI(a,i)}const iv=(a,i)=>i&&typeof a=="number"?i.transform(a):a,{schedule:Zd}=P0(queueMicrotask,!1),ga={x:!1,y:!1};function sv(){return ga.x||ga.y}function gI(a){return a==="x"||a==="y"?ga[a]?null:(ga[a]=!0,()=>{ga[a]=!1}):ga.x||ga.y?null:(ga.x=ga.y=!0,()=>{ga.x=ga.y=!1})}function ov(a,i){const o=fI(a),r=new AbortController,c={passive:!0,...i,signal:r.signal};return[o,c,()=>r.abort()]}function iy(a){return!(a.pointerType==="touch"||sv())}function yI(a,i,o={}){const[r,c,d]=ov(a,o),m=p=>{if(!iy(p))return;const{target:y}=p,h=i(y,p);if(typeof h!="function"||!y)return;const g=v=>{iy(v)&&(h(v),y.removeEventListener("pointerleave",g))};y.addEventListener("pointerleave",g,c)};return r.forEach(p=>{p.addEventListener("pointerenter",m,c)}),d}const rv=(a,i)=>i?a===i?!0:rv(a,i.parentElement):!1,Wd=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,vI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bI(a){return vI.has(a.tagName)||a.tabIndex!==-1}const Br=new WeakSet;function sy(a){return i=>{i.key==="Enter"&&a(i)}}function Yu(a,i){a.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const _I=(a,i)=>{const o=a.currentTarget;if(!o)return;const r=sy(()=>{if(Br.has(o))return;Yu(o,"down");const c=sy(()=>{Yu(o,"up")}),d=()=>Yu(o,"cancel");o.addEventListener("keyup",c,i),o.addEventListener("blur",d,i)});o.addEventListener("keydown",r,i),o.addEventListener("blur",()=>o.removeEventListener("keydown",r),i)};function oy(a){return Wd(a)&&!sv()}function SI(a,i,o={}){const[r,c,d]=ov(a,o),m=p=>{const y=p.currentTarget;if(!oy(p))return;Br.add(y);const h=i(y,p),g=(x,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Br.has(y)&&Br.delete(y),oy(x)&&typeof h=="function"&&h(x,{success:T})},v=x=>{g(x,y===window||y===document||o.useGlobalTarget||rv(y,x.target))},_=x=>{g(x,!1)};window.addEventListener("pointerup",v,c),window.addEventListener("pointercancel",_,c)};return r.forEach(p=>{(o.useGlobalTarget?window:p).addEventListener("pointerdown",m,c),Qd(p)&&(p.addEventListener("focus",h=>_I(h,c)),!bI(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),d}function lv(a){return S0(a)&&"ownerSVGElement"in a}function xI(a){return lv(a)&&a.tagName==="svg"}const Mt=a=>!!(a&&a.getVelocity),II=[...tv,Tt,In],TI=a=>II.find(ev(a)),Jd=Y.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class MI extends Y.Component{getSnapshotBeforeUpdate(i){const o=this.props.childRef.current;if(o&&i.isPresent&&!this.props.isPresent){const r=o.offsetParent,c=Qd(r)&&r.offsetWidth||0,d=this.props.sizeRef.current;d.height=o.offsetHeight||0,d.width=o.offsetWidth||0,d.top=o.offsetTop,d.left=o.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AI({children:a,isPresent:i,anchorX:o}){const r=Y.useId(),c=Y.useRef(null),d=Y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=Y.useContext(Jd);return Y.useInsertionEffect(()=>{const{width:p,height:y,top:h,left:g,right:v}=d.current;if(i||!c.current||!p||!y)return;const _=o==="left"?`left: ${g}`:`right: ${v}`;c.current.dataset.motionPopId=r;const x=document.createElement("style");return m&&(x.nonce=m),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${_}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[i]),u.jsx(MI,{isPresent:i,childRef:c,sizeRef:d,children:Y.cloneElement(a,{ref:c})})}const NI=({children:a,initial:i,isPresent:o,onExitComplete:r,custom:c,presenceAffectsLayout:d,mode:m,anchorX:p})=>{const y=jd(CI),h=Y.useId();let g=!0,v=Y.useMemo(()=>(g=!1,{id:h,initial:i,isPresent:o,custom:c,onExitComplete:_=>{y.set(_,!0);for(const x of y.values())if(!x)return;r&&r()},register:_=>(y.set(_,!1),()=>y.delete(_))}),[o,y,r]);return d&&g&&(v={...v}),Y.useMemo(()=>{y.forEach((_,x)=>y.set(x,!1))},[o]),Y.useEffect(()=>{!o&&!y.size&&r&&r()},[o]),m==="popLayout"&&(a=u.jsx(AI,{isPresent:o,anchorX:p,children:a})),u.jsx(ll.Provider,{value:v,children:a})};function CI(){return new Map}function cv(a=!0){const i=Y.useContext(ll);if(i===null)return[!0,null];const{isPresent:o,onExitComplete:r,register:c}=i,d=Y.useId();Y.useEffect(()=>{if(a)return c(d)},[a]);const m=Y.useCallback(()=>a&&r&&r(d),[d,r,a]);return!o&&r?[!1,m]:[!0]}const kr=a=>a.key||"";function ry(a){const i=[];return Y.Children.forEach(a,o=>{Y.isValidElement(o)&&i.push(o)}),i}const jI=({children:a,custom:i,initial:o=!0,onExitComplete:r,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1,anchorX:p="left"})=>{const[y,h]=cv(m),g=Y.useMemo(()=>ry(a),[a]),v=m&&!y?[]:g.map(kr),_=Y.useRef(!0),x=Y.useRef(g),T=jd(()=>new Map),[M,I]=Y.useState(g),[E,R]=Y.useState(g);b0(()=>{_.current=!1,x.current=g;for(let k=0;k<E.length;k++){const G=kr(E[k]);v.includes(G)?T.delete(G):T.get(G)!==!0&&T.set(G,!1)}},[E,v.length,v.join("-")]);const w=[];if(g!==M){let k=[...g];for(let G=0;G<E.length;G++){const X=E[G],C=kr(X);v.includes(C)||(k.splice(G,0,X),w.push(X))}return d==="wait"&&w.length&&(k=w),R(ry(k)),I(g),null}const{forceRender:O}=Y.useContext(Cd);return u.jsx(u.Fragment,{children:E.map(k=>{const G=kr(k),X=m&&!y?!1:g===E||v.includes(G),C=()=>{if(T.has(G))T.set(G,!0);else return;let V=!0;T.forEach(z=>{z||(V=!1)}),V&&(O==null||O(),R(x.current),m&&(h==null||h()),r&&r())};return u.jsx(NI,{isPresent:X,initial:!_.current||o?void 0:!1,custom:i,presenceAffectsLayout:c,mode:d,onExitComplete:X?void 0:C,anchorX:p,children:k},G)})})},uv=Y.createContext({strict:!1}),ly={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xi={};for(const a in ly)Xi[a]={isEnabled:i=>ly[a].some(o=>!!i[o])};function EI(a){for(const i in a)Xi[i]={...Xi[i],...a[i]}}const wI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function al(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||wI.has(a)}let dv=a=>!al(a);function DI(a){a&&(dv=i=>i.startsWith("on")?!al(i):a(i))}try{DI(require("@emotion/is-prop-valid").default)}catch{}function RI(a,i,o){const r={};for(const c in a)c==="values"&&typeof a.values=="object"||(dv(c)||o===!0&&al(c)||!i&&!al(c)||a.draggable&&c.startsWith("onDrag"))&&(r[c]=a[c]);return r}function PI(a){if(typeof Proxy>"u")return a;const i=new Map,o=(...r)=>a(...r);return new Proxy(o,{get:(r,c)=>c==="create"?a:(i.has(c)||i.set(c,a(c)),i.get(c))})}const cl=Y.createContext({});function ul(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function fo(a){return typeof a=="string"||Array.isArray(a)}const em=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tm=["initial",...em];function dl(a){return ul(a.animate)||tm.some(i=>fo(a[i]))}function mv(a){return!!(dl(a)||a.variants)}function UI(a,i){if(dl(a)){const{initial:o,animate:r}=a;return{initial:o===!1||fo(o)?o:void 0,animate:fo(r)?r:void 0}}return a.inherit!==!1?i:{}}function OI(a){const{initial:i,animate:o}=UI(a,Y.useContext(cl));return Y.useMemo(()=>({initial:i,animate:o}),[cy(i),cy(o)])}function cy(a){return Array.isArray(a)?a.join(" "):a}const kI=Symbol.for("motionComponentSymbol");function zi(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function LI(a,i,o){return Y.useCallback(r=>{r&&a.onMount&&a.onMount(r),i&&(r?i.mount(r):i.unmount()),o&&(typeof o=="function"?o(r):zi(o)&&(o.current=r))},[i])}const am=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VI="framerAppearId",fv="data-"+am(VI),hv=Y.createContext({});function qI(a,i,o,r,c){var M,I;const{visualElement:d}=Y.useContext(cl),m=Y.useContext(uv),p=Y.useContext(ll),y=Y.useContext(Jd).reducedMotion,h=Y.useRef(null);r=r||m.renderer,!h.current&&r&&(h.current=r(a,{visualState:i,parent:d,props:o,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const g=h.current,v=Y.useContext(hv);g&&!g.projection&&c&&(g.type==="html"||g.type==="svg")&&zI(h.current,o,c,v);const _=Y.useRef(!1);Y.useInsertionEffect(()=>{g&&_.current&&g.update(o,p)});const x=o[fv],T=Y.useRef(!!x&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,x))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,x)));return b0(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Zd.render(g.render),T.current&&g.animationState&&g.animationState.animateChanges())}),Y.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,x)}),T.current=!1))}),g}function zI(a,i,o,r){const{layoutId:c,layout:d,drag:m,dragConstraints:p,layoutScroll:y,layoutRoot:h,layoutCrossfade:g}=i;a.projection=new o(a.latestValues,i["data-framer-portal-id"]?void 0:pv(a.parent)),a.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!m||p&&zi(p),visualElement:a,animationType:typeof d=="string"?d:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:y,layoutRoot:h})}function pv(a){if(a)return a.options.allowProjection!==!1?a.projection:pv(a.parent)}function BI({preloadedFeatures:a,createVisualElement:i,useRender:o,useVisualState:r,Component:c}){a&&EI(a);function d(p,y){let h;const g={...Y.useContext(Jd),...p,layoutId:YI(p)},{isStatic:v}=g,_=OI(p),x=r(p,v);if(!v&&Ed){GI();const T=HI(g);h=T.MeasureLayout,_.visualElement=qI(c,x,g,i,T.ProjectionNode)}return u.jsxs(cl.Provider,{value:_,children:[h&&_.visualElement?u.jsx(h,{visualElement:_.visualElement,...g}):null,o(c,p,LI(x,_.visualElement,y),x,v,_.visualElement)]})}d.displayName=`motion.${typeof c=="string"?c:`create(${c.displayName??c.name??""})`}`;const m=Y.forwardRef(d);return m[kI]=c,m}function YI({layoutId:a}){const i=Y.useContext(Cd).id;return i&&a!==void 0?i+"-"+a:a}function GI(a,i){Y.useContext(uv).strict}function HI(a){const{drag:i,layout:o}=Xi;if(!i&&!o)return{};const r={...i,...o};return{MeasureLayout:i!=null&&i.isEnabled(a)||o!=null&&o.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ho={};function FI(a){for(const i in a)ho[i]=a[i],Ld(i)&&(ho[i].isCSSVariable=!0)}function gv(a,{layout:i,layoutId:o}){return $i.has(a)||a.startsWith("origin")||(i||o!==void 0)&&(!!ho[a]||a==="opacity")}const XI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QI=Ki.length;function KI(a,i,o){let r="",c=!0;for(let d=0;d<QI;d++){const m=Ki[d],p=a[m];if(p===void 0)continue;let y=!0;if(typeof p=="number"?y=p===(m.startsWith("scale")?1:0):y=parseFloat(p)===0,!y||o){const h=iv(p,$d[m]);if(!y){c=!1;const g=XI[m]||m;r+=`${g}(${h}) `}o&&(i[m]=h)}}return r=r.trim(),o?r=o(i,c?"":r):c&&(r="none"),r}function nm(a,i,o){const{style:r,vars:c,transformOrigin:d}=a;let m=!1,p=!1;for(const y in i){const h=i[y];if($i.has(y)){m=!0;continue}else if(Ld(y)){c[y]=h;continue}else{const g=iv(h,$d[y]);y.startsWith("origin")?(p=!0,d[y]=g):r[y]=g}}if(i.transform||(m||o?r.transform=KI(i,a.transform,o):r.transform&&(r.transform="none")),p){const{originX:y="50%",originY:h="50%",originZ:g=0}=d;r.transformOrigin=`${y} ${h} ${g}`}}const im=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yv(a,i,o){for(const r in i)!Mt(i[r])&&!gv(r,o)&&(a[r]=i[r])}function $I({transformTemplate:a},i){return Y.useMemo(()=>{const o=im();return nm(o,i,a),Object.assign({},o.vars,o.style)},[i])}function ZI(a,i){const o=a.style||{},r={};return yv(r,o,a),Object.assign(r,$I(a,i)),r}function WI(a,i){const o={},r=ZI(a,i);return a.drag&&a.dragListener!==!1&&(o.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(o.tabIndex=0),o.style=r,o}const JI={offset:"stroke-dashoffset",array:"stroke-dasharray"},eT={offset:"strokeDashoffset",array:"strokeDasharray"};function tT(a,i,o=1,r=0,c=!0){a.pathLength=1;const d=c?JI:eT;a[d.offset]=ge.transform(-r);const m=ge.transform(i),p=ge.transform(o);a[d.array]=`${m} ${p}`}function vv(a,{attrX:i,attrY:o,attrScale:r,pathLength:c,pathSpacing:d=1,pathOffset:m=0,...p},y,h,g){if(nm(a,p,h),y){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:v,style:_}=a;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),i!==void 0&&(v.x=i),o!==void 0&&(v.y=o),r!==void 0&&(v.scale=r),c!==void 0&&tT(v,c,d,m,!1)}const bv=()=>({...im(),attrs:{}}),_v=a=>typeof a=="string"&&a.toLowerCase()==="svg";function aT(a,i,o,r){const c=Y.useMemo(()=>{const d=bv();return vv(d,i,_v(r),a.transformTemplate,a.style),{...d.attrs,style:{...d.style}}},[i]);if(a.style){const d={};yv(d,a.style,a),c.style={...d,...c.style}}return c}const nT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sm(a){return typeof a!="string"||a.includes("-")?!1:!!(nT.indexOf(a)>-1||/[A-Z]/u.test(a))}function iT(a=!1){return(o,r,c,{latestValues:d},m)=>{const y=(sm(o)?aT:WI)(r,d,m,o),h=RI(r,typeof o=="string",a),g=o!==Y.Fragment?{...h,...y,ref:c}:{},{children:v}=r,_=Y.useMemo(()=>Mt(v)?v.get():v,[v]);return Y.createElement(o,{...g,children:_})}}function uy(a){const i=[{},{}];return a==null||a.values.forEach((o,r)=>{i[0][r]=o.get(),i[1][r]=o.getVelocity()}),i}function om(a,i,o,r){if(typeof i=="function"){const[c,d]=uy(r);i=i(o!==void 0?o:a.custom,c,d)}if(typeof i=="string"&&(i=a.variants&&a.variants[i]),typeof i=="function"){const[c,d]=uy(r);i=i(o!==void 0?o:a.custom,c,d)}return i}function Yr(a){return Mt(a)?a.get():a}function sT({scrapeMotionValuesFromProps:a,createRenderState:i},o,r,c){return{latestValues:oT(o,r,c,a),renderState:i()}}const Sv=a=>(i,o)=>{const r=Y.useContext(cl),c=Y.useContext(ll),d=()=>sT(a,i,r,c);return o?d():jd(d)};function oT(a,i,o,r){const c={},d=r(a,{});for(const _ in d)c[_]=Yr(d[_]);let{initial:m,animate:p}=a;const y=dl(a),h=mv(a);i&&h&&!y&&a.inherit!==!1&&(m===void 0&&(m=i.initial),p===void 0&&(p=i.animate));let g=o?o.initial===!1:!1;g=g||m===!1;const v=g?p:m;if(v&&typeof v!="boolean"&&!ul(v)){const _=Array.isArray(v)?v:[v];for(let x=0;x<_.length;x++){const T=om(a,_[x]);if(T){const{transitionEnd:M,transition:I,...E}=T;for(const R in E){let w=E[R];if(Array.isArray(w)){const O=g?w.length-1:0;w=w[O]}w!==null&&(c[R]=w)}for(const R in M)c[R]=M[R]}}}return c}function rm(a,i,o){var d;const{style:r}=a,c={};for(const m in r)(Mt(r[m])||i.style&&Mt(i.style[m])||gv(m,a)||((d=o==null?void 0:o.getValue(m))==null?void 0:d.liveStyle)!==void 0)&&(c[m]=r[m]);return c}const rT={useVisualState:Sv({scrapeMotionValuesFromProps:rm,createRenderState:im})};function xv(a,i,o){const r=rm(a,i,o);for(const c in a)if(Mt(a[c])||Mt(i[c])){const d=Ki.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;r[d]=a[c]}return r}const lT={useVisualState:Sv({scrapeMotionValuesFromProps:xv,createRenderState:bv})};function cT(a,i){return function(r,{forwardMotionProps:c}={forwardMotionProps:!1}){const m={...sm(r)?lT:rT,preloadedFeatures:a,useRender:iT(c),createVisualElement:i,Component:r};return BI(m)}}function po(a,i,o){const r=a.getProps();return om(r,i,o!==void 0?o:r.custom,a)}const fd=a=>Array.isArray(a);function uT(a,i,o){a.hasValue(i)?a.getValue(i).set(o):a.addValue(i,Fi(o))}function dT(a){return fd(a)?a[a.length-1]||0:a}function mT(a,i){const o=po(a,i);let{transitionEnd:r={},transition:c={},...d}=o||{};d={...d,...r};for(const m in d){const p=dT(d[m]);uT(a,m,p)}}function fT(a){return!!(Mt(a)&&a.add)}function hd(a,i){const o=a.getValue("willChange");if(fT(o))return o.add(i);if(!o&&Xa.WillChange){const r=new Xa.WillChange("auto");a.addValue("willChange",r),r.add(i)}}function Iv(a){return a.props[fv]}const hT=a=>a!==null;function pT(a,{repeat:i,repeatType:o="loop"},r){const c=a.filter(hT),d=i&&o!=="loop"&&i%2===1?0:c.length-1;return c[d]}const gT={type:"spring",stiffness:500,damping:25,restSpeed:10},yT=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),vT={type:"keyframes",duration:.8},bT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_T=(a,{keyframes:i})=>i.length>2?vT:$i.has(a)?a.startsWith("scale")?yT(i[1]):gT:bT;function ST({when:a,delay:i,delayChildren:o,staggerChildren:r,staggerDirection:c,repeat:d,repeatType:m,repeatDelay:p,from:y,elapsed:h,...g}){return!!Object.keys(g).length}const lm=(a,i,o,r={},c,d)=>m=>{const p=Kd(r,a)||{},y=p.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ta(y);const g={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:i.getVelocity(),...p,delay:-h,onUpdate:_=>{i.set(_),p.onUpdate&&p.onUpdate(_)},onComplete:()=>{m(),p.onComplete&&p.onComplete()},name:a,motionValue:i,element:d?void 0:c};ST(p)||Object.assign(g,_T(a,g)),g.duration&&(g.duration=Ta(g.duration)),g.repeatDelay&&(g.repeatDelay=Ta(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),(Xa.instantAnimations||Xa.skipAnimations)&&(v=!0,g.duration=0,g.delay=0),g.allowFlatten=!p.type&&!p.ease,v&&!d&&i.get()!==void 0){const _=pT(g.keyframes,p);if(_!==void 0){Xe.update(()=>{g.onUpdate(_),g.onComplete()});return}}return p.isSync?new Fd(g):new eI(g)};function xT({protectedKeys:a,needsAnimating:i},o){const r=a.hasOwnProperty(o)&&i[o]!==!0;return i[o]=!1,r}function Tv(a,i,{delay:o=0,transitionOverride:r,type:c}={}){let{transition:d=a.getDefaultTransition(),transitionEnd:m,...p}=i;r&&(d=r);const y=[],h=c&&a.animationState&&a.animationState.getState()[c];for(const g in p){const v=a.getValue(g,a.latestValues[g]??null),_=p[g];if(_===void 0||h&&xT(h,g))continue;const x={delay:o,...Kd(d||{},g)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(_)&&_===T&&!x.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const E=Iv(a);if(E){const R=window.MotionHandoffAnimation(E,g,Xe);R!==null&&(x.startTime=R,M=!0)}}hd(a,g),v.start(lm(g,v,_,a.shouldReduceMotion&&J0.has(g)?{type:!1}:x,a,M));const I=v.animation;I&&y.push(I)}return m&&Promise.all(y).then(()=>{Xe.update(()=>{m&&mT(a,m)})}),y}function pd(a,i,o={}){var y;const r=po(a,i,o.type==="exit"?(y=a.presenceContext)==null?void 0:y.custom:void 0);let{transition:c=a.getDefaultTransition()||{}}=r||{};o.transitionOverride&&(c=o.transitionOverride);const d=r?()=>Promise.all(Tv(a,r,o)):()=>Promise.resolve(),m=a.variantChildren&&a.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:_}=c;return IT(a,i,g+h,v,_,o)}:()=>Promise.resolve(),{when:p}=c;if(p){const[h,g]=p==="beforeChildren"?[d,m]:[m,d];return h().then(()=>g())}else return Promise.all([d(),m(o.delay)])}function IT(a,i,o=0,r=0,c=1,d){const m=[],p=(a.variantChildren.size-1)*r,y=c===1?(h=0)=>h*r:(h=0)=>p-h*r;return Array.from(a.variantChildren).sort(TT).forEach((h,g)=>{h.notify("AnimationStart",i),m.push(pd(h,i,{...d,delay:o+y(g)}).then(()=>h.notify("AnimationComplete",i)))}),Promise.all(m)}function TT(a,i){return a.sortNodePosition(i)}function MT(a,i,o={}){a.notify("AnimationStart",i);let r;if(Array.isArray(i)){const c=i.map(d=>pd(a,d,o));r=Promise.all(c)}else if(typeof i=="string")r=pd(a,i,o);else{const c=typeof i=="function"?po(a,i,o.custom):i;r=Promise.all(Tv(a,c,o))}return r.then(()=>{a.notify("AnimationComplete",i)})}function Mv(a,i){if(!Array.isArray(i))return!1;const o=i.length;if(o!==a.length)return!1;for(let r=0;r<o;r++)if(i[r]!==a[r])return!1;return!0}const AT=tm.length;function Av(a){if(!a)return;if(!a.isControllingVariants){const o=a.parent?Av(a.parent)||{}:{};return a.props.initial!==void 0&&(o.initial=a.props.initial),o}const i={};for(let o=0;o<AT;o++){const r=tm[o],c=a.props[r];(fo(c)||c===!1)&&(i[r]=c)}return i}const NT=[...em].reverse(),CT=em.length;function jT(a){return i=>Promise.all(i.map(({animation:o,options:r})=>MT(a,o,r)))}function ET(a){let i=jT(a),o=dy(),r=!0;const c=y=>(h,g)=>{var _;const v=po(a,g,y==="exit"?(_=a.presenceContext)==null?void 0:_.custom:void 0);if(v){const{transition:x,transitionEnd:T,...M}=v;h={...h,...M,...T}}return h};function d(y){i=y(a)}function m(y){const{props:h}=a,g=Av(a.parent)||{},v=[],_=new Set;let x={},T=1/0;for(let I=0;I<CT;I++){const E=NT[I],R=o[E],w=h[E]!==void 0?h[E]:g[E],O=fo(w),k=E===y?R.isActive:null;k===!1&&(T=I);let G=w===g[E]&&w!==h[E]&&O;if(G&&r&&a.manuallyAnimateOnMount&&(G=!1),R.protectedKeys={...x},!R.isActive&&k===null||!w&&!R.prevProp||ul(w)||typeof w=="boolean")continue;const X=wT(R.prevProp,w);let C=X||E===y&&R.isActive&&!G&&O||I>T&&O,V=!1;const z=Array.isArray(w)?w:[w];let Z=z.reduce(c(E),{});k===!1&&(Z={});const{prevResolvedValues:se={}}=R,ie={...se,...Z},he=Q=>{C=!0,_.has(Q)&&(V=!0,_.delete(Q)),R.needsAnimating[Q]=!0;const ee=a.getValue(Q);ee&&(ee.liveStyle=!1)};for(const Q in ie){const ee=Z[Q],me=se[Q];if(x.hasOwnProperty(Q))continue;let N=!1;fd(ee)&&fd(me)?N=!Mv(ee,me):N=ee!==me,N?ee!=null?he(Q):_.add(Q):ee!==void 0&&_.has(Q)?he(Q):R.protectedKeys[Q]=!0}R.prevProp=w,R.prevResolvedValues=Z,R.isActive&&(x={...x,...Z}),r&&a.blockInitialAnimation&&(C=!1),C&&(!(G&&X)||V)&&v.push(...z.map(Q=>({animation:Q,options:{type:E}})))}if(_.size){const I={};if(typeof h.initial!="boolean"){const E=po(a,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(I.transition=E.transition)}_.forEach(E=>{const R=a.getBaseTarget(E),w=a.getValue(E);w&&(w.liveStyle=!0),I[E]=R??null}),v.push({animation:I})}let M=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!a.manuallyAnimateOnMount&&(M=!1),r=!1,M?i(v):Promise.resolve()}function p(y,h){var v;if(o[y].isActive===h)return Promise.resolve();(v=a.variantChildren)==null||v.forEach(_=>{var x;return(x=_.animationState)==null?void 0:x.setActive(y,h)}),o[y].isActive=h;const g=m(y);for(const _ in o)o[_].protectedKeys={};return g}return{animateChanges:m,setActive:p,setAnimateFunction:d,getState:()=>o,reset:()=>{o=dy(),r=!0}}}function wT(a,i){return typeof i=="string"?i!==a:Array.isArray(i)?!Mv(i,a):!1}function Yn(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dy(){return{animate:Yn(!0),whileInView:Yn(),whileHover:Yn(),whileTap:Yn(),whileDrag:Yn(),whileFocus:Yn(),exit:Yn()}}class Tn{constructor(i){this.isMounted=!1,this.node=i}update(){}}class DT extends Tn{constructor(i){super(i),i.animationState||(i.animationState=ET(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();ul(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:o}=this.node.prevProps||{};i!==o&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let RT=0;class PT extends Tn{constructor(){super(...arguments),this.id=RT++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:o}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===r)return;const c=this.node.animationState.setActive("exit",!i);o&&!i&&c.then(()=>{o(this.id)})}mount(){const{register:i,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const UT={animation:{Feature:DT},exit:{Feature:PT}};function go(a,i,o,r={passive:!0}){return a.addEventListener(i,o,r),()=>a.removeEventListener(i,o)}function _o(a){return{point:{x:a.pageX,y:a.pageY}}}const OT=a=>i=>Wd(i)&&a(i,_o(i));function so(a,i,o,r){return go(a,i,OT(o),r)}function Nv({top:a,left:i,right:o,bottom:r}){return{x:{min:i,max:o},y:{min:a,max:r}}}function kT({x:a,y:i}){return{top:i.min,right:a.max,bottom:i.max,left:a.min}}function LT(a,i){if(!i)return a;const o=i({x:a.left,y:a.top}),r=i({x:a.right,y:a.bottom});return{top:o.y,left:o.x,bottom:r.y,right:r.x}}const Cv=1e-4,VT=1-Cv,qT=1+Cv,jv=.01,zT=0-jv,BT=0+jv;function Et(a){return a.max-a.min}function YT(a,i,o){return Math.abs(a-i)<=o}function my(a,i,o,r=.5){a.origin=r,a.originPoint=Fe(i.min,i.max,a.origin),a.scale=Et(o)/Et(i),a.translate=Fe(o.min,o.max,a.origin)-a.originPoint,(a.scale>=VT&&a.scale<=qT||isNaN(a.scale))&&(a.scale=1),(a.translate>=zT&&a.translate<=BT||isNaN(a.translate))&&(a.translate=0)}function oo(a,i,o,r){my(a.x,i.x,o.x,r?r.originX:void 0),my(a.y,i.y,o.y,r?r.originY:void 0)}function fy(a,i,o){a.min=o.min+i.min,a.max=a.min+Et(i)}function GT(a,i,o){fy(a.x,i.x,o.x),fy(a.y,i.y,o.y)}function hy(a,i,o){a.min=i.min-o.min,a.max=a.min+Et(i)}function ro(a,i,o){hy(a.x,i.x,o.x),hy(a.y,i.y,o.y)}const py=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bi=()=>({x:py(),y:py()}),gy=()=>({min:0,max:0}),at=()=>({x:gy(),y:gy()});function ra(a){return[a("x"),a("y")]}function Gu(a){return a===void 0||a===1}function gd({scale:a,scaleX:i,scaleY:o}){return!Gu(a)||!Gu(i)||!Gu(o)}function Gn(a){return gd(a)||Ev(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function Ev(a){return yy(a.x)||yy(a.y)}function yy(a){return a&&a!=="0%"}function nl(a,i,o){const r=a-o,c=i*r;return o+c}function vy(a,i,o,r,c){return c!==void 0&&(a=nl(a,c,r)),nl(a,o,r)+i}function yd(a,i=0,o=1,r,c){a.min=vy(a.min,i,o,r,c),a.max=vy(a.max,i,o,r,c)}function wv(a,{x:i,y:o}){yd(a.x,i.translate,i.scale,i.originPoint),yd(a.y,o.translate,o.scale,o.originPoint)}const by=.999999999999,_y=1.0000000000001;function HT(a,i,o,r=!1){const c=o.length;if(!c)return;i.x=i.y=1;let d,m;for(let p=0;p<c;p++){d=o[p],m=d.projectionDelta;const{visualElement:y}=d.options;y&&y.props.style&&y.props.style.display==="contents"||(r&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Gi(a,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),m&&(i.x*=m.x.scale,i.y*=m.y.scale,wv(a,m)),r&&Gn(d.latestValues)&&Gi(a,d.latestValues))}i.x<_y&&i.x>by&&(i.x=1),i.y<_y&&i.y>by&&(i.y=1)}function Yi(a,i){a.min=a.min+i,a.max=a.max+i}function Sy(a,i,o,r,c=.5){const d=Fe(a.min,a.max,c);yd(a,i,o,d,r)}function Gi(a,i){Sy(a.x,i.x,i.scaleX,i.scale,i.originX),Sy(a.y,i.y,i.scaleY,i.scale,i.originY)}function Dv(a,i){return Nv(LT(a.getBoundingClientRect(),i))}function FT(a,i,o){const r=Dv(a,o),{scroll:c}=i;return c&&(Yi(r.x,c.offset.x),Yi(r.y,c.offset.y)),r}const Rv=({current:a})=>a?a.ownerDocument.defaultView:null,xy=(a,i)=>Math.abs(a-i);function XT(a,i){const o=xy(a.x,i.x),r=xy(a.y,i.y);return Math.sqrt(o**2+r**2)}class Pv{constructor(i,o,{transformPagePoint:r,contextWindow:c,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Fu(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,x=XT(v.offset,{x:0,y:0})>=3;if(!_&&!x)return;const{point:T}=v,{timestamp:M}=bt;this.history.push({...T,timestamp:M});const{onStart:I,onMove:E}=this.handlers;_||(I&&I(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Hu(_,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:x,onSessionEnd:T,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Fu(v.type==="pointercancel"?this.lastMoveEventInfo:Hu(_,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,I),T&&T(v,I)},!Wd(i))return;this.dragSnapToOrigin=d,this.handlers=o,this.transformPagePoint=r,this.contextWindow=c||window;const m=_o(i),p=Hu(m,this.transformPagePoint),{point:y}=p,{timestamp:h}=bt;this.history=[{...y,timestamp:h}];const{onSessionStart:g}=o;g&&g(i,Fu(p,this.history)),this.removeListeners=yo(so(this.contextWindow,"pointermove",this.handlePointerMove),so(this.contextWindow,"pointerup",this.handlePointerUp),so(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),xn(this.updatePoint)}}function Hu(a,i){return i?{point:i(a.point)}:a}function Iy(a,i){return{x:a.x-i.x,y:a.y-i.y}}function Fu({point:a},i){return{point:a,delta:Iy(a,Uv(i)),offset:Iy(a,QT(i)),velocity:KT(i,.1)}}function QT(a){return a[0]}function Uv(a){return a[a.length-1]}function KT(a,i){if(a.length<2)return{x:0,y:0};let o=a.length-1,r=null;const c=Uv(a);for(;o>=0&&(r=a[o],!(c.timestamp-r.timestamp>Ta(i)));)o--;if(!r)return{x:0,y:0};const d=Ma(c.timestamp-r.timestamp);if(d===0)return{x:0,y:0};const m={x:(c.x-r.x)/d,y:(c.y-r.y)/d};return m.x===1/0&&(m.x=0),m.y===1/0&&(m.y=0),m}function $T(a,{min:i,max:o},r){return i!==void 0&&a<i?a=r?Fe(i,a,r.min):Math.max(a,i):o!==void 0&&a>o&&(a=r?Fe(o,a,r.max):Math.min(a,o)),a}function Ty(a,i,o){return{min:i!==void 0?a.min+i:void 0,max:o!==void 0?a.max+o-(a.max-a.min):void 0}}function ZT(a,{top:i,left:o,bottom:r,right:c}){return{x:Ty(a.x,o,c),y:Ty(a.y,i,r)}}function My(a,i){let o=i.min-a.min,r=i.max-a.max;return i.max-i.min<a.max-a.min&&([o,r]=[r,o]),{min:o,max:r}}function WT(a,i){return{x:My(a.x,i.x),y:My(a.y,i.y)}}function JT(a,i){let o=.5;const r=Et(a),c=Et(i);return c>r?o=co(i.min,i.max-r,a.min):r>c&&(o=co(a.min,a.max-c,i.min)),Fa(0,1,o)}function e3(a,i){const o={};return i.min!==void 0&&(o.min=i.min-a.min),i.max!==void 0&&(o.max=i.max-a.min),o}const vd=.35;function t3(a=vd){return a===!1?a=0:a===!0&&(a=vd),{x:Ay(a,"left","right"),y:Ay(a,"top","bottom")}}function Ay(a,i,o){return{min:Ny(a,i),max:Ny(a,o)}}function Ny(a,i){return typeof a=="number"?a:a[i]||0}const a3=new WeakMap;class n3{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=i}start(i,{snapToCursor:o=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const c=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),o&&this.snapToCursor(_o(g).point)},d=(g,v)=>{const{drag:_,dragPropagation:x,onDragStart:T}=this.getProps();if(_&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gI(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ra(I=>{let E=this.getAxisMotionValue(I).get()||0;if(Aa.test(E)){const{projection:R}=this.visualElement;if(R&&R.layout){const w=R.layout.layoutBox[I];w&&(E=Et(w)*(parseFloat(E)/100))}}this.originPoint[I]=E}),T&&Xe.postRender(()=>T(g,v)),hd(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},m=(g,v)=>{const{dragPropagation:_,dragDirectionLock:x,onDirectionLock:T,onDrag:M}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=v;if(x&&this.currentDirection===null){this.currentDirection=i3(I),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,I),this.updateAxis("y",v.point,I),this.visualElement.render(),M&&M(g,v)},p=(g,v)=>this.stop(g,v),y=()=>ra(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Pv(i,{onSessionStart:c,onStart:d,onMove:m,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:Rv(this.visualElement)})}stop(i,o){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Xe.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:i,animationState:o}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(i,o,r){const{drag:c}=this.getProps();if(!r||!Lr(i,c,this.currentDirection))return;const d=this.getAxisMotionValue(i);let m=this.originPoint[i]+r[i];this.constraints&&this.constraints[i]&&(m=$T(m,this.constraints[i],this.elastic[i])),d.set(m)}resolveConstraints(){var d;const{dragConstraints:i,dragElastic:o}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(d=this.visualElement.projection)==null?void 0:d.layout,c=this.constraints;i&&zi(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&r?this.constraints=ZT(r.layoutBox,i):this.constraints=!1,this.elastic=t3(o),c!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ra(m=>{this.constraints!==!1&&this.getAxisMotionValue(m)&&(this.constraints[m]=e3(r.layoutBox[m],this.constraints[m]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:o}=this.getProps();if(!i||!zi(i))return!1;const r=i.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const d=FT(r,c.root,this.visualElement.getTransformPagePoint());let m=WT(c.layout.layoutBox,d);if(o){const p=o(kT(m));this.hasMutatedConstraints=!!p,p&&(m=Nv(p))}return m}startAnimation(i){const{drag:o,dragMomentum:r,dragElastic:c,dragTransition:d,dragSnapToOrigin:m,onDragTransitionEnd:p}=this.getProps(),y=this.constraints||{},h=ra(g=>{if(!Lr(g,o,this.currentDirection))return;let v=y&&y[g]||{};m&&(v={min:0,max:0});const _=c?200:1e6,x=c?40:1e7,T={type:"inertia",velocity:r?i[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...d,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(h).then(p)}startAxisValueAnimation(i,o){const r=this.getAxisMotionValue(i);return hd(this.visualElement,i),r.start(lm(i,r,0,o,this.visualElement,!1))}stopAnimation(){ra(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){ra(i=>{var o;return(o=this.getAxisMotionValue(i).animation)==null?void 0:o.pause()})}getAnimationState(i){var o;return(o=this.getAxisMotionValue(i).animation)==null?void 0:o.state}getAxisMotionValue(i){const o=`_drag${i.toUpperCase()}`,r=this.visualElement.getProps(),c=r[o];return c||this.visualElement.getValue(i,(r.initial?r.initial[i]:void 0)||0)}snapToCursor(i){ra(o=>{const{drag:r}=this.getProps();if(!Lr(o,r,this.currentDirection))return;const{projection:c}=this.visualElement,d=this.getAxisMotionValue(o);if(c&&c.layout){const{min:m,max:p}=c.layout.layoutBox[o];d.set(i[o]-Fe(m,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:o}=this.getProps(),{projection:r}=this.visualElement;if(!zi(o)||!r||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};ra(m=>{const p=this.getAxisMotionValue(m);if(p&&this.constraints!==!1){const y=p.get();c[m]=JT({min:y,max:y},this.constraints[m])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ra(m=>{if(!Lr(m,i,null))return;const p=this.getAxisMotionValue(m),{min:y,max:h}=this.constraints[m];p.set(Fe(y,h,c[m]))})}addListeners(){if(!this.visualElement.current)return;a3.set(this.visualElement,this);const i=this.visualElement.current,o=so(i,"pointerdown",y=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(y)}),r=()=>{const{dragConstraints:y}=this.getProps();zi(y)&&y.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,d=c.addEventListener("measure",r);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Xe.read(r);const m=go(window,"resize",()=>this.scalePositionWithinConstraints()),p=c.addEventListener("didUpdate",({delta:y,hasLayoutChanged:h})=>{this.isDragging&&h&&(ra(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=y[g].translate,v.set(v.get()+y[g].translate))}),this.visualElement.render())});return()=>{m(),o(),d(),p&&p()}}getProps(){const i=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:r=!1,dragPropagation:c=!1,dragConstraints:d=!1,dragElastic:m=vd,dragMomentum:p=!0}=i;return{...i,drag:o,dragDirectionLock:r,dragPropagation:c,dragConstraints:d,dragElastic:m,dragMomentum:p}}}function Lr(a,i,o){return(i===!0||i===a)&&(o===null||o===a)}function i3(a,i=10){let o=null;return Math.abs(a.y)>i?o="y":Math.abs(a.x)>i&&(o="x"),o}class s3 extends Tn{constructor(i){super(i),this.removeGroupControls=ca,this.removeListeners=ca,this.controls=new n3(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ca}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cy=a=>(i,o)=>{a&&Xe.postRender(()=>a(i,o))};class o3 extends Tn{constructor(){super(...arguments),this.removePointerDownListener=ca}onPointerDown(i){this.session=new Pv(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rv(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:o,onPan:r,onPanEnd:c}=this.node.getProps();return{onSessionStart:Cy(i),onStart:Cy(o),onMove:r,onEnd:(d,m)=>{delete this.session,c&&Xe.postRender(()=>c(d,m))}}}mount(){this.removePointerDownListener=so(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jy(a,i){return i.max===i.min?0:a/(i.max-i.min)*100}const Zs={correct:(a,i)=>{if(!i.target)return a;if(typeof a=="string")if(ge.test(a))a=parseFloat(a);else return a;const o=jy(a,i.target.x),r=jy(a,i.target.y);return`${o}% ${r}%`}},r3={correct:(a,{treeScale:i,projectionDelta:o})=>{const r=a,c=In.parse(a);if(c.length>5)return r;const d=In.createTransformer(a),m=typeof c[0]!="number"?1:0,p=o.x.scale*i.x,y=o.y.scale*i.y;c[0+m]/=p,c[1+m]/=y;const h=Fe(p,y,.5);return typeof c[2+m]=="number"&&(c[2+m]/=h),typeof c[3+m]=="number"&&(c[3+m]/=h),d(c)}};class l3 extends Y.Component{componentDidMount(){const{visualElement:i,layoutGroup:o,switchLayoutGroup:r,layoutId:c}=this.props,{projection:d}=i;FI(c3),d&&(o.group&&o.group.add(d),r&&r.register&&c&&r.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Gr.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:o,visualElement:r,drag:c,isPresent:d}=this.props,{projection:m}=r;return m&&(m.isPresent=d,c||i.layoutDependency!==o||o===void 0||i.isPresent!==d?m.willUpdate():this.safeToRemove(),i.isPresent!==d&&(d?m.promote():m.relegate()||Xe.postRender(()=>{const p=m.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),Zd.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:o,switchLayoutGroup:r}=this.props,{projection:c}=i;c&&(c.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(c),r&&r.deregister&&r.deregister(c))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function Ov(a){const[i,o]=cv(),r=Y.useContext(Cd);return u.jsx(l3,{...a,layoutGroup:r,switchLayoutGroup:Y.useContext(hv),isPresent:i,safeToRemove:o})}const c3={borderRadius:{...Zs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zs,borderTopRightRadius:Zs,borderBottomLeftRadius:Zs,borderBottomRightRadius:Zs,boxShadow:r3};function u3(a,i,o){const r=Mt(a)?a:Fi(a);return r.start(lm("",r,i,o)),r.animation}const d3=(a,i)=>a.depth-i.depth;class m3{constructor(){this.children=[],this.isDirty=!1}add(i){wd(this.children,i),this.isDirty=!0}remove(i){Dd(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(d3),this.isDirty=!1,this.children.forEach(i)}}function f3(a,i){const o=Lt.now(),r=({timestamp:c})=>{const d=c-o;d>=i&&(xn(r),a(d-i))};return Xe.setup(r,!0),()=>xn(r)}const kv=["TopLeft","TopRight","BottomLeft","BottomRight"],h3=kv.length,Ey=a=>typeof a=="string"?parseFloat(a):a,wy=a=>typeof a=="number"||ge.test(a);function p3(a,i,o,r,c,d){c?(a.opacity=Fe(0,o.opacity??1,g3(r)),a.opacityExit=Fe(i.opacity??1,0,y3(r))):d&&(a.opacity=Fe(i.opacity??1,o.opacity??1,r));for(let m=0;m<h3;m++){const p=`border${kv[m]}Radius`;let y=Dy(i,p),h=Dy(o,p);if(y===void 0&&h===void 0)continue;y||(y=0),h||(h=0),y===0||h===0||wy(y)===wy(h)?(a[p]=Math.max(Fe(Ey(y),Ey(h),r),0),(Aa.test(h)||Aa.test(y))&&(a[p]+="%")):a[p]=h}(i.rotate||o.rotate)&&(a.rotate=Fe(i.rotate||0,o.rotate||0,r))}function Dy(a,i){return a[i]!==void 0?a[i]:a.borderRadius}const g3=Lv(0,.5,E0),y3=Lv(.5,.95,ca);function Lv(a,i,o){return r=>r<a?0:r>i?1:o(co(a,i,r))}function Ry(a,i){a.min=i.min,a.max=i.max}function oa(a,i){Ry(a.x,i.x),Ry(a.y,i.y)}function Py(a,i){a.translate=i.translate,a.scale=i.scale,a.originPoint=i.originPoint,a.origin=i.origin}function Uy(a,i,o,r,c){return a-=i,a=nl(a,1/o,r),c!==void 0&&(a=nl(a,1/c,r)),a}function v3(a,i=0,o=1,r=.5,c,d=a,m=a){if(Aa.test(i)&&(i=parseFloat(i),i=Fe(m.min,m.max,i/100)-m.min),typeof i!="number")return;let p=Fe(d.min,d.max,r);a===d&&(p-=i),a.min=Uy(a.min,i,o,p,c),a.max=Uy(a.max,i,o,p,c)}function Oy(a,i,[o,r,c],d,m){v3(a,i[o],i[r],i[c],i.scale,d,m)}const b3=["x","scaleX","originX"],_3=["y","scaleY","originY"];function ky(a,i,o,r){Oy(a.x,i,b3,o?o.x:void 0,r?r.x:void 0),Oy(a.y,i,_3,o?o.y:void 0,r?r.y:void 0)}function Ly(a){return a.translate===0&&a.scale===1}function Vv(a){return Ly(a.x)&&Ly(a.y)}function Vy(a,i){return a.min===i.min&&a.max===i.max}function S3(a,i){return Vy(a.x,i.x)&&Vy(a.y,i.y)}function qy(a,i){return Math.round(a.min)===Math.round(i.min)&&Math.round(a.max)===Math.round(i.max)}function qv(a,i){return qy(a.x,i.x)&&qy(a.y,i.y)}function zy(a){return Et(a.x)/Et(a.y)}function By(a,i){return a.translate===i.translate&&a.scale===i.scale&&a.originPoint===i.originPoint}class x3{constructor(){this.members=[]}add(i){wd(this.members,i),i.scheduleRender()}remove(i){if(Dd(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(i){const o=this.members.findIndex(c=>i===c);if(o===0)return!1;let r;for(let c=o;c>=0;c--){const d=this.members[c];if(d.isPresent!==!1){r=d;break}}return r?(this.promote(r),!0):!1}promote(i,o){const r=this.lead;if(i!==r&&(this.prevLead=r,this.lead=i,i.show(),r)){r.instance&&r.scheduleRender(),i.scheduleRender(),i.resumeFrom=r,o&&(i.resumeFrom.preserveOpacity=!0),r.snapshot&&(i.snapshot=r.snapshot,i.snapshot.latestValues=r.animationValues||r.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:c}=i.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:o,resumingFrom:r}=i;o.onExitComplete&&o.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function I3(a,i,o){let r="";const c=a.x.translate/i.x,d=a.y.translate/i.y,m=(o==null?void 0:o.z)||0;if((c||d||m)&&(r=`translate3d(${c}px, ${d}px, ${m}px) `),(i.x!==1||i.y!==1)&&(r+=`scale(${1/i.x}, ${1/i.y}) `),o){const{transformPerspective:h,rotate:g,rotateX:v,rotateY:_,skewX:x,skewY:T}=o;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const p=a.x.scale*i.x,y=a.y.scale*i.y;return(p!==1||y!==1)&&(r+=`scale(${p}, ${y})`),r||"none"}const Xu=["","X","Y","Z"],T3={visibility:"hidden"},M3=1e3;let A3=0;function Qu(a,i,o,r){const{latestValues:c}=i;c[a]&&(o[a]=c[a],i.setStaticValue(a,0),r&&(r[a]=0))}function zv(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:i}=a.options;if(!i)return;const o=Iv(i);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:c,layoutId:d}=a.options;window.MotionCancelOptimisedAnimation(o,"transform",Xe,!(c||d))}const{parent:r}=a;r&&!r.hasCheckedOptimisedAppear&&zv(r)}function Bv({attachResizeListener:a,defaultParent:i,measureScroll:o,checkIsScrollRoot:r,resetTransform:c}){return class{constructor(m={},p=i==null?void 0:i()){this.id=A3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j3),this.nodes.forEach(P3),this.nodes.forEach(U3),this.nodes.forEach(E3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=m,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new m3)}addEventListener(m,p){return this.eventHandlers.has(m)||this.eventHandlers.set(m,new Ud),this.eventHandlers.get(m).add(p)}notifyListeners(m,...p){const y=this.eventHandlers.get(m);y&&y.notify(...p)}hasListeners(m){return this.eventHandlers.has(m)}mount(m){if(this.instance)return;this.isSVG=lv(m)&&!xI(m),this.instance=m;const{layoutId:p,layout:y,visualElement:h}=this.options;if(h&&!h.current&&h.mount(m),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||p)&&(this.isLayoutDirty=!0),a){let g;const v=()=>this.root.updateBlockedByResize=!1;a(m,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=f3(v,250),Gr.hasAnimatedSinceResize&&(Gr.hasAnimatedSinceResize=!1,this.nodes.forEach(Gy))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&h&&(p||y)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||q3,{onLayoutAnimationStart:M,onLayoutAnimationComplete:I}=h.getProps(),E=!this.targetLayout||!qv(this.targetLayout,x),R=!v&&_;if(this.options.layoutRoot||this.resumeFrom||R||v&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,R);const w={...Kd(T,"layout"),onPlay:M,onComplete:I};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else v||Gy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const m=this.getStack();m&&m.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O3),this.animationId++)}getTransformTemplate(){const{visualElement:m}=this.options;return m&&m.getProps().transformTemplate}willUpdate(m=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:p,layout:y}=this.options;if(p===void 0&&!y)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),m&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yy);return}this.isUpdating||this.nodes.forEach(D3),this.isUpdating=!1,this.nodes.forEach(R3),this.nodes.forEach(N3),this.nodes.forEach(C3),this.clearAllSnapshots();const p=Lt.now();bt.delta=Fa(0,1e3/60,p-bt.timestamp),bt.timestamp=p,bt.isProcessing=!0,Vu.update.process(bt),Vu.preRender.process(bt),Vu.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w3),this.sharedNodes.forEach(k3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Et(this.snapshot.measuredBox.x)&&!Et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const m=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,m?m.layoutBox:void 0)}updateScroll(m="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===m&&(p=!1),p&&this.instance){const y=r(this.instance);this.scroll={animationId:this.root.animationId,phase:m,isRoot:y,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!c)return;const m=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!Vv(this.projectionDelta),y=this.getTransformTemplate(),h=y?y(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;m&&this.instance&&(p||Gn(this.latestValues)||g)&&(c(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(m=!0){const p=this.measurePageBox();let y=this.removeElementScroll(p);return m&&(y=this.removeTransform(y)),z3(y),{animationId:this.root.animationId,measuredBox:p,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:m}=this.options;if(!m)return at();const p=m.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(B3))){const{scroll:g}=this.root;g&&(Yi(p.x,g.offset.x),Yi(p.y,g.offset.y))}return p}removeElementScroll(m){var y;const p=at();if(oa(p,m),(y=this.scroll)!=null&&y.wasRoot)return p;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:v,options:_}=g;g!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&oa(p,m),Yi(p.x,v.offset.x),Yi(p.y,v.offset.y))}return p}applyTransform(m,p=!1){const y=at();oa(y,m);for(let h=0;h<this.path.length;h++){const g=this.path[h];!p&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Gi(y,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Gn(g.latestValues)&&Gi(y,g.latestValues)}return Gn(this.latestValues)&&Gi(y,this.latestValues),y}removeTransform(m){const p=at();oa(p,m);for(let y=0;y<this.path.length;y++){const h=this.path[y];if(!h.instance||!Gn(h.latestValues))continue;gd(h.latestValues)&&h.updateSnapshot();const g=at(),v=h.measurePageBox();oa(g,v),ky(p,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Gn(this.latestValues)&&ky(p,this.latestValues),p}setTargetDelta(m){this.targetDelta=m,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(m){this.options={...this.options,...m,crossfade:m.crossfade!==void 0?m.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(m=!1){var _;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==p;if(!(m||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),ro(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oa(this.target,this.layout.layoutBox),wv(this.target,this.targetDelta)):oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),ro(this.relativeTargetOrigin,this.target,x.target),oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gd(this.parent.latestValues)||Ev(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const m=this.getLead(),p=!!this.resumingFrom||this!==m;let y=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(y=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(y=!1),y)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;oa(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;HT(this.layoutCorrected,this.treeScale,this.path,p),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=at());const{target:x}=m;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Py(this.prevProjectionDelta.x,this.projectionDelta.x),Py(this.prevProjectionDelta.y,this.projectionDelta.y)),oo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!By(this.projectionDelta.x,this.prevProjectionDelta.x)||!By(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(m=!0){var p;if((p=this.options.visualElement)==null||p.scheduleRender(),m){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bi(),this.projectionDelta=Bi(),this.projectionDeltaWithTransform=Bi()}setAnimationOrigin(m,p=!1){const y=this.snapshot,h=y?y.latestValues:{},g={...this.latestValues},v=Bi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const _=at(),x=y?y.source:void 0,T=this.layout?this.layout.source:void 0,M=x!==T,I=this.getStack(),E=!I||I.members.length<=1,R=!!(M&&!E&&this.options.crossfade===!0&&!this.path.some(V3));this.animationProgress=0;let w;this.mixTargetDelta=O=>{const k=O/1e3;Hy(v.x,m.x,k),Hy(v.y,m.y,k),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ro(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L3(this.relativeTarget,this.relativeTargetOrigin,_,k),w&&S3(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=at()),oa(w,this.relativeTarget)),M&&(this.animationValues=g,p3(g,h,this.latestValues,k,R,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(m){var p,y,h;this.notifyListeners("animationStart"),(p=this.currentAnimation)==null||p.stop(!1),(h=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||h.stop(!1),this.pendingAnimation&&(xn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Gr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fi(0)),this.currentAnimation=u3(this.motionValue,[0,1e3],{...m,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),m.onUpdate&&m.onUpdate(g)},onStop:()=>{},onComplete:()=>{m.onComplete&&m.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const m=this.getStack();m&&m.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M3),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const m=this.getLead();let{targetWithTransforms:p,target:y,layout:h,latestValues:g}=m;if(!(!p||!y||!h)){if(this!==m&&this.layout&&h&&Yv(this.options.animationType,this.layout.layoutBox,h.layoutBox)){y=this.target||at();const v=Et(this.layout.layoutBox.x);y.x.min=m.target.x.min,y.x.max=y.x.min+v;const _=Et(this.layout.layoutBox.y);y.y.min=m.target.y.min,y.y.max=y.y.min+_}oa(p,y),Gi(p,g),oo(this.projectionDeltaWithTransform,this.layoutCorrected,p,g)}}registerSharedNode(m,p){this.sharedNodes.has(m)||this.sharedNodes.set(m,new x3),this.sharedNodes.get(m).add(p);const h=p.options.initialPromotionConfig;p.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(p):void 0})}isLead(){const m=this.getStack();return m?m.lead===this:!0}getLead(){var p;const{layoutId:m}=this.options;return m?((p=this.getStack())==null?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:m}=this.options;return m?(p=this.getStack())==null?void 0:p.prevLead:void 0}getStack(){const{layoutId:m}=this.options;if(m)return this.root.sharedNodes.get(m)}promote({needsReset:m,transition:p,preserveFollowOpacity:y}={}){const h=this.getStack();h&&h.promote(this,y),m&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const m=this.getStack();return m?m.relegate(this):!1}resetSkewAndRotation(){const{visualElement:m}=this.options;if(!m)return;let p=!1;const{latestValues:y}=m;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(p=!0),!p)return;const h={};y.z&&Qu("z",m,h,this.animationValues);for(let g=0;g<Xu.length;g++)Qu(`rotate${Xu[g]}`,m,h,this.animationValues),Qu(`skew${Xu[g]}`,m,h,this.animationValues);m.render();for(const g in h)m.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);m.scheduleRender()}getProjectionStyles(m){if(!this.instance||this.isSVG)return;if(!this.isVisible)return T3;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Yr(m==null?void 0:m.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Yr(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Gn(this.latestValues)&&(x.transform=y?y({},""):"none",this.hasProjected=!1),x}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),p.transform=I3(this.projectionDeltaWithTransform,this.treeScale,g),y&&(p.transform=y(g,p.transform));const{x:v,y:_}=this.projectionDelta;p.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,h.animationValues?p.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:p.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in ho){if(g[x]===void 0)continue;const{correct:T,applyTo:M,isCSSVariable:I}=ho[x],E=p.transform==="none"?g[x]:T(g[x],h);if(M){const R=M.length;for(let w=0;w<R;w++)p[M[w]]=E}else I?this.options.visualElement.renderState.vars[x]=E:p[x]=E}return this.options.layoutId&&(p.pointerEvents=h===this?Yr(m==null?void 0:m.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(m=>{var p;return(p=m.currentAnimation)==null?void 0:p.stop(!1)}),this.root.nodes.forEach(Yy),this.root.sharedNodes.clear()}}}function N3(a){a.updateLayout()}function C3(a){var o;const i=((o=a.resumeFrom)==null?void 0:o.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&i&&a.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:c}=a.layout,{animationType:d}=a.options,m=i.source!==a.layout.source;d==="size"?ra(v=>{const _=m?i.measuredBox[v]:i.layoutBox[v],x=Et(_);_.min=r[v].min,_.max=_.min+x}):Yv(d,i.layoutBox,r)&&ra(v=>{const _=m?i.measuredBox[v]:i.layoutBox[v],x=Et(r[v]);_.max=_.min+x,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[v].max=a.relativeTarget[v].min+x)});const p=Bi();oo(p,r,i.layoutBox);const y=Bi();m?oo(y,a.applyTransform(c,!0),i.measuredBox):oo(y,r,i.layoutBox);const h=!Vv(p);let g=!1;if(!a.resumeFrom){const v=a.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:x}=v;if(_&&x){const T=at();ro(T,i.layoutBox,_.layoutBox);const M=at();ro(M,r,x.layoutBox),qv(T,M)||(g=!0),v.options.layoutRoot&&(a.relativeTarget=M,a.relativeTargetOrigin=T,a.relativeParent=v)}}}a.notifyListeners("didUpdate",{layout:r,snapshot:i,delta:y,layoutDelta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(a.isLead()){const{onExitComplete:r}=a.options;r&&r()}a.options.transition=void 0}function j3(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function E3(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function w3(a){a.clearSnapshot()}function Yy(a){a.clearMeasurements()}function D3(a){a.isLayoutDirty=!1}function R3(a){const{visualElement:i}=a.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),a.resetTransform()}function Gy(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function P3(a){a.resolveTargetDelta()}function U3(a){a.calcProjection()}function O3(a){a.resetSkewAndRotation()}function k3(a){a.removeLeadSnapshot()}function Hy(a,i,o){a.translate=Fe(i.translate,0,o),a.scale=Fe(i.scale,1,o),a.origin=i.origin,a.originPoint=i.originPoint}function Fy(a,i,o,r){a.min=Fe(i.min,o.min,r),a.max=Fe(i.max,o.max,r)}function L3(a,i,o,r){Fy(a.x,i.x,o.x,r),Fy(a.y,i.y,o.y,r)}function V3(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const q3={duration:.45,ease:[.4,0,.1,1]},Xy=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),Qy=Xy("applewebkit/")&&!Xy("chrome/")?Math.round:ca;function Ky(a){a.min=Qy(a.min),a.max=Qy(a.max)}function z3(a){Ky(a.x),Ky(a.y)}function Yv(a,i,o){return a==="position"||a==="preserve-aspect"&&!YT(zy(i),zy(o),.2)}function B3(a){var i;return a!==a.root&&((i=a.scroll)==null?void 0:i.wasRoot)}const Y3=Bv({attachResizeListener:(a,i)=>go(a,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ku={current:void 0},Gv=Bv({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Ku.current){const a=new Y3({});a.mount(window),a.setOptions({layoutScroll:!0}),Ku.current=a}return Ku.current},resetTransform:(a,i)=>{a.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),G3={pan:{Feature:o3},drag:{Feature:s3,ProjectionNode:Gv,MeasureLayout:Ov}};function $y(a,i,o){const{props:r}=a;a.animationState&&r.whileHover&&a.animationState.setActive("whileHover",o==="Start");const c="onHover"+o,d=r[c];d&&Xe.postRender(()=>d(i,_o(i)))}class H3 extends Tn{mount(){const{current:i}=this.node;i&&(this.unmount=yI(i,(o,r)=>($y(this.node,r,"Start"),c=>$y(this.node,c,"End"))))}unmount(){}}class F3 extends Tn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yo(go(this.node.current,"focus",()=>this.onFocus()),go(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zy(a,i,o){const{props:r}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&r.whileTap&&a.animationState.setActive("whileTap",o==="Start");const c="onTap"+(o==="End"?"":o),d=r[c];d&&Xe.postRender(()=>d(i,_o(i)))}class X3 extends Tn{mount(){const{current:i}=this.node;i&&(this.unmount=SI(i,(o,r)=>(Zy(this.node,r,"Start"),(c,{success:d})=>Zy(this.node,c,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bd=new WeakMap,$u=new WeakMap,Q3=a=>{const i=bd.get(a.target);i&&i(a)},K3=a=>{a.forEach(Q3)};function $3({root:a,...i}){const o=a||document;$u.has(o)||$u.set(o,{});const r=$u.get(o),c=JSON.stringify(i);return r[c]||(r[c]=new IntersectionObserver(K3,{root:a,...i})),r[c]}function Z3(a,i,o){const r=$3(i);return bd.set(a,o),r.observe(a),()=>{bd.delete(a),r.unobserve(a)}}const W3={some:0,all:1};class J3 extends Tn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:o,margin:r,amount:c="some",once:d}=i,m={root:o?o.current:void 0,rootMargin:r,threshold:typeof c=="number"?c:W3[c]},p=y=>{const{isIntersecting:h}=y;if(this.isInView===h||(this.isInView=h,d&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=h?g:v;_&&_(y)};return Z3(this.node.current,m,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:o}=this.node;["amount","margin","root"].some(e5(i,o))&&this.startObserver()}unmount(){}}function e5({viewport:a={}},{viewport:i={}}={}){return o=>a[o]!==i[o]}const t5={inView:{Feature:J3},tap:{Feature:X3},focus:{Feature:F3},hover:{Feature:H3}},a5={layout:{ProjectionNode:Gv,MeasureLayout:Ov}},_d={current:null},Hv={current:!1};function n5(){if(Hv.current=!0,!!Ed)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),i=()=>_d.current=a.matches;a.addListener(i),i()}else _d.current=!1}const i5=new WeakMap;function s5(a,i,o){for(const r in i){const c=i[r],d=o[r];if(Mt(c))a.addValue(r,c);else if(Mt(d))a.addValue(r,Fi(c,{owner:a}));else if(d!==c)if(a.hasValue(r)){const m=a.getValue(r);m.liveStyle===!0?m.jump(c):m.hasAnimated||m.set(c)}else{const m=a.getStaticValue(r);a.addValue(r,Fi(m!==void 0?m:c,{owner:a}))}}for(const r in o)i[r]===void 0&&a.removeValue(r);return i}const Wy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class o5{scrapeMotionValuesFromProps(i,o,r){return{}}constructor({parent:i,props:o,presenceContext:r,reducedMotionConfig:c,blockInitialAnimation:d,visualState:m},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Lt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Xe.render(this.render,!1,!0))};const{latestValues:y,renderState:h}=m;this.latestValues=y,this.baseTarget={...y},this.initialValues=o.initial?{...y}:{},this.renderState=h,this.parent=i,this.props=o,this.presenceContext=r,this.depth=i?i.depth+1:0,this.reducedMotionConfig=c,this.options=p,this.blockInitialAnimation=!!d,this.isControllingVariants=dl(o),this.isVariantNode=mv(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(o,{},this);for(const _ in v){const x=v[_];y[_]!==void 0&&Mt(x)&&x.set(y[_],!1)}}mount(i){this.current=i,i5.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,r)=>this.bindToMotionValue(r,o)),Hv.current||n5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_d.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xn(this.notifyUpdate),xn(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const o=this.features[i];o&&(o.unmount(),o.isMounted=!1)}this.current=null}bindToMotionValue(i,o){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const r=$i.has(i);r&&this.onBindTransform&&this.onBindTransform();const c=o.on("change",p=>{this.latestValues[i]=p,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),d=o.on("renderRequest",this.scheduleRender);let m;window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,i,o)),this.valueSubscriptions.set(i,()=>{c(),d(),m&&m(),o.owner&&o.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in Xi){const o=Xi[i];if(!o)continue;const{isEnabled:r,Feature:c}=o;if(!this.features[i]&&c&&r(this.props)&&(this.features[i]=new c(this)),this.features[i]){const d=this.features[i];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,o){this.latestValues[i]=o}update(i,o){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let r=0;r<Wy.length;r++){const c=Wy[r];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const d="on"+c,m=i[d];m&&(this.propEventSubscriptions[c]=this.on(c,m))}this.prevMotionValues=s5(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(i),()=>o.variantChildren.delete(i)}addValue(i,o){const r=this.values.get(i);o!==r&&(r&&this.removeValue(i),this.bindToMotionValue(i,o),this.values.set(i,o),this.latestValues[i]=o.get())}removeValue(i){this.values.delete(i);const o=this.valueSubscriptions.get(i);o&&(o(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,o){if(this.props.values&&this.props.values[i])return this.props.values[i];let r=this.values.get(i);return r===void 0&&o!==void 0&&(r=Fi(o===null?void 0:o,{owner:this}),this.addValue(i,r)),r}readValue(i,o){let r=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return r!=null&&(typeof r=="string"&&(_0(r)||x0(r))?r=parseFloat(r):!TI(r)&&In.test(o)&&(r=nv(i,o)),this.setBaseTarget(i,Mt(r)?r.get():r)),Mt(r)?r.get():r}setBaseTarget(i,o){this.baseTarget[i]=o}getBaseTarget(i){var d;const{initial:o}=this.props;let r;if(typeof o=="string"||typeof o=="object"){const m=om(this.props,o,(d=this.presenceContext)==null?void 0:d.custom);m&&(r=m[i])}if(o&&r!==void 0)return r;const c=this.getBaseTargetFromProps(this.props,i);return c!==void 0&&!Mt(c)?c:this.initialValues[i]!==void 0&&r===void 0?void 0:this.baseTarget[i]}on(i,o){return this.events[i]||(this.events[i]=new Ud),this.events[i].add(o)}notify(i,...o){this.events[i]&&this.events[i].notify(...o)}}class Fv extends o5{constructor(){super(...arguments),this.KeyframeResolver=mI}sortInstanceNodePosition(i,o){return i.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(i,o){return i.style?i.style[o]:void 0}removeValueFromRenderState(i,{vars:o,style:r}){delete o[i],delete r[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Mt(i)&&(this.childSubscription=i.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}function Xv(a,{style:i,vars:o},r,c){Object.assign(a.style,i,c&&c.getProjectionStyles(r));for(const d in o)a.style.setProperty(d,o[d])}function r5(a){return window.getComputedStyle(a)}class l5 extends Fv{constructor(){super(...arguments),this.type="html",this.renderInstance=Xv}readValueFromInstance(i,o){var r;if($i.has(o))return(r=this.projection)!=null&&r.isProjecting?rd(o):wx(i,o);{const c=r5(i),d=(Ld(o)?c.getPropertyValue(o):c[o])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(i,{transformPagePoint:o}){return Dv(i,o)}build(i,o,r){nm(i,o,r.transformTemplate)}scrapeMotionValuesFromProps(i,o,r){return rm(i,o,r)}}const Qv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c5(a,i,o,r){Xv(a,i,void 0,r);for(const c in i.attrs)a.setAttribute(Qv.has(c)?c:am(c),i.attrs[c])}class u5 extends Fv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=at}getBaseTargetFromProps(i,o){return i[o]}readValueFromInstance(i,o){if($i.has(o)){const r=av(o);return r&&r.default||0}return o=Qv.has(o)?o:am(o),i.getAttribute(o)}scrapeMotionValuesFromProps(i,o,r){return xv(i,o,r)}build(i,o,r){vv(i,o,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(i,o,r,c){c5(i,o,r,c)}mount(i){this.isSVGTag=_v(i.tagName),super.mount(i)}}const d5=(a,i)=>sm(a)?new u5(i):new l5(i,{allowProjection:a!==Y.Fragment}),m5=cT({...UT,...t5,...G3,...a5},d5),f5=PI(m5),h5={aethermancy:u.jsx(l0,{}),alteration:u.jsx(Md,{}),conjuration:u.jsx(Td,{}),elemental:u.jsx(c0,{}),illusion:u.jsx(Xn,{}),restoration:u.jsx(Ha,{}),necromancy:u.jsx(Qr,{}),divination:u.jsx(Id,{}),demonology:u.jsx(lo,{}),abjuration:u.jsx(Nd,{}),runecrafting:u.jsx(Js,{}),alchemy:u.jsx(Xr,{}),enchanting:u.jsx(Ha,{}),transmutation:u.jsx(Ad,{}),inscription:u.jsx(eo,{}),soulbinding:u.jsx(Xn,{}),mana:u.jsx(to,{})},Jy={xp:a=>({icon:h5[a.schoolId??""]||u.jsx(lo,{}),style:{"--school-color":`var(--${a.schoolId}-color, var(--primary-color))`}}),mana:()=>({icon:u.jsx(to,{}),style:{"--school-color":"var(--mana-color, #00bfff)"}}),manaEmpty:()=>({icon:u.jsx(to,{style:{opacity:.5,color:"#ff4d4f"}}),className:"mana-empty",style:{"--school-color":"#ff4d4f",background:"rgba(255, 77, 79, 0.15)",color:"#ff4d4f",borderColor:"#ff4d4f"}}),levelup:a=>({icon:u.jsx(oS,{}),className:"level-up",style:{"--school-color":`var(--${a.schoolId}-color, var(--primary-color))`}}),gold:()=>({icon:u.jsx(nS,{}),style:{"--school-color":"gold",background:"rgba(255, 215, 0, 0.15)",color:"#FFD700",borderColor:"#FFD700"}}),vault:()=>({icon:u.jsx(lS,{}),style:{"--school-color":"#3fa7ff",background:"rgba(63, 167, 255, 0.15)",color:"#3fa7ff",borderColor:"#3fa7ff"}}),item:a=>{let i=u.jsx(eS,{});return a.itemTypeId&&Ne[a.itemTypeId]&&(i=u.jsx("span",{style:{fontSize:"1.3em"},children:Ne[a.itemTypeId].icon})),{icon:i,style:{"--school-color":"var(--primary-color)",borderColor:"var(--primary-color)"}}},custom:a=>({icon:a.icon==="exclamation"?u.jsx(vg,{style:{color:"#dc3545"}}):a.icon?u.jsx("span",{style:{fontSize:"1.3em"},children:a.icon}):u.jsx(vg,{style:{color:"#dc3545"}}),style:{"--school-color":"var(--primary-color)"}}),manaFull:()=>({icon:u.jsx(to,{style:{color:"#00bfff"}}),className:"mana-full",style:{"--school-color":"#00bfff",background:"rgba(0, 191, 255, 0.15)",color:"#00bfff",borderColor:"#00bfff"}})},p5=()=>{const{notifications:a,removeNotification:i}=Le(),[o,r]=Y.useState([]),c=Y.useRef({}),[d,m]=Y.useState(!document.hidden);if(Y.useEffect(()=>{const y=()=>{m(!document.hidden)};return document.addEventListener("visibilitychange",y),()=>{document.removeEventListener("visibilitychange",y)}},[]),Y.useEffect(()=>{d||(Object.values(c.current).forEach(clearTimeout),c.current={},r([]))},[d]),Y.useEffect(()=>{d&&(r(y=>{const h=a.filter(g=>!y.some(v=>v.id===g.id));return[...y,...h]}),r(y=>y.filter(h=>a.some(g=>g.id===h.id))))},[a,d]),Y.useEffect(()=>{d&&(o.forEach(y=>{if(!c.current[y.id]){let h=3e3;c.current[y.id]=setTimeout(()=>{i(y.id)},h)}}),Object.keys(c.current).forEach(y=>{o.some(h=>h.id===y)||(clearTimeout(c.current[y]),delete c.current[y])}))},[o,d]),o.length===0)return null;const p=[...o].sort((y,h)=>h.timestamp-y.timestamp);return u.jsx("div",{className:"xp-notifications-container",children:u.jsx(jI,{children:p.map(y=>{const h=Jy[y.type]||Jy.custom,{icon:g,style:v,className:_}=h(y);return u.jsxs(f5.div,{className:`xp-notification${_?" "+_:""}`,style:v,layout:!0,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{type:"spring",stiffness:500,damping:30},children:[u.jsx("span",{className:"xp-notification-icon",children:g}),u.jsx("span",{className:"xp-notification-text",children:y.message})]},y.id)})})})};let e0=!1,Sd=!1;function t0(a){const i=Ce.getState().settings.debugMode;i&&console.log(`[AppLifecycle] setOnlineSystemApproved called with: ${a}`),Sd=a,Sd&&document.visibilityState==="visible"?(i&&console.log("[AppLifecycle] Online system approved and tab visible. Initializing training and passive mana systems."),sl(),ce.getState().simulateMissedPassiveMana(),ce.getState().startPassiveManaInterval()):(i&&console.log("[AppLifecycle] Online system NOT approved or tab hidden. Cleaning up training and passive mana systems."),Zr(),ce.getState().stopPassiveManaInterval())}function g5(){if(e0||typeof window>"u")return;Ce.getState().settings.debugMode&&console.log("[AppLifecycle] Initializing offline progress lifecycle listeners.");const i=()=>{const r=Ce.getState().settings.debugMode;r&&console.log("[AppLifecycle] beforeunload event triggered."),Pg(),_t.getState().updateLastSaveTime(),r&&console.log(`[AppLifecycle] Updated sessionStore.lastSaveTime to ${new Date(_t.getState().lastSaveTime).toISOString()} for beforeunload.`),Zr(),ce.getState().stopPassiveManaInterval()};window.addEventListener("beforeunload",i);const o=()=>{const r=Ce.getState().settings.debugMode;document.visibilityState==="hidden"?(r&&console.log("[AppLifecycle] visibilitychange:hidden event triggered. Stopping training and passive mana systems for offline calculations."),Pg(),_t.getState().updateLastSaveTime(),r&&console.log(`[AppLifecycle] Updated sessionStore.lastSaveTime due to visibility hidden to ${new Date(_t.getState().lastSaveTime).toISOString()}.`),Zr(),ce.getState().stopPassiveManaInterval()):document.visibilityState==="visible"&&(r&&console.log("[AppLifecycle] visibilitychange:visible event triggered."),Sd?(r&&console.log("[AppLifecycle] Tab became visible AND online system is approved. Re-initializing training and passive mana systems."),sl(),ce.getState().simulateMissedPassiveMana(),ce.getState().startPassiveManaInterval()):r&&console.log("[AppLifecycle] Tab became visible, but online system NOT YET approved by App.tsx. Training system remains paused."))};document.addEventListener("visibilitychange",o),e0=!0}const y5=a=>{const[i,o]=Y.useState(null),[r,c]=Y.useState(!1),d=Y.useRef(!1),m=Ce(),p=rt.persist.hasHydrated()&&ce.persist.hasHydrated()&&He.persist.hasHydrated()&&Je.persist.hasHydrated()&&be.persist.hasHydrated()&&_t.persist.hasHydrated()&&Zn.persist.hasHydrated()&&Ce.persist.hasHydrated();Y.useEffect(()=>{const h=m.settings.debugMode;if(h&&(console.log(`[useOfflineManager DEBUG] Main logic useEffect triggered. All relevant stores hydrated: ${p}, DidRunOfflineCheckRef: ${d.current}`),console.log("[useOfflineManager DEBUG] sessionStore.lastSaveTime at effect start:",_t.getState().lastSaveTime,"localStorage (raw):",typeof window<"u"?window.localStorage.getItem("session-storage"):"N/A")),!p){h&&console.log("[useOfflineManager DEBUG] Main logic useEffect: Not all relevant stores hydrated yet. Returning.");return}if(h&&console.log("[useOfflineManager DEBUG] All stores hydrated. sessionStore.lastSaveTime after hydration:",_t.getState().lastSaveTime),d.current){h&&console.log("[useOfflineManager DEBUG] Main logic useEffect: Offline check has already run for this mount/hydration cycle. Returning.");return}d.current=!0,h&&console.log("[useOfflineManager DEBUG] Main logic useEffect: Performing offline check now (didRunOfflineCheck set to true).");const g=Date.now(),v=rt.getState();h&&(console.log("[useOfflineManager] ===== START OFFLINE CHECK ====="),console.log("[useOfflineManager] All stores confirmed hydrated. CurrentTime:",new Date(g).toISOString()));let _=_t.getState().lastSaveTime;const x=_t.getState().lastSaveTime;if(x&&x>0)_=x;else if(typeof window<"u"){const T=Number(window.localStorage.getItem("lastSaveTime"));!isNaN(T)&&T>0&&(_=T)}if(h&&console.log("[useOfflineManager] EffectiveLastSaveTime from sessionStore:",_?new Date(_).toISOString():"N/A",`(${_})`),!_||_===0)h&&console.log("[useOfflineManager] No effectiveLastSaveTime. Skipping offline calculation AND popup."),v.activeTraining&&rt.setState(T=>({activeTraining:T.activeTraining?{...T.activeTraining,lastActionTime:g,lastSessionEndTime:g}:null}));else{const T=g-_;if(h&&console.log("[useOfflineManager] Calculated OfflineDurationMs:",T),console.log("[useOfflineManager DEBUG] lastSaveTime before offline check:",_,"currentTime:",g,"offlineDurationMs:",T),T<=2e3){h&&console.log(`[useOfflineManager] Offline duration ${T}ms is too short. SKIPPING POPUP.`);const M=ce.getState(),I=M.getModifiedPassiveManaPerSecond(),E=M.getMaxMana(),R=M.mana,w=Math.floor(I*(T/1e3)),O=E-R,k=Math.max(0,Math.min(w,O));k>0&&(ce.getState().addMana(k,"passive"),h&&console.log(`[useOfflineManager] Applied ${k} passive mana for short offline period.`)),v.activeTraining&&(rt.setState(G=>({activeTraining:G.activeTraining?{...G.activeTraining,lastActionTime:g,lastSessionEndTime:g}:null})),h&&console.log("[useOfflineManager] Synced active training lastActionTime and lastSessionEndTime due to short offline duration."))}else if(v.activeTraining){h&&console.log("[useOfflineManager] Active training found. Calculating progress. Snapshot:",v.activeTraining);const M={optionId:v.activeTraining.optionId,schoolId:v.activeTraining.schoolId,startTime:v.activeTraining.startTime,lastKnownActionTime:v.activeTraining.lastActionTime,lastKnownSessionEndTime:v.activeTraining.lastSessionEndTime},I=ce.getState(),E=Je.getState(),R=be.getState(),w={};for(const G of R.inventoryItems)w[G.typeId]||(w[G.typeId]=0),w[G.typeId]+=G.quantity;const O={lastSaveTime:_,currentTime:g,activeTrainingSnapshot:M,trainingOptions:Sn,currentMana:I.mana,maxMana:I.getMaxMana(),schoolXP:E.schoolXP,schoolLevels:E.schoolLevels,masteryXP:E.masteryXP,masteryLevels:E.masteryLevels,getRequiredXP:E.getRequiredXP,getRequiredMasteryXP:E.getRequiredMasteryXP,debugMode:h,inventoryItems:w},k=h0(O);if(h&&console.log("[useOfflineManager] Report from calculation service:",k),k&&(k.completedActions>0||k.xpGained>0||k.manaGained>0||Object.keys(k.itemsGenerated||{}).length>0))h&&console.log("[useOfflineManager] Calculated report HAS PROGRESS. Applying to stores and preparing popup."),p0(k,g),o(k),c(!0),h&&console.log('[useOfflineManager] Set report and visibility for "Calculated Progress" popup.');else{h&&console.log("[useOfflineManager] No significant progress from calculation (or null report), but training WAS active. Preparing minimal report for popup.");const G=ce.getState(),X=G.getModifiedPassiveManaPerSecond(),C=G.getMaxMana(),V=G.mana,z=Math.min(T,24*60*60*1e3),Z=Math.floor(X*(z/1e3)),se=C-V,ie=Math.max(0,Math.min(Z,se));ie>0&&(ce.getState().addMana(ie,"passive"),h&&console.log(`[useOfflineManager] Applied ${ie} passive mana for minimal report (active training, no progress).`));const he=v.activeTraining?Object.values(Sn).flat().find(q=>q.id===v.activeTraining.optionId):void 0,ue={schoolId:v.activeTraining?v.activeTraining.schoolId:"",xpGained:0,manaGained:0,completedActions:0,timeElapsedMs:T,initialLevel:v.activeTraining&&E.schoolLevels[v.activeTraining.schoolId]||1,finalLevel:v.activeTraining&&E.schoolLevels[v.activeTraining.schoolId]||1,levelsGained:0,itemsGenerated:{},noTraining:!1,actualOfflineMs:T,trainingDurationMs:0,passiveManaGained:ie,trainingOptionId:v.activeTraining?v.activeTraining.optionId:void 0,trainingOptionName:he?he.name:void 0};o(ue),c(!0),h&&console.log('[useOfflineManager] Set report and visibility for "Minimal Progress/Time Elapsed" popup.'),rt.getState().activeTraining&&(rt.setState(q=>({activeTraining:q.activeTraining?{...q.activeTraining,lastActionTime:g,lastSessionEndTime:g}:null})),h&&console.log("[useOfflineManager] Synced active training lastActionTime and lastSessionEndTime for minimal report case."))}}else{h&&console.log("[useOfflineManager] No active training. Preparing generic report for popup.");const M=ce.getState(),I=M.getModifiedPassiveManaPerSecond(),E=M.getMaxMana(),R=M.mana,w=Math.min(T,24*60*60*1e3),O=Math.floor(I*(w/1e3)),k=E-R,G=Math.max(0,Math.min(O,k));G>0&&(ce.getState().addMana(G,"passive"),h&&console.log(`[useOfflineManager] Applied ${G} passive mana for generic report (no training).`)),o({schoolId:"",xpGained:0,manaGained:G,passiveManaGained:G,completedActions:0,timeElapsedMs:T,initialLevel:0,finalLevel:0,levelsGained:0,itemsGenerated:{},noTraining:!0,actualOfflineMs:T,trainingDurationMs:0}),c(!0),h&&console.log('[useOfflineManager] Set report and visibility for "No Training" popup.')}}a&&(a(),h&&console.log("[useOfflineManager] Called onOfflineCheckComplete (end of single execution block).")),h&&(console.log("[useOfflineManager] ===== END OFFLINE CHECK (single execution block) ====="),console.log("[useOfflineManager DEBUG] sessionStore.lastSaveTime at end of this check block:",_t.getState().lastSaveTime))},[p,a]);const y=Y.useCallback(()=>{c(!1),o(null);const h=Date.now();if(rt.getState().activeTraining&&(rt.setState(g=>({activeTraining:g.activeTraining?{...g.activeTraining,lastActionTime:h,lastSessionEndTime:h}:null})),m.settings.debugMode)){const g=_t.getState().lastSaveTime;console.log(`[useOfflineManager] Popup closed. Updated sessionStore.lastSaveTime to: ${new Date(g).toISOString()} (${g})`)}},[m.settings.debugMode]);return{report:i,isPopupVisible:r,closePopup:y}};function v5(){const[a,i]=Y.useState(!1),o=Ce().settings;Y.useState(()=>(ju(!0),o.debugMode&&console.log("[App.tsx] Initial mount: setHydrating(true)."),null));const r=Y.useCallback(()=>{i(p=>p||(o.debugMode&&console.log("[App.tsx] Offline check complete callback received. Setting offlineProgressChecked to true."),!0))},[o.debugMode]),{report:c,isPopupVisible:d,closePopup:m}=y5(r);return Y.useEffect(()=>{o.debugMode&&console.log("[App.tsx] Initializing APP lifecycle listeners (beforeunload, visibilitychange)."),g5()},[o.debugMode]),Y.useEffect(()=>{a?(o.debugMode&&console.log("[App.tsx] offlineProgressChecked is TRUE. Approving online system."),t0(!0),ju(!1),o.debugMode&&console.log("[App.tsx] Hydration complete, setHydrating(false) called.")):(o.debugMode&&console.log("[App.tsx] offlineProgressChecked is FALSE. Online system NOT approved yet."),t0(!1))},[a,o.debugMode]),Y.useEffect(()=>{a&&(ju(!1),o.debugMode&&console.log("[App.tsx] Hydration complete, setHydrating(false) called."))},[a,o.debugMode]),o.debugMode&&console.log("[App.tsx RENDER] States -- showOfflineProgress:",d,"| offlineReport exists:",!!c,"| offlineProgressChecked:",a),u.jsxs("div",{className:"app",children:[u.jsx(xS,{}),u.jsx("div",{className:"game-content",children:u.jsx(C2,{})}),d&&c&&u.jsx(g0,{report:c,onClose:m}),u.jsx(p5,{})]})}g_.createRoot(document.getElementById("root")).render(u.jsx(Y.StrictMode,{children:u.jsx(SS,{children:u.jsx(v5,{})})}));
